.. index:: pair: class; cv::ShapeContextDistanceExtractor
.. _doxid-d0/d80/classcv_1_1_shape_context_distance_extractor:

class cv::ShapeContextDistanceExtractor
=======================================

.. toctree::
	:hidden:

Overview
~~~~~~~~

Implementation of the Shape Context descriptor and matching algorithm. :ref:`More...<details-d0/d80/classcv_1_1_shape_context_distance_extractor>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <shape_distance.hpp>
	
	class ShapeContextDistanceExtractor: public :ref:`cv::ShapeDistanceExtractor<doxid-d2/ddc/classcv_1_1_shape_distance_extractor>`
	{
	public:
		// methods
	
		virtual
		int
		:target:`getAngularBins<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a716ee70d5bcc92be5e21b0218f0c7c42>`() const = 0;
	
		virtual
		float
		:target:`getBendingEnergyWeight<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1af48249ecb97ebe2e3dd77e0f577a6040>`() const = 0;
	
		virtual
		:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`HistogramCostExtractor<doxid-d8/d30/classcv_1_1_histogram_cost_extractor>`>
		:target:`getCostExtractor<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a1a4f1383815ef2fb104219b8e7ce5a59>`() const = 0;
	
		virtual
		float
		:target:`getImageAppearanceWeight<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a0b53897717df4a5bbf1c771db3570cc2>`() const = 0;
	
		virtual
		void
		:target:`getImages<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a604802b751a0ea9f04dbb6c46f55481d>`(
			:ref:`OutputArray<doxid-dc/d84/group__core__basic_1gaad17fda1d0f0d1ee069aebb1df2913c0>` image1,
			:ref:`OutputArray<doxid-dc/d84/group__core__basic_1gaad17fda1d0f0d1ee069aebb1df2913c0>` image2
			) const = 0;
	
		virtual
		float
		:target:`getInnerRadius<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a7457e5058381462b1097dae4ce95bd90>`() const = 0;
	
		virtual
		int
		:target:`getIterations<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a919bc6fc762642c79dbc986f6232737c>`() const = 0;
	
		virtual
		float
		:target:`getOuterRadius<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a93c84275daf08dd91218c51d5f31bdad>`() const = 0;
	
		virtual
		int
		:target:`getRadialBins<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a31759a28f3cefba1693babf4a2faa81b>`() const = 0;
	
		virtual
		bool
		:target:`getRotationInvariant<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a9061cf4f352f79d934dfc12a03ae4fcb>`() const = 0;
	
		virtual
		float
		:target:`getShapeContextWeight<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a6115ab5821dfc92847271970e1363eaf>`() const = 0;
	
		virtual
		float
		:target:`getStdDev<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a0eb22f5b183f3e65ae2f6ea41d8be27f>`() const = 0;
	
		virtual
		:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`ShapeTransformer<doxid-db/d82/classcv_1_1_shape_transformer>`>
		:target:`getTransformAlgorithm<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1acd7c1e20479823593e7bdfa70fb8cab0>`() const = 0;
	
		virtual
		void
		:ref:`setAngularBins<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1aade984ec5eca56b0a7f5b8681d681c61>`(int nAngularBins) = 0;
	
		virtual
		void
		:ref:`setBendingEnergyWeight<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a576d05fc6eedd2353d5e03257d807808>`(float bendingEnergyWeight) = 0;
	
		virtual
		void
		:ref:`setCostExtractor<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a1d3a0258c206f4be2d3c518f1087f425>`(:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`HistogramCostExtractor<doxid-d8/d30/classcv_1_1_histogram_cost_extractor>`> comparer) = 0;
	
		virtual
		void
		:ref:`setImageAppearanceWeight<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a92798b785faa75fb7e41c2cee8ac19db>`(float imageAppearanceWeight) = 0;
	
		virtual
		void
		:ref:`setImages<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1abf94ec647328dcdf648157933f6f32b1>`(
			:ref:`InputArray<doxid-dc/d84/group__core__basic_1ga353a9de602fe76c709e12074a6f362ba>` image1,
			:ref:`InputArray<doxid-dc/d84/group__core__basic_1ga353a9de602fe76c709e12074a6f362ba>` image2
			) = 0;
	
		virtual
		void
		:ref:`setInnerRadius<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a1b9f6425a00d927f87ba77fb14b240bd>`(float innerRadius) = 0;
	
		virtual
		void
		:target:`setIterations<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1ac90e93665a0d5d27a69dfef3f47b4255>`(int iterations) = 0;
	
		virtual
		void
		:ref:`setOuterRadius<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1abe0a9db459ed820ceb884cdb95712c12>`(float outerRadius) = 0;
	
		virtual
		void
		:ref:`setRadialBins<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a601bedc2ff38e281f6bcc34d7d59c0fa>`(int nRadialBins) = 0;
	
		virtual
		void
		:target:`setRotationInvariant<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1aac3054da68894dbbac9ed6801eb50d32>`(bool rotationInvariant) = 0;
	
		virtual
		void
		:ref:`setShapeContextWeight<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1ac9ea3a1ce4a9e8767acef0a48a7cf8d6>`(float shapeContextWeight) = 0;
	
		virtual
		void
		:ref:`setStdDev<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a655e0cfadf3ca8e2acac038132841183>`(float sigma) = 0;
	
		virtual
		void
		:ref:`setTransformAlgorithm<doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a537e77faeb22ad21db4c3a45084019ef>`(:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`ShapeTransformer<doxid-db/d82/classcv_1_1_shape_transformer>`> transformer) = 0;
	};

Inherited Members
-----------------

.. ref-code-block:: cpp
	:class: doxyrest-overview-inherited-code-block

	public:
		// methods
	
		virtual
		void
		:ref:`clear<doxid-d1/d41/classcv_1_1_algorithm_1aec9c965448e4dc851d7cacd3abd84cd1>`();
	
		virtual
		bool
		:ref:`empty<doxid-d1/d41/classcv_1_1_algorithm_1ab6a18f1825475643e94381697d413972>`() const;
	
		virtual
		:ref:`String<doxid-dc/d0e/classcv_1_1_string>`
		:ref:`getDefaultName<doxid-d1/d41/classcv_1_1_algorithm_1a286fc82744ccab3d248aca44524266a9>`() const;
	
		virtual
		void
		:ref:`read<doxid-d1/d41/classcv_1_1_algorithm_1aef2ad3f4145bd6e8c3664eb1c4b5e1e6>`(const :ref:`FileNode<doxid-dc/d21/classcv_1_1_file_node>`& fn);
	
		virtual
		void
		:ref:`save<doxid-d1/d41/classcv_1_1_algorithm_1a0a880744bc4e3f45711444571df47d67>`(const :ref:`String<doxid-dc/d0e/classcv_1_1_string>`& filename) const;
	
		virtual
		void
		:ref:`write<doxid-d1/d41/classcv_1_1_algorithm_1a1f8ad7b8add515077367fb9949a174d2>`(:ref:`FileStorage<doxid-d9/df9/classcv_1_1_file_storage>`& fs) const;
	
		template <typename _Tp>
		static
		:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<_Tp>
		:ref:`load<doxid-d1/d41/classcv_1_1_algorithm_1a623841c33b58ea9c4847da04607e067b>`(
			const :ref:`String<doxid-dc/d0e/classcv_1_1_string>`& filename,
			const :ref:`String<doxid-dc/d0e/classcv_1_1_string>`& objname = :ref:`String<doxid-dc/d0e/classcv_1_1_string>`()
			);
	
		template <typename _Tp>
		static
		:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<_Tp>
		:ref:`loadFromString<doxid-d1/d41/classcv_1_1_algorithm_1a3ba305a10d02479c13cf7d169c321547>`(
			const :ref:`String<doxid-dc/d0e/classcv_1_1_string>`& strModel,
			const :ref:`String<doxid-dc/d0e/classcv_1_1_string>`& objname = :ref:`String<doxid-dc/d0e/classcv_1_1_string>`()
			);
	
		template <typename _Tp>
		static
		:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<_Tp>
		:ref:`read<doxid-d1/d41/classcv_1_1_algorithm_1ad8c591bacb34c485f5b7a250c314fc53>`(const :ref:`FileNode<doxid-dc/d21/classcv_1_1_file_node>`& fn);
	
		virtual
		float
		:ref:`computeDistance<doxid-d2/ddc/classcv_1_1_shape_distance_extractor_1aba29b7775eca6bd6c4b4f5e300094097>`(
			:ref:`InputArray<doxid-dc/d84/group__core__basic_1ga353a9de602fe76c709e12074a6f362ba>` contour1,
			:ref:`InputArray<doxid-dc/d84/group__core__basic_1ga353a9de602fe76c709e12074a6f362ba>` contour2
			) = 0;

	protected:
		// methods
	
		void
		:ref:`writeFormat<doxid-d1/d41/classcv_1_1_algorithm_1a68eeca71617474ad3d4561786f0289d2>`(:ref:`FileStorage<doxid-d9/df9/classcv_1_1_file_storage>`& fs) const;

.. _details-d0/d80/classcv_1_1_shape_context_distance_extractor:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

Implementation of the Shape Context descriptor and matching algorithm.

proposed by Belongie et al. in "Shape Matching and Object Recognition Using Shape Contexts" (PAMI 2002). This implementation is packaged in a generic scheme, in order to allow you the implementation of the common variations of the original pipeline.

Methods
-------

.. index:: pair: function; setAngularBins
.. _doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1aade984ec5eca56b0a7f5b8681d681c61:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	setAngularBins(int nAngularBins) = 0

Establish the number of angular bins for the Shape Context Descriptor used in the shape matching pipeline.



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- nAngularBins

		- The number of angular bins in the shape context descriptor.

.. index:: pair: function; setBendingEnergyWeight
.. _doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a576d05fc6eedd2353d5e03257d807808:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	setBendingEnergyWeight(float bendingEnergyWeight) = 0

Set the weight of the Bending Energy in the final value of the shape distance. The bending energy definition depends on what transformation is being used to align the shapes. The final value of the shape distance is a user-defined linear combination of the shape context distance, an image appearance distance, and a bending energy.



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- bendingEnergyWeight

		- The weight of the Bending Energy in the final distance value.

.. index:: pair: function; setCostExtractor
.. _doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a1d3a0258c206f4be2d3c518f1087f425:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	setCostExtractor(:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`HistogramCostExtractor<doxid-d8/d30/classcv_1_1_histogram_cost_extractor>`> comparer) = 0

Set the algorithm used for building the shape context descriptor cost matrix.



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- comparer

		- Smart pointer to a :ref:`HistogramCostExtractor <doxid-d8/d30/classcv_1_1_histogram_cost_extractor>`, an algorithm that defines the cost matrix between descriptors.

.. index:: pair: function; setImageAppearanceWeight
.. _doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a92798b785faa75fb7e41c2cee8ac19db:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	setImageAppearanceWeight(float imageAppearanceWeight) = 0

Set the weight of the Image Appearance cost in the final value of the shape distance. The image appearance cost is defined as the sum of squared brightness differences in Gaussian windows around corresponding image points. The final value of the shape distance is a user-defined linear combination of the shape context distance, an image appearance distance, and a bending energy. If this value is set to a number different from 0, is mandatory to set the images that correspond to each shape.



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- imageAppearanceWeight

		- The weight of the appearance cost in the final distance value.

.. index:: pair: function; setImages
.. _doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1abf94ec647328dcdf648157933f6f32b1:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	setImages(
		:ref:`InputArray<doxid-dc/d84/group__core__basic_1ga353a9de602fe76c709e12074a6f362ba>` image1,
		:ref:`InputArray<doxid-dc/d84/group__core__basic_1ga353a9de602fe76c709e12074a6f362ba>` image2
		) = 0

Set the images that correspond to each shape. This images are used in the calculation of the Image Appearance cost.



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- image1

		- Image corresponding to the shape defined by contours1.

	*
		- image2

		- Image corresponding to the shape defined by contours2.

.. index:: pair: function; setInnerRadius
.. _doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a1b9f6425a00d927f87ba77fb14b240bd:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	setInnerRadius(float innerRadius) = 0

Set the inner radius of the shape context descriptor.



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- innerRadius

		- The value of the inner radius.

.. index:: pair: function; setOuterRadius
.. _doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1abe0a9db459ed820ceb884cdb95712c12:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	setOuterRadius(float outerRadius) = 0

Set the outer radius of the shape context descriptor.



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- outerRadius

		- The value of the outer radius.

.. index:: pair: function; setRadialBins
.. _doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a601bedc2ff38e281f6bcc34d7d59c0fa:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	setRadialBins(int nRadialBins) = 0

Establish the number of radial bins for the Shape Context Descriptor used in the shape matching pipeline.



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- nRadialBins

		- The number of radial bins in the shape context descriptor.

.. index:: pair: function; setShapeContextWeight
.. _doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1ac9ea3a1ce4a9e8767acef0a48a7cf8d6:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	setShapeContextWeight(float shapeContextWeight) = 0

Set the weight of the shape context distance in the final value of the shape distance. The shape context distance between two shapes is defined as the symmetric sum of shape context matching costs over best matching points. The final value of the shape distance is a user-defined linear combination of the shape context distance, an image appearance distance, and a bending energy.



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- shapeContextWeight

		- The weight of the shape context distance in the final distance value.

.. index:: pair: function; setStdDev
.. _doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a655e0cfadf3ca8e2acac038132841183:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	setStdDev(float sigma) = 0

Set the value of the standard deviation for the Gaussian window for the image appearance cost.



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- sigma

		- Standard Deviation.

.. index:: pair: function; setTransformAlgorithm
.. _doxid-d0/d80/classcv_1_1_shape_context_distance_extractor_1a537e77faeb22ad21db4c3a45084019ef:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	setTransformAlgorithm(:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`ShapeTransformer<doxid-db/d82/classcv_1_1_shape_transformer>`> transformer) = 0

Set the algorithm used for aligning the shapes.



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- transformer

		- Smart pointer to a :ref:`ShapeTransformer <doxid-db/d82/classcv_1_1_shape_transformer>`, an algorithm that defines the aligning transformation.

