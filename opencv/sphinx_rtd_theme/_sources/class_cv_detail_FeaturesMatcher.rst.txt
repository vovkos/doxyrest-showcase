.. index:: pair: class; cv::detail::FeaturesMatcher
.. _doxid-d2/da0/classcv_1_1detail_1_1_features_matcher:

class cv::detail::FeaturesMatcher
=================================

.. toctree::
	:hidden:

Overview
~~~~~~~~

Feature matchers base class. :ref:`More...<details-d2/da0/classcv_1_1detail_1_1_features_matcher>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <matchers.hpp>
	
	class FeaturesMatcher
	{
	public:
		// methods
	
		virtual
		void
		:ref:`collectGarbage<doxid-d2/da0/classcv_1_1detail_1_1_features_matcher_1a8520ff70e51e0bb138891ce410abf6e4>`();
	
		bool
		:ref:`isThreadSafe<doxid-d2/da0/classcv_1_1detail_1_1_features_matcher_1a0bcd4038054223f4cda9f6c3eb7e7c11>`() const;
	
		void
		:ref:`operator()<doxid-d2/da0/classcv_1_1detail_1_1_features_matcher_1a5d5793f2f71bae1cb72acc3e95d069df>`(
			const :ref:`ImageFeatures<doxid-d4/dbe/structcv_1_1detail_1_1_image_features>`& features1,
			const :ref:`ImageFeatures<doxid-d4/dbe/structcv_1_1detail_1_1_image_features>`& features2,
			:ref:`MatchesInfo<doxid-d2/d99/structcv_1_1detail_1_1_matches_info>`& matches_info
			);
	
		void
		:ref:`operator()<doxid-d2/da0/classcv_1_1detail_1_1_features_matcher_1a2df19558a646700d9543841cafae4bc2>`(
			const std::vector<:ref:`ImageFeatures<doxid-d4/dbe/structcv_1_1detail_1_1_image_features>`>& features,
			std::vector<:ref:`MatchesInfo<doxid-d2/d99/structcv_1_1detail_1_1_matches_info>`>& pairwise_matches,
			const :ref:`cv::UMat<doxid-d8/d82/classcv_1_1_u_mat>`& mask = :ref:`cv::UMat<doxid-d8/d82/classcv_1_1_u_mat>`()
			);

	protected:
		// fields
	
		bool :target:`is_thread_safe_<doxid-d2/da0/classcv_1_1detail_1_1_features_matcher_1ae3b24af101c26164a5a253b7d1c37dda>`;

		// construction
	
		:target:`FeaturesMatcher<doxid-d2/da0/classcv_1_1detail_1_1_features_matcher_1a24ba277980b3f2d220f2a0b01c527569>`(bool is_thread_safe = false);

		// methods
	
		virtual
		void
		:ref:`match<doxid-d2/da0/classcv_1_1detail_1_1_features_matcher_1a22005bcc8bf637398b2a325121b44bb1>`(
			const :ref:`ImageFeatures<doxid-d4/dbe/structcv_1_1detail_1_1_image_features>`& features1,
			const :ref:`ImageFeatures<doxid-d4/dbe/structcv_1_1detail_1_1_image_features>`& features2,
			:ref:`MatchesInfo<doxid-d2/d99/structcv_1_1detail_1_1_matches_info>`& matches_info
			) = 0;
	};

	// direct descendants

	class :ref:`BestOf2NearestMatcher<doxid-d1/d16/classcv_1_1detail_1_1_best_of2_nearest_matcher>`;
.. _details-d2/da0/classcv_1_1detail_1_1_features_matcher:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

Feature matchers base class.

Methods
-------

.. index:: pair: function; collectGarbage
.. _doxid-d2/da0/classcv_1_1detail_1_1_features_matcher_1a8520ff70e51e0bb138891ce410abf6e4:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	collectGarbage()

Frees unused memory allocated before if there is any.

.. index:: pair: function; isThreadSafe
.. _doxid-d2/da0/classcv_1_1detail_1_1_features_matcher_1a0bcd4038054223f4cda9f6c3eb7e7c11:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	isThreadSafe() const



.. rubric:: Returns:

True, if it's possible to use the same matcher instance in parallel, false otherwise

.. index:: pair: function; operator()
.. _doxid-d2/da0/classcv_1_1detail_1_1_features_matcher_1a5d5793f2f71bae1cb72acc3e95d069df:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	operator()(
		const :ref:`ImageFeatures<doxid-d4/dbe/structcv_1_1detail_1_1_image_features>`& features1,
		const :ref:`ImageFeatures<doxid-d4/dbe/structcv_1_1detail_1_1_image_features>`& features2,
		:ref:`MatchesInfo<doxid-d2/d99/structcv_1_1detail_1_1_matches_info>`& matches_info
		)

This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts.



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- features1

		- First image features

	*
		- features2

		- Second image features

	*
		- matches_info

		- Found matches

.. index:: pair: function; operator()
.. _doxid-d2/da0/classcv_1_1detail_1_1_features_matcher_1a2df19558a646700d9543841cafae4bc2:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	operator()(
		const std::vector<:ref:`ImageFeatures<doxid-d4/dbe/structcv_1_1detail_1_1_image_features>`>& features,
		std::vector<:ref:`MatchesInfo<doxid-d2/d99/structcv_1_1detail_1_1_matches_info>`>& pairwise_matches,
		const :ref:`cv::UMat<doxid-d8/d82/classcv_1_1_u_mat>`& mask = :ref:`cv::UMat<doxid-d8/d82/classcv_1_1_u_mat>`()
		)

Performs images matching.

The function is parallelized with the TBB library.



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- features

		- Features of the source images

	*
		- pairwise_matches

		- Found pairwise matches

	*
		- mask

		- Mask indicating which image pairs must be matched



.. rubric:: See also:

:ref:`detail::MatchesInfo <doxid-d2/d99/structcv_1_1detail_1_1_matches_info>`

.. index:: pair: function; match
.. _doxid-d2/da0/classcv_1_1detail_1_1_features_matcher_1a22005bcc8bf637398b2a325121b44bb1:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	match(
		const :ref:`ImageFeatures<doxid-d4/dbe/structcv_1_1detail_1_1_image_features>`& features1,
		const :ref:`ImageFeatures<doxid-d4/dbe/structcv_1_1detail_1_1_image_features>`& features2,
		:ref:`MatchesInfo<doxid-d2/d99/structcv_1_1detail_1_1_matches_info>`& matches_info
		) = 0

This method must implement matching logic in order to make the wrappers detail::FeaturesMatcher::operator()\_ work.



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- features1

		- first image features

	*
		- features2

		- second image features

	*
		- matches_info

		- found matches

