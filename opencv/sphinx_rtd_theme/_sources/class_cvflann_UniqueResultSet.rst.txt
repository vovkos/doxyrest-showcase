.. index:: pair: class; cvflann::UniqueResultSet
.. _doxid-d2/d89/classcvflann_1_1_unique_result_set:

template class cvflann::UniqueResultSet
=======================================

.. toctree::
	:hidden:

	struct_cvflann_UniqueResultSet_DistIndex.rst

Overview
~~~~~~~~

Class that holds the k NN neighbors Faster than :ref:`KNNResultSet <doxid-d2/df8/classcvflann_1_1_k_n_n_result_set>` as it uses a binary heap and does not maintain two arrays :ref:`More...<details-d2/d89/classcvflann_1_1_unique_result_set>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <result_set.h>
	
	template <typename DistanceType>
	class UniqueResultSet: public :ref:`cvflann::ResultSet<doxid-d2/d1c/classcvflann_1_1_result_set>`
	{
	public:
		// structs
	
		struct :ref:`DistIndex<doxid-d4/d55/structcvflann_1_1_unique_result_set_1_1_dist_index>`;

		// methods
	
		virtual
		void
		:ref:`clear<doxid-d2/d89/classcvflann_1_1_unique_result_set_1ad0f6df2b89548ce26bbdfa398436a3e7>`() = 0;
	
		virtual
		void
		:ref:`copy<doxid-d2/d89/classcvflann_1_1_unique_result_set_1a1d26c402178ec974f784f807cb7a7a02>`(
			int* indices,
			DistanceType* dist,
			int n_neighbors = -1
			) const;
	
		virtual
		bool
		:ref:`full<doxid-d2/d89/classcvflann_1_1_unique_result_set_1ab9679e7811516173338f4be85ecf978b>`() const;
	
		:ref:`size_t<doxid-da/d06/autogenerated_2opencl__core_8hpp_1a6ff403ead16f7faa1f7228274eb6b01d>`
		:ref:`size<doxid-d2/d89/classcvflann_1_1_unique_result_set_1a3aa93f28d319d925a93d6393c525a7a3>`() const;
	
		virtual
		void
		:ref:`sortAndCopy<doxid-d2/d89/classcvflann_1_1_unique_result_set_1a92524fe20856c1b549f0dab9cfb7935e>`(
			int* indices,
			DistanceType* dist,
			int n_neighbors = -1
			) const;
	
		virtual
		DistanceType
		:ref:`worstDist<doxid-d2/d89/classcvflann_1_1_unique_result_set_1a5279f4d891e02412c6e7cee63473480c>`() const;

	protected:
		// fields
	
		std::set<:ref:`DistIndex<doxid-d4/d55/structcvflann_1_1_unique_result_set_1_1_dist_index>`> :ref:`dist_indices_<doxid-d2/d89/classcvflann_1_1_unique_result_set_1a72cd438bad9e7924742ba2b7437a199b>`;
		bool :ref:`is_full_<doxid-d2/d89/classcvflann_1_1_unique_result_set_1af71a1c29b71e041b32dd1007db3418ff>`;
		DistanceType :ref:`worst_distance_<doxid-d2/d89/classcvflann_1_1_unique_result_set_1ae4aeffc73377b192786837dd7a3360ab>`;
	};

	// direct descendants

	template <typename DistanceType>
	class :ref:`KNNUniqueResultSet<doxid-d7/d4e/classcvflann_1_1_k_n_n_unique_result_set>`;

	template <typename DistanceType>
	class :ref:`RadiusUniqueResultSet<doxid-d7/d9d/classcvflann_1_1_radius_unique_result_set>`;

Inherited Members
-----------------

.. ref-code-block:: cpp
	:class: doxyrest-overview-inherited-code-block

	public:
		// methods
	
		virtual
		void
		:ref:`addPoint<doxid-d2/d1c/classcvflann_1_1_result_set_1a35c882b9e106e29fb76f2bdb5ab742d5>`(
			DistanceType dist,
			int index
			) = 0;
	
		virtual
		bool
		:ref:`full<doxid-d2/d1c/classcvflann_1_1_result_set_1a8e29e42b9f3eb9c636f19927f46c8db4>`() const = 0;
	
		virtual
		DistanceType
		:ref:`worstDist<doxid-d2/d1c/classcvflann_1_1_result_set_1a7d0240d65865aace32c1422095ed1094>`() const = 0;

.. _details-d2/d89/classcvflann_1_1_unique_result_set:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

Class that holds the k NN neighbors Faster than :ref:`KNNResultSet <doxid-d2/df8/classcvflann_1_1_k_n_n_result_set>` as it uses a binary heap and does not maintain two arrays

Fields
------

.. index:: pair: variable; dist_indices_
.. _doxid-d2/d89/classcvflann_1_1_unique_result_set_1a72cd438bad9e7924742ba2b7437a199b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	std::set<:ref:`DistIndex<doxid-d4/d55/structcvflann_1_1_unique_result_set_1_1_dist_index>`> dist_indices_

The best candidates so far

.. index:: pair: variable; is_full_
.. _doxid-d2/d89/classcvflann_1_1_unique_result_set_1af71a1c29b71e041b32dd1007db3418ff:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool is_full_

Flag to say if the set is full

.. index:: pair: variable; worst_distance_
.. _doxid-d2/d89/classcvflann_1_1_unique_result_set_1ae4aeffc73377b192786837dd7a3360ab:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	DistanceType worst_distance_

The worst distance found so far

Methods
-------

.. index:: pair: function; clear
.. _doxid-d2/d89/classcvflann_1_1_unique_result_set_1ad0f6df2b89548ce26bbdfa398436a3e7:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	clear() = 0

Remove all elements in the set

.. index:: pair: function; copy
.. _doxid-d2/d89/classcvflann_1_1_unique_result_set_1a1d26c402178ec974f784f807cb7a7a02:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	copy(
		int* indices,
		DistanceType* dist,
		int n_neighbors = -1
		) const

Copy the set to two C arrays



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- indices

		- pointer to a C array of indices

	*
		- dist

		- pointer to a C array of distances

	*
		- n_neighbors

		- the number of neighbors to copy

.. index:: pair: function; full
.. _doxid-d2/d89/classcvflann_1_1_unique_result_set_1ab9679e7811516173338f4be85ecf978b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	bool
	full() const

Check the status of the set



.. rubric:: Returns:

true if we have k NN

.. index:: pair: function; size
.. _doxid-d2/d89/classcvflann_1_1_unique_result_set_1a3aa93f28d319d925a93d6393c525a7a3:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`size_t<doxid-da/d06/autogenerated_2opencl__core_8hpp_1a6ff403ead16f7faa1f7228274eb6b01d>`
	size() const

The number of neighbors in the set



.. rubric:: Returns:

.. index:: pair: function; sortAndCopy
.. _doxid-d2/d89/classcvflann_1_1_unique_result_set_1a92524fe20856c1b549f0dab9cfb7935e:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	sortAndCopy(
		int* indices,
		DistanceType* dist,
		int n_neighbors = -1
		) const

Copy the set to two C arrays but sort it according to the distance first



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- indices

		- pointer to a C array of indices

	*
		- dist

		- pointer to a C array of distances

	*
		- n_neighbors

		- the number of neighbors to copy

.. index:: pair: function; worstDist
.. _doxid-d2/d89/classcvflann_1_1_unique_result_set_1a5279f4d891e02412c6e7cee63473480c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	DistanceType
	worstDist() const

The distance of the furthest neighbor If we don't have enough neighbors, it returns the max possible value



.. rubric:: Returns:

