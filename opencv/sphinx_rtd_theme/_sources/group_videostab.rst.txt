.. index:: pair: group; Video Stabilization
.. _doxid-d5/d50/group__videostab:

Video Stabilization
===================

.. toctree::
	:hidden:

	group_videostab_marching.rst
	group_videostab_motion.rst
	class_cv_videostab_ColorAverageInpainter.rst
	class_cv_videostab_ColorInpainter.rst
	class_cv_videostab_ConsistentMosaicInpainter.rst
	class_cv_videostab_DeblurerBase.rst
	class_cv_videostab_IDenseOptFlowEstimator.rst
	class_cv_videostab_IFrameSource.rst
	class_cv_videostab_ILog.rst
	class_cv_videostab_IOutlierRejector.rst
	class_cv_videostab_ISparseOptFlowEstimator.rst
	class_cv_videostab_InpainterBase.rst
	class_cv_videostab_InpaintingPipeline.rst
	class_cv_videostab_LogToStdout.rst
	class_cv_videostab_MoreAccurateMotionWobbleSuppressor.rst
	class_cv_videostab_MoreAccurateMotionWobbleSuppressorBase.rst
	class_cv_videostab_MotionInpainter.rst
	class_cv_videostab_NullDeblurer.rst
	class_cv_videostab_NullFrameSource.rst
	class_cv_videostab_NullInpainter.rst
	class_cv_videostab_NullLog.rst
	class_cv_videostab_NullOutlierRejector.rst
	class_cv_videostab_NullWobbleSuppressor.rst
	class_cv_videostab_OnePassStabilizer.rst
	class_cv_videostab_PyrLkOptFlowEstimatorBase.rst
	class_cv_videostab_SparsePyrLkOptFlowEstimator.rst
	class_cv_videostab_StabilizerBase.rst
	class_cv_videostab_TranslationBasedLocalOutlierRejector.rst
	class_cv_videostab_TwoPassStabilizer.rst
	class_cv_videostab_VideoFileSource.rst
	class_cv_videostab_WeightingDeblurer.rst
	class_cv_videostab_WobbleSuppressorBase.rst

The video stabilization module contains a set of functions and classes that can be used to solve the problem of video stabilization. There are a few methods implemented, most of them are described in the papers :ref:`[56] <doxid-d0/de3/citelist_1CITEREF_OF06>` and :ref:`[34] <doxid-d0/de3/citelist_1CITEREF_G11>`. However, there are some extensions and deviations from the original paper methods.

.. rubric:: References

#. "Full-Frame Video Stabilization with Motion Inpainting" Yasuyuki Matsushita, Eyal Ofek, Weina Ge, Xiaoou Tang, Senior Member, and Heung-Yeung Shum

#. "Auto-Directed Video Stabilization with Robust L1 Optimal Camera Paths" Matthias Grundmann, Vivek Kwatra, Irfan Essa

|	:ref:`Fast Marching Method<doxid-db/d18/group__videostab__marching>`
|	:ref:`Global Motion Estimation<doxid-d4/d2c/group__videostab__motion>`



.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	
	// classes

	class :ref:`cv::videostab::ColorAverageInpainter<doxid-d3/d1d/classcv_1_1videostab_1_1_color_average_inpainter>`;
	class :ref:`cv::videostab::ColorInpainter<doxid-d2/dee/classcv_1_1videostab_1_1_color_inpainter>`;
	class :ref:`cv::videostab::ConsistentMosaicInpainter<doxid-dd/dca/classcv_1_1videostab_1_1_consistent_mosaic_inpainter>`;
	class :ref:`cv::videostab::DeblurerBase<doxid-dc/d48/classcv_1_1videostab_1_1_deblurer_base>`;
	class :ref:`cv::videostab::IDenseOptFlowEstimator<doxid-df/d6d/classcv_1_1videostab_1_1_i_dense_opt_flow_estimator>`;
	class :ref:`cv::videostab::IFrameSource<doxid-d9/d77/classcv_1_1videostab_1_1_i_frame_source>`;
	class :ref:`cv::videostab::ILog<doxid-db/d33/classcv_1_1videostab_1_1_i_log>`;
	class :ref:`cv::videostab::IOutlierRejector<doxid-d0/dbd/classcv_1_1videostab_1_1_i_outlier_rejector>`;
	class :ref:`cv::videostab::ISparseOptFlowEstimator<doxid-d4/da6/classcv_1_1videostab_1_1_i_sparse_opt_flow_estimator>`;
	class :ref:`cv::videostab::InpainterBase<doxid-d7/d33/classcv_1_1videostab_1_1_inpainter_base>`;
	class :ref:`cv::videostab::InpaintingPipeline<doxid-dd/d8b/classcv_1_1videostab_1_1_inpainting_pipeline>`;
	class :ref:`cv::videostab::LogToStdout<doxid-d3/d0a/classcv_1_1videostab_1_1_log_to_stdout>`;
	class :ref:`cv::videostab::MoreAccurateMotionWobbleSuppressor<doxid-d0/da5/classcv_1_1videostab_1_1_more_accurate_motion_wobble_suppressor>`;
	class :ref:`cv::videostab::MoreAccurateMotionWobbleSuppressorBase<doxid-d4/d7f/classcv_1_1videostab_1_1_more_accurate_motion_wobble_suppressor_base>`;
	class :ref:`cv::videostab::MotionInpainter<doxid-d7/de7/classcv_1_1videostab_1_1_motion_inpainter>`;
	class :ref:`cv::videostab::NullDeblurer<doxid-de/d1d/classcv_1_1videostab_1_1_null_deblurer>`;
	class :ref:`cv::videostab::NullFrameSource<doxid-de/dcf/classcv_1_1videostab_1_1_null_frame_source>`;
	class :ref:`cv::videostab::NullInpainter<doxid-df/dc8/classcv_1_1videostab_1_1_null_inpainter>`;
	class :ref:`cv::videostab::NullLog<doxid-d5/d39/classcv_1_1videostab_1_1_null_log>`;
	class :ref:`cv::videostab::NullOutlierRejector<doxid-d2/df1/classcv_1_1videostab_1_1_null_outlier_rejector>`;
	class :ref:`cv::videostab::NullWobbleSuppressor<doxid-dd/d56/classcv_1_1videostab_1_1_null_wobble_suppressor>`;
	class :ref:`cv::videostab::OnePassStabilizer<doxid-d1/d85/classcv_1_1videostab_1_1_one_pass_stabilizer>`;
	class :ref:`cv::videostab::PyrLkOptFlowEstimatorBase<doxid-d6/d43/classcv_1_1videostab_1_1_pyr_lk_opt_flow_estimator_base>`;
	class :ref:`cv::videostab::SparsePyrLkOptFlowEstimator<doxid-d3/dcd/classcv_1_1videostab_1_1_sparse_pyr_lk_opt_flow_estimator>`;
	class :ref:`cv::videostab::StabilizerBase<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base>`;
	class :ref:`cv::videostab::TranslationBasedLocalOutlierRejector<doxid-d9/d04/classcv_1_1videostab_1_1_translation_based_local_outlier_rejector>`;
	class :ref:`cv::videostab::TwoPassStabilizer<doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer>`;
	class :ref:`cv::videostab::VideoFileSource<doxid-d5/db2/classcv_1_1videostab_1_1_video_file_source>`;
	class :ref:`cv::videostab::WeightingDeblurer<doxid-dd/d3a/classcv_1_1videostab_1_1_weighting_deblurer>`;
	class :ref:`cv::videostab::WobbleSuppressorBase<doxid-d9/d3f/classcv_1_1videostab_1_1_wobble_suppressor_base>`;

	// global functions

	template <typename T>
	T&
	:target:`cv::videostab::at<doxid-d5/d50/group__videostab_1ga64715f89ad837e2b6b5649d0f833172d>`(
		int idx,
		std::vector<T>& items
		);

	template <typename T>
	const T&
	:target:`cv::videostab::at<doxid-d5/d50/group__videostab_1ga45b7337858133cf230ad65a10c9ea63e>`(
		int idx,
		const std::vector<T>& items
		);

	float
	:target:`cv::videostab::calcBlurriness<doxid-d5/d50/group__videostab_1ga527fd10de0ee99ed7585d4a7dc23c470>`(const :ref:`Mat<doxid-db/de6/classcv_1_1_mat>`& frame);

	void
	:target:`cv::videostab::calcFlowMask<doxid-d5/d50/group__videostab_1ga682d54675bbbffe349241bd6887892b1>`(
		const :ref:`Mat<doxid-db/de6/classcv_1_1_mat>`& flowX,
		const :ref:`Mat<doxid-db/de6/classcv_1_1_mat>`& flowY,
		const :ref:`Mat<doxid-db/de6/classcv_1_1_mat>`& errors,
		float maxError,
		const :ref:`Mat<doxid-db/de6/classcv_1_1_mat>`& mask0,
		const :ref:`Mat<doxid-db/de6/classcv_1_1_mat>`& mask1,
		:ref:`Mat<doxid-db/de6/classcv_1_1_mat>`& flowMask
		);

	void
	:target:`cv::videostab::completeFrameAccordingToFlow<doxid-d5/d50/group__videostab_1gac7e9d9a4c1095962a1b4780b4fb859df>`(
		const :ref:`Mat<doxid-db/de6/classcv_1_1_mat>`& flowMask,
		const :ref:`Mat<doxid-db/de6/classcv_1_1_mat>`& flowX,
		const :ref:`Mat<doxid-db/de6/classcv_1_1_mat>`& flowY,
		const :ref:`Mat<doxid-db/de6/classcv_1_1_mat>`& frame1,
		const :ref:`Mat<doxid-db/de6/classcv_1_1_mat>`& mask1,
		float distThresh,
		:ref:`Mat<doxid-db/de6/classcv_1_1_mat>`& frame0,
		:ref:`Mat<doxid-db/de6/classcv_1_1_mat>`& mask0
		);

