

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>template class cv::AutoBuffer &mdash; OpenCV Documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="_static/target-highlight.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/doxyrest-pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/doxyrest-sphinx_rtd_theme.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="class cv::AutoLock" href="class_cv_AutoLock.html" />
    <link rel="prev" title="template class cv::Allocator::rebind" href="class_cv_Allocator_rebind.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> OpenCV Documentation
          

          
          </a>

          
            
            
              <div class="version">
                3.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="group_features2d.html">2D Features Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_viz.html">3D Visualizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_calib3d.html">Camera Calibration and 3D Reconstruction</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_flann.html">Clustering and Search in Multi-Dimensional Spaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_photo.html">Computational Photography</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="group_core.html">Core functionality</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="group_core_basic.html">Basic structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_core_c.html">C structures and operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_core_cluster.html">Clustering</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_core_directx.html">DirectX interoperability</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_core_eigen.html">Eigen support</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_core_hal.html">Hardware Acceleration Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_core_ipp.html">Intel IPP Asynchronous C/C++ Converters</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_core_va_intel.html">Intel VA-API/OpenCL (CL-VA) interoperability</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_core_opencl.html">OpenCL support</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_core_opengl.html">OpenGL interoperability</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_core_array.html">Operations on arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_core_optim.html">Optimization Algorithms</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="group_core_utils.html">Utility and system functions and macros</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="group_core_utils_neon.html">NEON utilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="group_core_utils_sse.html">SSE utilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="namespace_cv_Error.html">namespace cv::Error</a></li>
<li class="toctree-l3"><a class="reference internal" href="enum_CpuFeatures.html">enum CpuFeatures</a></li>
<li class="toctree-l3"><a class="reference internal" href="enum_cv_SortFlags.html">enum cv::SortFlags</a></li>
<li class="toctree-l3"><a class="reference internal" href="struct_cv_Hamming.html">struct cv::Hamming</a></li>
<li class="toctree-l3"><a class="reference internal" href="union_Cv16suf.html">union Cv16suf</a></li>
<li class="toctree-l3"><a class="reference internal" href="union_Cv32suf.html">union Cv32suf</a></li>
<li class="toctree-l3"><a class="reference internal" href="union_Cv64suf.html">union Cv64suf</a></li>
<li class="toctree-l3"><a class="reference internal" href="class_cv_Allocator.html">template class cv::Allocator</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">template class cv::AutoBuffer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#detailed-documentation">Detailed Documentation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="class_cv_AutoLock.html">class cv::AutoLock</a></li>
<li class="toctree-l3"><a class="reference internal" href="class_cv_CommandLineParser.html">class cv::CommandLineParser</a></li>
<li class="toctree-l3"><a class="reference internal" href="class_cv_Exception.html">class cv::Exception</a></li>
<li class="toctree-l3"><a class="reference internal" href="class_cv_Mutex.html">class cv::Mutex</a></li>
<li class="toctree-l3"><a class="reference internal" href="class_cv_ParallelLoopBody.html">class cv::ParallelLoopBody</a></li>
<li class="toctree-l3"><a class="reference internal" href="class_cv_TLSData.html">template class cv::TLSData</a></li>
<li class="toctree-l3"><a class="reference internal" href="class_cv_TLSDataContainer.html">class cv::TLSDataContainer</a></li>
<li class="toctree-l3"><a class="reference internal" href="class_cv_TickMeter.html">class cv::TickMeter</a></li>
<li class="toctree-l3"><a class="reference internal" href="group_core_utils.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="group_core_utils.html#detailed-documentation">Detailed Documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="group_core_xml.html">XML/YAML Persistence</a></li>
<li class="toctree-l2"><a class="reference internal" href="enum_cv_CovarFlags.html">enum cv::CovarFlags</a></li>
<li class="toctree-l2"><a class="reference internal" href="enum_cv_HersheyFonts.html">enum cv::HersheyFonts</a></li>
<li class="toctree-l2"><a class="reference internal" href="enum_cv_KmeansFlags.html">enum cv::KmeansFlags</a></li>
<li class="toctree-l2"><a class="reference internal" href="enum_cv_LineTypes.html">enum cv::LineTypes</a></li>
<li class="toctree-l2"><a class="reference internal" href="enum_cv_ReduceTypes.html">enum cv::ReduceTypes</a></li>
<li class="toctree-l2"><a class="reference internal" href="class_cv_Affine3.html">template class cv::Affine3</a></li>
<li class="toctree-l2"><a class="reference internal" href="class_cv_BufferPoolController.html">class cv::BufferPoolController</a></li>
<li class="toctree-l2"><a class="reference internal" href="class_cv_WImage.html">template class cv::WImage</a></li>
<li class="toctree-l2"><a class="reference internal" href="class_cv_WImageBuffer.html">template class cv::WImageBuffer</a></li>
<li class="toctree-l2"><a class="reference internal" href="class_cv_WImageBufferC.html">template class cv::WImageBufferC</a></li>
<li class="toctree-l2"><a class="reference internal" href="class_cv_WImageC.html">template class cv::WImageC</a></li>
<li class="toctree-l2"><a class="reference internal" href="class_cv_WImageView.html">template class cv::WImageView</a></li>
<li class="toctree-l2"><a class="reference internal" href="class_cv_WImageViewC.html">template class cv::WImageViewC</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_core.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_core.html#detailed-documentation">Detailed Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="group_highgui.html">High-level GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_imgcodecs.html">Image file reading and writing</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_imgproc.html">Image processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_stitching.html">Images stitching</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_ml.html">Machine Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_objdetect.html">Object Detection</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_shape.html">Shape Distance and Matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_superres.html">Super Resolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_video.html">Video Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_videoio.html">Video I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_videostab.html">Video Stabilization</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="page_citelist.html">Bibliography</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_cuda_intro.html">CUDA Module Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_imgproc_color_conversions.html">Color conversions</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_deprecated.html">Deprecated List</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_ml_intro.html">Machine Learning Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_tutorial_root.html">OpenCV Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_index.html">OpenCV modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_tutorial_py_root.html">OpenCV-Python Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_todo.html">Todo List</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_videoio_overview.html">Video I/O with OpenCV Overview</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="example_contours2.cpp.html">contours2.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_convexhull.cpp.html">convexhull.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_cout_mat.cpp.html">cout_mat.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_demhist.cpp.html">demhist.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_distrans.cpp.html">distrans.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_edge.cpp.html">edge.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_ffilldemo.cpp.html">ffilldemo.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_filestorage.cpp.html">filestorage.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_fitellipse.cpp.html">fitellipse.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_grabcut.cpp.html">grabcut.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_houghcircles.cpp.html">houghcircles.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_houghlines.cpp.html">houghlines.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_kmeans.cpp.html">kmeans.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_laplace.cpp.html">laplace.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_lsd_lines.cpp.html">lsd_lines.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_minarea.cpp.html">minarea.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_morphology2.cpp.html">morphology2.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_pca.cpp.html">pca.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_polar_transforms.cpp.html">polar_transforms.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_segment_objects.cpp.html">segment_objects.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_watershed.cpp.html">watershed.cpp</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="global.html">Global Namespace</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">OpenCV Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="group_core.html">Core functionality</a> &raquo;</li>
        
          <li><a href="group_core_utils.html">Utility and system functions and macros</a> &raquo;</li>
        
      <li>template class cv::AutoBuffer</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="template-class-cv-autobuffer">
<span id="doxid-df-d8c-classcv-1-1-auto-buffer"></span><span id="index-0"></span><h1>template class cv::AutoBuffer</h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="overview">
<h2>Overview</h2>
<p>Automatically Allocated Buffer Class. <a class="reference internal" href="#details-df-d8c-classcv-1-1-auto-buffer"><span class="std std-ref">More…</span></a></p>
<pre class="highlight doxyrest-overview-code-block literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&lt;utility.hpp&gt;</span><span class="cp"></span>

<span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">_Tp</span><span class="p">,</span>
    <span class="kt">size_t</span> <span class="n">fixed_size</span> <span class="o">=</span> <span class="mi">1024</span><span class="o">/</span><span class="k">sizeof</span><span class="p">(</span><span class="n">_Tp</span><span class="p">)</span><span class="o">+</span><span class="mi">8</span>
    <span class="o">&gt;</span>
<span class="k">class</span> <span class="n">AutoBuffer</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="c1">// typedefs</span>

    <span class="k">typedef</span> <span class="n">_Tp</span> <span class="doxyrest-code-target target" id="doxid-df-d8c-classcv-1-1-auto-buffer-1afbc953161e91d6455882c315eff66f6d">value_type</span><span></span><span class="p">;</span>

    <span class="c1">// construction</span>

    <a class="reference internal" href="#doxid-df-d8c-classcv-1-1-auto-buffer-1a990ab2dd088c226def0e59177933c9df"><span class="std std-ref">AutoBuffer</span></a><span></span><span class="p">();</span>
    <a class="reference internal" href="#doxid-df-d8c-classcv-1-1-auto-buffer-1ac498c6689e5a18843e1c9d23441c3a99"><span class="std std-ref">AutoBuffer</span></a><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-da-d06-autogenerated-2opencl-core-8hpp-1a6ff403ead16f7faa1f7228274eb6b01d"><span class="std std-ref">size_t</span></a><span></span> <span class="n">_size</span><span class="p">);</span>
    <a class="reference internal" href="#doxid-df-d8c-classcv-1-1-auto-buffer-1a3416e6aa3bb03435706abce813950d6e"><span class="std std-ref">AutoBuffer</span></a><span></span><span class="p">(</span><span class="k">const</span> <span class="n">AutoBuffer</span><span class="o">&lt;</span><span class="n">_Tp</span><span class="p">,</span> <span class="n">fixed_size</span><span class="o">&gt;&amp;</span> <span class="n">buf</span><span class="p">);</span>

    <span class="c1">// methods</span>

    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-df-d8c-classcv-1-1-auto-buffer-1a1c16dbf31a16748ffc930e796f0dc54b"><span class="std std-ref">allocate</span></a><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-da-d06-autogenerated-2opencl-core-8hpp-1a6ff403ead16f7faa1f7228274eb6b01d"><span class="std std-ref">size_t</span></a><span></span> <span class="n">_size</span><span class="p">);</span>

    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-df-d8c-classcv-1-1-auto-buffer-1aab78aeff0108ad5ba8c96baafd58702b"><span class="std std-ref">deallocate</span></a><span></span><span class="p">();</span>

    <a class="reference internal" href="#doxid-df-d8c-classcv-1-1-auto-buffer-1abf37a20ae4387196fe2a5684ced410dc"><span class="std std-ref">operator _Tp *</span></a><span></span><span class="p">();</span>
    <a class="reference internal" href="#doxid-df-d8c-classcv-1-1-auto-buffer-1a8e1062498f5ea59f2784883cfd6607cb"><span class="std std-ref">operator const _Tp *</span></a><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

    <span class="n">AutoBuffer</span><span class="o">&lt;</span><span class="n">_Tp</span><span class="p">,</span> <span class="n">fixed_size</span><span class="o">&gt;&amp;</span>
    <a class="reference internal" href="#doxid-df-d8c-classcv-1-1-auto-buffer-1ad8be3a945146d9528f747eafb6c34a81"><span class="std std-ref">operator=</span></a><span></span><span class="p">(</span><span class="k">const</span> <span class="n">AutoBuffer</span><span class="o">&lt;</span><span class="n">_Tp</span><span class="p">,</span> <span class="n">fixed_size</span><span class="o">&gt;&amp;</span> <span class="n">buf</span><span class="p">);</span>

    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-df-d8c-classcv-1-1-auto-buffer-1a97edc51af209cd6ab20da864c3468124"><span class="std std-ref">resize</span></a><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-da-d06-autogenerated-2opencl-core-8hpp-1a6ff403ead16f7faa1f7228274eb6b01d"><span class="std std-ref">size_t</span></a><span></span> <span class="n">_size</span><span class="p">);</span>

    <a class="reference internal" href="global.html#doxid-da-d06-autogenerated-2opencl-core-8hpp-1a6ff403ead16f7faa1f7228274eb6b01d"><span class="std std-ref">size_t</span></a><span></span>
    <a class="reference internal" href="#doxid-df-d8c-classcv-1-1-auto-buffer-1a3e51a3baa4dcb2d8eaefddc4c3ceb455"><span class="std std-ref">size</span></a><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

<span class="k">protected</span><span class="o">:</span>
    <span class="c1">// fields</span>

    <span class="n">_Tp</span> <a class="reference internal" href="#doxid-df-d8c-classcv-1-1-auto-buffer-1a5286c7bfa1926f51f6d0c7bf5e01c001"><span class="std std-ref">buf</span></a><span></span><span class="p">[(</span><span class="n">fixed_size</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">?</span> <span class="nl">fixed_size</span> <span class="p">:</span><span class="mi">1</span><span class="p">];</span>
    <span class="n">_Tp</span><span class="o">*</span> <a class="reference internal" href="#doxid-df-d8c-classcv-1-1-auto-buffer-1a194ac92b66c003787e0782bd8a38750b"><span class="std std-ref">ptr</span></a><span></span><span class="p">;</span>
    <a class="reference internal" href="global.html#doxid-da-d06-autogenerated-2opencl-core-8hpp-1a6ff403ead16f7faa1f7228274eb6b01d"><span class="std std-ref">size_t</span></a><span></span> <a class="reference internal" href="#doxid-df-d8c-classcv-1-1-auto-buffer-1a6025c7fd11fa230c2c315673d2d293b3"><span class="std std-ref">sz</span></a><span></span><span class="p">;</span>
<span class="p">};</span>
</pre>
</div>
<div class="section" id="detailed-documentation">
<span id="details-df-d8c-classcv-1-1-auto-buffer"></span><h2>Detailed Documentation</h2>
<p>Automatically Allocated Buffer Class.</p>
<p>The class is used for temporary buffers in functions and methods. If a temporary buffer is usually small (a few K’s of memory), but its size depends on the parameters, it makes sense to create a small fixed-size array on stack and use it if it’s large enough. If the required buffer size is larger than the fixed size, another buffer of sufficient size is allocated dynamically and released after the processing. Therefore, in typical cases, when the buffer size is small, there is no overhead associated with malloc()/free(). At the same time, there is no limit on the size of processed data.</p>
<p>This is what <a class="reference internal" href="#doxid-df-d8c-classcv-1-1-auto-buffer"><span class="std std-ref">AutoBuffer</span></a> does. The template takes 2 parameters - type of the buffer elements and the number of stack-allocated elements. Here is how the class is used:</p>
<pre class="highlight literal-block">
<span></span><span class="kt">void</span> <span class="nf">my_func</span><span class="p">(</span><span class="k">const</span> <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span><span class="o">&amp;</span> <span class="n">m</span><span class="p">)</span>
<span class="p">{</span>
   <span class="n">cv</span><span class="o">::</span><span class="n">AutoBuffer</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span> <span class="n">buf</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span> <span class="c1">// create automatic buffer containing 1000 floats</span>

   <span class="n">buf</span><span class="p">.</span><span class="n">allocate</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">rows</span><span class="p">);</span> <span class="c1">// if m.rows &lt;= 1000, the pre-allocated buffer is used,</span>
                         <span class="c1">// otherwise the buffer of &quot;m.rows&quot; floats will be allocated</span>
                         <span class="c1">// dynamically and deallocated in cv::AutoBuffer destructor</span>
   <span class="p">...</span>
<span class="p">}</span>
</pre>
<div class="section" id="fields">
<h3>Fields</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-df-d8c-classcv-1-1-auto-buffer-1a5286c7bfa1926f51f6d0c7bf5e01c001">
<span id="index-1"></span><span></span><span class="n">_Tp</span> <span class="n">buf</span><span class="p">[(</span><span class="n">fixed_size</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">?</span> <span class="nl">fixed_size</span> <span class="p">:</span><span class="mi">1</span><span class="p">]</span>
</pre>
<p>pre-allocated buffer. At least 1 element to confirm C++ standard requirements</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-df-d8c-classcv-1-1-auto-buffer-1a194ac92b66c003787e0782bd8a38750b">
<span id="index-2"></span><span></span><span class="n">_Tp</span><span class="o">*</span> <span class="n">ptr</span>
</pre>
<p>pointer to the real buffer, can point to buf if the buffer is small enough</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-df-d8c-classcv-1-1-auto-buffer-1a6025c7fd11fa230c2c315673d2d293b3">
<span id="index-3"></span><a class="reference internal" href="global.html#doxid-da-d06-autogenerated-2opencl-core-8hpp-1a6ff403ead16f7faa1f7228274eb6b01d"><span class="std std-ref">size_t</span></a><span></span> <span class="n">sz</span>
</pre>
<p>size of the real buffer</p>
</div>
<div class="section" id="construction">
<h3>Construction</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-df-d8c-classcv-1-1-auto-buffer-1a990ab2dd088c226def0e59177933c9df">
<span id="index-4"></span><span></span><span class="n">AutoBuffer</span><span class="p">()</span>
</pre>
<p>the default constructor</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-df-d8c-classcv-1-1-auto-buffer-1ac498c6689e5a18843e1c9d23441c3a99">
<span id="index-5"></span><span></span><span class="n">AutoBuffer</span><span class="p">(</span><a class="reference internal" href="global.html#doxid-da-d06-autogenerated-2opencl-core-8hpp-1a6ff403ead16f7faa1f7228274eb6b01d"><span class="std std-ref">size_t</span></a><span></span> <span class="n">_size</span><span class="p">)</span>
</pre>
<p>constructor taking the real buffer size</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-df-d8c-classcv-1-1-auto-buffer-1a3416e6aa3bb03435706abce813950d6e">
<span id="index-6"></span><span></span><span class="n">AutoBuffer</span><span class="p">(</span><span class="k">const</span> <span class="n">AutoBuffer</span><span class="o">&lt;</span><span class="n">_Tp</span><span class="p">,</span> <span class="n">fixed_size</span><span class="o">&gt;&amp;</span> <span class="n">buf</span><span class="p">)</span>
</pre>
<p>the copy constructor</p>
</div>
<div class="section" id="methods">
<h3>Methods</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-df-d8c-classcv-1-1-auto-buffer-1a1c16dbf31a16748ffc930e796f0dc54b">
<span id="index-7"></span><span></span><span class="kt">void</span>
<span class="n">allocate</span><span class="p">(</span><a class="reference internal" href="global.html#doxid-da-d06-autogenerated-2opencl-core-8hpp-1a6ff403ead16f7faa1f7228274eb6b01d"><span class="std std-ref">size_t</span></a><span></span> <span class="n">_size</span><span class="p">)</span>
</pre>
<p>allocates the new buffer of size _size. if the _size is small enough, stack-allocated buffer is used</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-df-d8c-classcv-1-1-auto-buffer-1aab78aeff0108ad5ba8c96baafd58702b">
<span id="index-8"></span><span></span><span class="kt">void</span>
<span class="n">deallocate</span><span class="p">()</span>
</pre>
<p>deallocates the buffer if it was dynamically allocated</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-df-d8c-classcv-1-1-auto-buffer-1abf37a20ae4387196fe2a5684ced410dc">
<span id="index-9"></span><span></span><span class="k">operator</span> <span class="n">_Tp</span> <span class="o">*</span><span class="p">()</span>
</pre>
<p>returns pointer to the real buffer, stack-allocated or heap-allocated</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-df-d8c-classcv-1-1-auto-buffer-1a8e1062498f5ea59f2784883cfd6607cb">
<span id="index-10"></span><span></span><span class="k">operator</span> <span class="k">const</span> <span class="n">_Tp</span> <span class="o">*</span><span class="p">()</span> <span class="k">const</span>
</pre>
<p>returns read-only pointer to the real buffer, stack-allocated or heap-allocated</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-df-d8c-classcv-1-1-auto-buffer-1ad8be3a945146d9528f747eafb6c34a81">
<span id="index-11"></span><span></span><span class="n">AutoBuffer</span><span class="o">&lt;</span><span class="n">_Tp</span><span class="p">,</span> <span class="n">fixed_size</span><span class="o">&gt;&amp;</span>
<span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="k">const</span> <span class="n">AutoBuffer</span><span class="o">&lt;</span><span class="n">_Tp</span><span class="p">,</span> <span class="n">fixed_size</span><span class="o">&gt;&amp;</span> <span class="n">buf</span><span class="p">)</span>
</pre>
<p>the assignment operator</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-df-d8c-classcv-1-1-auto-buffer-1a97edc51af209cd6ab20da864c3468124">
<span id="index-12"></span><span></span><span class="kt">void</span>
<span class="n">resize</span><span class="p">(</span><a class="reference internal" href="global.html#doxid-da-d06-autogenerated-2opencl-core-8hpp-1a6ff403ead16f7faa1f7228274eb6b01d"><span class="std std-ref">size_t</span></a><span></span> <span class="n">_size</span><span class="p">)</span>
</pre>
<p>resizes the buffer and preserves the content</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-df-d8c-classcv-1-1-auto-buffer-1a3e51a3baa4dcb2d8eaefddc4c3ceb455">
<span id="index-13"></span><a class="reference internal" href="global.html#doxid-da-d06-autogenerated-2opencl-core-8hpp-1a6ff403ead16f7faa1f7228274eb6b01d"><span class="std std-ref">size_t</span></a><span></span>
<span class="n">size</span><span class="p">()</span> <span class="k">const</span>
</pre>
<p>returns the current buffer size</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="class_cv_AutoLock.html" class="btn btn-neutral float-right" title="class cv::AutoLock" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="class_cv_Allocator_rebind.html" class="btn btn-neutral float-left" title="template class cv::Allocator::rebind" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 1999-2017, OpenCV Maintainers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>