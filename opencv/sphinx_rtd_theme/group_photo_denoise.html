

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Denoising &mdash; OpenCV Documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="_static/target-highlight.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/doxyrest-pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/doxyrest-sphinx_rtd_theme.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="HDR imaging" href="group_photo_hdr.html" />
    <link rel="prev" title="enum InpaintingModes" href="enum_InpaintingModes.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> OpenCV Documentation
          

          
          </a>

          
            
            
              <div class="version">
                3.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="group_features2d.html">2D Features Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_viz.html">3D Visualizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_calib3d.html">Camera Calibration and 3D Reconstruction</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_flann.html">Clustering and Search in Multi-Dimensional Spaces</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="group_photo.html">Computational Photography</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="group_photo_c.html">C API</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Denoising</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#detailed-documentation">Detailed Documentation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#global-functions">Global Functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="group_photo_hdr.html">HDR imaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_photo_render.html">Non-Photorealistic Rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_photo_clone.html">Seamless Cloning</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_photo.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_photo.html#detailed-documentation">Detailed Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="group_core.html">Core functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_highgui.html">High-level GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_imgcodecs.html">Image file reading and writing</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_imgproc.html">Image processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_stitching.html">Images stitching</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_ml.html">Machine Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_objdetect.html">Object Detection</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_shape.html">Shape Distance and Matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_superres.html">Super Resolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_video.html">Video Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_videoio.html">Video I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_videostab.html">Video Stabilization</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="page_citelist.html">Bibliography</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_cuda_intro.html">CUDA Module Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_imgproc_color_conversions.html">Color conversions</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_deprecated.html">Deprecated List</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_ml_intro.html">Machine Learning Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_tutorial_root.html">OpenCV Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_index.html">OpenCV modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_tutorial_py_root.html">OpenCV-Python Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_todo.html">Todo List</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_videoio_overview.html">Video I/O with OpenCV Overview</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="example_contours2.cpp.html">contours2.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_convexhull.cpp.html">convexhull.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_cout_mat.cpp.html">cout_mat.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_demhist.cpp.html">demhist.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_distrans.cpp.html">distrans.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_edge.cpp.html">edge.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_ffilldemo.cpp.html">ffilldemo.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_filestorage.cpp.html">filestorage.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_fitellipse.cpp.html">fitellipse.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_grabcut.cpp.html">grabcut.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_houghcircles.cpp.html">houghcircles.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_houghlines.cpp.html">houghlines.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_kmeans.cpp.html">kmeans.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_laplace.cpp.html">laplace.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_lsd_lines.cpp.html">lsd_lines.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_minarea.cpp.html">minarea.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_morphology2.cpp.html">morphology2.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_pca.cpp.html">pca.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_polar_transforms.cpp.html">polar_transforms.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_segment_objects.cpp.html">segment_objects.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_watershed.cpp.html">watershed.cpp</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="global.html">Global Namespace</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">OpenCV Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="group_photo.html">Computational Photography</a> &raquo;</li>
        
      <li>Denoising</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="denoising">
<span id="doxid-d1-d79-group-photo-denoise"></span><span id="index-0"></span><h1>Denoising</h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="overview">
<h2>Overview</h2>
<pre class="highlight doxyrest-overview-code-block literal-block">
<span></span><span class="c1">// global functions</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-d1-d79-group-photo-denoise-1ga7602ed5ae17b7de40152b922227c4e4f"><span class="std std-ref">cv::denoise_TVL1</span></a><span></span><span class="p">(</span>
    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span><span class="o">&gt;&amp;</span> <span class="n">observations</span><span class="p">,</span>
    <a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span><span class="o">&amp;</span> <span class="n">result</span><span class="p">,</span>
    <span class="kt">double</span> <span class="n">lambda</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">niters</span> <span class="o">=</span> <span class="mi">30</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-d1-d79-group-photo-denoise-1ga4c6b0031f56ea3f98f768881279ffe93"><span class="std std-ref">cv::fastNlMeansDenoising</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">templateWindowSize</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">searchWindowSize</span> <span class="o">=</span> <span class="mi">21</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-d1-d79-group-photo-denoise-1ga0db3ea0715152e56081265014b139bec"><span class="std std-ref">cv::fastNlMeansDenoising</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;&amp;</span> <span class="n">h</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">templateWindowSize</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">searchWindowSize</span> <span class="o">=</span> <span class="mi">21</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">normType</span> <span class="o">=</span> <a class="reference internal" href="enum_cv_NormTypes.html#doxid-d2-de8-group-core-array-1ggad12cefbcb5291cf958a85b4b67b6149fa7bacbe84d400336a8f26297d8e80e3a2"><span class="std std-ref">NORM_L2</span></a><span></span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-d1-d79-group-photo-denoise-1ga03aa4189fc3e31dafd638d90de335617"><span class="std std-ref">cv::fastNlMeansDenoisingColored</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">hColor</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">templateWindowSize</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">searchWindowSize</span> <span class="o">=</span> <span class="mi">21</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-d1-d79-group-photo-denoise-1gaa501e71f52fb2dc17ff8ca5e7d2d3619"><span class="std std-ref">cv::fastNlMeansDenoisingColoredMulti</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga606feabe3b50ab6838f1ba89727aa07a"><span class="std std-ref">InputArrayOfArrays</span></a><span></span> <span class="n">srcImgs</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">imgToDenoiseIndex</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">temporalWindowSize</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">hColor</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">templateWindowSize</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">searchWindowSize</span> <span class="o">=</span> <span class="mi">21</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-d1-d79-group-photo-denoise-1gaf4421bf068c4d632ea7f0aa38e0bf172"><span class="std std-ref">cv::fastNlMeansDenoisingMulti</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga606feabe3b50ab6838f1ba89727aa07a"><span class="std std-ref">InputArrayOfArrays</span></a><span></span> <span class="n">srcImgs</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">imgToDenoiseIndex</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">temporalWindowSize</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">templateWindowSize</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">searchWindowSize</span> <span class="o">=</span> <span class="mi">21</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-d1-d79-group-photo-denoise-1ga723ffde1969430fede9241402e198151"><span class="std std-ref">cv::fastNlMeansDenoisingMulti</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga606feabe3b50ab6838f1ba89727aa07a"><span class="std std-ref">InputArrayOfArrays</span></a><span></span> <span class="n">srcImgs</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">imgToDenoiseIndex</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">temporalWindowSize</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;&amp;</span> <span class="n">h</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">templateWindowSize</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">searchWindowSize</span> <span class="o">=</span> <span class="mi">21</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">normType</span> <span class="o">=</span> <a class="reference internal" href="enum_cv_NormTypes.html#doxid-d2-de8-group-core-array-1ggad12cefbcb5291cf958a85b4b67b6149fa7bacbe84d400336a8f26297d8e80e3a2"><span class="std std-ref">NORM_L2</span></a><span></span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-d1-d79-group-photo-denoise-1ga76abf348c234cecd0faf3c42ef3dc715"><span class="std std-ref">cv::cuda::fastNlMeansDenoising</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">h</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">search_window</span> <span class="o">=</span> <span class="mi">21</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">block_size</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
    <a class="reference internal" href="class_cv_cuda_Stream.html#doxid-d1-d04-classcv-1-1cuda-1-1-stream"><span class="std std-ref">Stream</span></a><span></span><span class="o">&amp;</span> <span class="n">stream</span> <span class="o">=</span> <a class="reference internal" href="class_cv_cuda_Stream.html#doxid-d1-d04-classcv-1-1cuda-1-1-stream-1a680af5adfeeb1cdaa5b7b13f680c0131"><span class="std std-ref">Stream::Null</span></a><span></span><span class="p">()</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-d1-d79-group-photo-denoise-1ga21abc1c8b0e15f78cd3eff672cb6c476"><span class="std std-ref">cv::cuda::fastNlMeansDenoisingColored</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">h_luminance</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">photo_render</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">search_window</span> <span class="o">=</span> <span class="mi">21</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">block_size</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
    <a class="reference internal" href="class_cv_cuda_Stream.html#doxid-d1-d04-classcv-1-1cuda-1-1-stream"><span class="std std-ref">Stream</span></a><span></span><span class="o">&amp;</span> <span class="n">stream</span> <span class="o">=</span> <a class="reference internal" href="class_cv_cuda_Stream.html#doxid-d1-d04-classcv-1-1cuda-1-1-stream-1a680af5adfeeb1cdaa5b7b13f680c0131"><span class="std std-ref">Stream::Null</span></a><span></span><span class="p">()</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-d1-d79-group-photo-denoise-1gafa990f16548581987e7e509b435c3648"><span class="std std-ref">cv::cuda::nonLocalMeans</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">h</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">search_window</span> <span class="o">=</span> <span class="mi">21</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">block_size</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">borderMode</span> <span class="o">=</span> <a class="reference internal" href="enum_cv_BorderTypes.html#doxid-d2-de8-group-core-array-1gga209f2f4869e304c82d07739337eae7c5afe14c13a4ea8b8e3b3ef399013dbae01"><span class="std std-ref">BORDER_DEFAULT</span></a><span></span><span class="p">,</span>
    <a class="reference internal" href="class_cv_cuda_Stream.html#doxid-d1-d04-classcv-1-1cuda-1-1-stream"><span class="std std-ref">Stream</span></a><span></span><span class="o">&amp;</span> <span class="n">stream</span> <span class="o">=</span> <a class="reference internal" href="class_cv_cuda_Stream.html#doxid-d1-d04-classcv-1-1cuda-1-1-stream-1a680af5adfeeb1cdaa5b7b13f680c0131"><span class="std std-ref">Stream::Null</span></a><span></span><span class="p">()</span>
    <span class="p">);</span>
</pre>
</div>
<div class="section" id="detailed-documentation">
<span id="details-d1-d79-group-photo-denoise"></span><h2>Detailed Documentation</h2>
<div class="section" id="global-functions">
<h3>Global Functions</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-d1-d79-group-photo-denoise-1ga7602ed5ae17b7de40152b922227c4e4f">
<span id="index-1"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">denoise_TVL1</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span><span class="o">&gt;&amp;</span> <span class="n">observations</span><span class="p">,</span>
    <a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span><span class="o">&amp;</span> <span class="n">result</span><span class="p">,</span>
    <span class="kt">double</span> <span class="n">lambda</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">niters</span> <span class="o">=</span> <span class="mi">30</span>
    <span class="p">)</span>
</pre>
<p>Primal-dual algorithm is an algorithm for solving special types of variational problems (that is, finding a function to minimize some functional). As the image denoising, in particular, may be seen as the variational problem, primal-dual algorithm then can be used to perform denoising and this is exactly what is implemented.</p>
<p>It should be noted, that this implementation was taken from the July 2013 blog entry <a class="reference internal" href="page_citelist.html#doxid-d0-de3-citelist-1citeref-ma13"><span class="std std-ref">[60]</span></a>, which also contained (slightly more general) ready-to-use source code on Python. Subsequently, that code was rewritten on C++ with the usage of openCV by Vadim Pisarevsky at the end of July 2013 and finally it was slightly adapted by later authors.</p>
<p>Although the thorough discussion and justification of the algorithm involved may be found in <a class="reference internal" href="page_citelist.html#doxid-d0-de3-citelist-1citeref-chambolleetal"><span class="std std-ref">[15]</span></a>, it might make sense to skim over it here, following <a class="reference internal" href="page_citelist.html#doxid-d0-de3-citelist-1citeref-ma13"><span class="std std-ref">[60]</span></a>. To begin with, we consider the 1-byte gray-level images as the functions from the rectangular domain of pixels (it may be seen as set <span class="math notranslate nohighlight">\(\left\{(x,y)\in\mathbb{N}\times\mathbb{N}\mid 1\leq x\leq n,\;1\leq y\leq m\right\}\)</span> for some <span class="math notranslate nohighlight">\(m,\;n\in\mathbb{N}\)</span>) into <span class="math notranslate nohighlight">\(\{0,1,\dots,255\}\)</span>. We shall denote the noised images as <span class="math notranslate nohighlight">\(f_i\)</span> and with this view, given some image <span class="math notranslate nohighlight">\(x\)</span> of the same size, we may measure how bad it is by the formula</p>
<div class="math notranslate nohighlight">
\[\left\|\left\|\nabla x\right\|\right\| + \lambda\sum_i\left\|\left\|x-f_i\right\|\right\|\]</div>
<p><span class="math notranslate nohighlight">\(\|\|\cdot\|\|\)</span> here denotes <span class="math notranslate nohighlight">\(L_2\)</span> -norm and as you see, the first addend states that we want our image to be smooth (ideally, having zero gradient, thus being constant) and the second states that we want our result to be close to the observations we’ve got. If we treat <span class="math notranslate nohighlight">\(x\)</span> as a function, this is exactly the functional what we seek to minimize and here the Primal-Dual algorithm comes into play.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>observations</td>
<td>This array should contain one or more noised versions of the image that is to be restored.</td>
</tr>
<tr class="row-even"><td>result</td>
<td>Here the denoised image will be stored. There is no need to do pre-allocation of storage space, as it will be automatically allocated, if necessary.</td>
</tr>
<tr class="row-odd"><td>lambda</td>
<td>Corresponds to <span class="math notranslate nohighlight">\(\lambda\)</span> in the formulas above. As it is enlarged, the smooth (blurred) images are treated more favorably than detailed (but maybe more noised) ones. Roughly speaking, as it becomes smaller, the result will be more blur but more sever outliers will be removed.</td>
</tr>
<tr class="row-even"><td>niters</td>
<td>Number of iterations that the algorithm will run. Of course, as more iterations as better, but it is hard to quantitatively refine this statement, so just use the default and increase it if the results are poor.</td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-d1-d79-group-photo-denoise-1ga4c6b0031f56ea3f98f768881279ffe93">
<span id="index-2"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">fastNlMeansDenoising</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">templateWindowSize</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">searchWindowSize</span> <span class="o">=</span> <span class="mi">21</span>
    <span class="p">)</span>
</pre>
<p>Perform image denoising using Non-local Means Denoising algorithm <a class="reference external" href="http://www.ipol.im/pub/algo/bcm_non_local_means_denoising/">http://www.ipol.im/pub/algo/bcm_non_local_means_denoising/</a> with several computational optimizations. Noise expected to be a gaussian white noise.</p>
<p>This function expected to be applied to grayscale images. For colored images look at fastNlMeansDenoisingColored. Advanced usage of this functions can be manual denoising of colored image in different colorspaces. Such approach is used in fastNlMeansDenoisingColored by converting image to CIELAB colorspace and then separately denoise L and AB components with different h parameter.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>src</td>
<td>Input 8-bit 1-channel, 2-channel, 3-channel or 4-channel image.</td>
</tr>
<tr class="row-even"><td>dst</td>
<td>Output image with the same size and type as src .</td>
</tr>
<tr class="row-odd"><td>templateWindowSize</td>
<td>Size in pixels of the template patch that is used to compute weights. Should be odd. Recommended value 7 pixels</td>
</tr>
<tr class="row-even"><td>searchWindowSize</td>
<td>Size in pixels of the window that is used to compute weighted average for given pixel. Should be odd. Affect performance linearly: greater searchWindowsSize - greater denoising time. Recommended value 21 pixels</td>
</tr>
<tr class="row-odd"><td>h</td>
<td>Parameter regulating filter strength. Big h value perfectly removes noise but also removes image details, smaller h value preserves details but also preserves some noise</td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-d1-d79-group-photo-denoise-1ga0db3ea0715152e56081265014b139bec">
<span id="index-3"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">fastNlMeansDenoising</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;&amp;</span> <span class="n">h</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">templateWindowSize</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">searchWindowSize</span> <span class="o">=</span> <span class="mi">21</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">normType</span> <span class="o">=</span> <a class="reference internal" href="enum_cv_NormTypes.html#doxid-d2-de8-group-core-array-1ggad12cefbcb5291cf958a85b4b67b6149fa7bacbe84d400336a8f26297d8e80e3a2"><span class="std std-ref">NORM_L2</span></a><span></span>
    <span class="p">)</span>
</pre>
<p>Perform image denoising using Non-local Means Denoising algorithm <a class="reference external" href="http://www.ipol.im/pub/algo/bcm_non_local_means_denoising/">http://www.ipol.im/pub/algo/bcm_non_local_means_denoising/</a> with several computational optimizations. Noise expected to be a gaussian white noise.</p>
<p>This function expected to be applied to grayscale images. For colored images look at fastNlMeansDenoisingColored. Advanced usage of this functions can be manual denoising of colored image in different colorspaces. Such approach is used in fastNlMeansDenoisingColored by converting image to CIELAB colorspace and then separately denoise L and AB components with different h parameter.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>src</td>
<td>Input 8-bit or 16-bit (only with NORM_L1) 1-channel, 2-channel, 3-channel or 4-channel image.</td>
</tr>
<tr class="row-even"><td>dst</td>
<td>Output image with the same size and type as src .</td>
</tr>
<tr class="row-odd"><td>templateWindowSize</td>
<td>Size in pixels of the template patch that is used to compute weights. Should be odd. Recommended value 7 pixels</td>
</tr>
<tr class="row-even"><td>searchWindowSize</td>
<td>Size in pixels of the window that is used to compute weighted average for given pixel. Should be odd. Affect performance linearly: greater searchWindowsSize - greater denoising time. Recommended value 21 pixels</td>
</tr>
<tr class="row-odd"><td>h</td>
<td>Array of parameters regulating filter strength, either one parameter applied to all channels or one per channel in dst. Big h value perfectly removes noise but also removes image details, smaller h value preserves details but also preserves some noise</td>
</tr>
<tr class="row-even"><td>normType</td>
<td>Type of norm used for weight calculation. Can be either NORM_L2 or NORM_L1</td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-d1-d79-group-photo-denoise-1ga03aa4189fc3e31dafd638d90de335617">
<span id="index-4"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">fastNlMeansDenoisingColored</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">hColor</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">templateWindowSize</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">searchWindowSize</span> <span class="o">=</span> <span class="mi">21</span>
    <span class="p">)</span>
</pre>
<p>Modification of fastNlMeansDenoising function for colored images.</p>
<p>The function converts image to CIELAB colorspace and then separately denoise L and AB components with given h parameters using fastNlMeansDenoising function.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>src</td>
<td>Input 8-bit 3-channel image.</td>
</tr>
<tr class="row-even"><td>dst</td>
<td>Output image with the same size and type as src .</td>
</tr>
<tr class="row-odd"><td>templateWindowSize</td>
<td>Size in pixels of the template patch that is used to compute weights. Should be odd. Recommended value 7 pixels</td>
</tr>
<tr class="row-even"><td>searchWindowSize</td>
<td>Size in pixels of the window that is used to compute weighted average for given pixel. Should be odd. Affect performance linearly: greater searchWindowsSize - greater denoising time. Recommended value 21 pixels</td>
</tr>
<tr class="row-odd"><td>h</td>
<td>Parameter regulating filter strength for luminance component. Bigger h value perfectly removes noise but also removes image details, smaller h value preserves details but also preserves some noise</td>
</tr>
<tr class="row-even"><td>hColor</td>
<td>The same as h but for color components. For most images value equals 10 will be enough to remove colored noise and do not distort colors</td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-d1-d79-group-photo-denoise-1gaa501e71f52fb2dc17ff8ca5e7d2d3619">
<span id="index-5"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">fastNlMeansDenoisingColoredMulti</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga606feabe3b50ab6838f1ba89727aa07a"><span class="std std-ref">InputArrayOfArrays</span></a><span></span> <span class="n">srcImgs</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">imgToDenoiseIndex</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">temporalWindowSize</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">hColor</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">templateWindowSize</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">searchWindowSize</span> <span class="o">=</span> <span class="mi">21</span>
    <span class="p">)</span>
</pre>
<p>Modification of fastNlMeansDenoisingMulti function for colored images sequences.</p>
<p>The function converts images to CIELAB colorspace and then separately denoise L and AB components with given h parameters using fastNlMeansDenoisingMulti function.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>srcImgs</td>
<td>Input 8-bit 3-channel images sequence. All images should have the same type and size.</td>
</tr>
<tr class="row-even"><td>imgToDenoiseIndex</td>
<td>Target image to denoise index in srcImgs sequence</td>
</tr>
<tr class="row-odd"><td>temporalWindowSize</td>
<td>Number of surrounding images to use for target image denoising. Should be odd. Images from imgToDenoiseIndex - temporalWindowSize / 2 to imgToDenoiseIndex - temporalWindowSize / 2 from srcImgs will be used to denoise srcImgs[imgToDenoiseIndex] image.</td>
</tr>
<tr class="row-even"><td>dst</td>
<td>Output image with the same size and type as srcImgs images.</td>
</tr>
<tr class="row-odd"><td>templateWindowSize</td>
<td>Size in pixels of the template patch that is used to compute weights. Should be odd. Recommended value 7 pixels</td>
</tr>
<tr class="row-even"><td>searchWindowSize</td>
<td>Size in pixels of the window that is used to compute weighted average for given pixel. Should be odd. Affect performance linearly: greater searchWindowsSize - greater denoising time. Recommended value 21 pixels</td>
</tr>
<tr class="row-odd"><td>h</td>
<td>Parameter regulating filter strength for luminance component. Bigger h value perfectly removes noise but also removes image details, smaller h value preserves details but also preserves some noise.</td>
</tr>
<tr class="row-even"><td>hColor</td>
<td>The same as h but for color components.</td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-d1-d79-group-photo-denoise-1gaf4421bf068c4d632ea7f0aa38e0bf172">
<span id="index-6"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">fastNlMeansDenoisingMulti</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga606feabe3b50ab6838f1ba89727aa07a"><span class="std std-ref">InputArrayOfArrays</span></a><span></span> <span class="n">srcImgs</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">imgToDenoiseIndex</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">temporalWindowSize</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">templateWindowSize</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">searchWindowSize</span> <span class="o">=</span> <span class="mi">21</span>
    <span class="p">)</span>
</pre>
<p>Modification of fastNlMeansDenoising function for images sequence where consequtive images have been captured in small period of time. For example video. This version of the function is for grayscale images or for manual manipulation with colorspaces. For more details see <a class="reference external" href="http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.131.6394">http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.131.6394</a></p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>srcImgs</td>
<td>Input 8-bit 1-channel, 2-channel, 3-channel or 4-channel images sequence. All images should have the same type and size.</td>
</tr>
<tr class="row-even"><td>imgToDenoiseIndex</td>
<td>Target image to denoise index in srcImgs sequence</td>
</tr>
<tr class="row-odd"><td>temporalWindowSize</td>
<td>Number of surrounding images to use for target image denoising. Should be odd. Images from imgToDenoiseIndex - temporalWindowSize / 2 to imgToDenoiseIndex - temporalWindowSize / 2 from srcImgs will be used to denoise srcImgs[imgToDenoiseIndex] image.</td>
</tr>
<tr class="row-even"><td>dst</td>
<td>Output image with the same size and type as srcImgs images.</td>
</tr>
<tr class="row-odd"><td>templateWindowSize</td>
<td>Size in pixels of the template patch that is used to compute weights. Should be odd. Recommended value 7 pixels</td>
</tr>
<tr class="row-even"><td>searchWindowSize</td>
<td>Size in pixels of the window that is used to compute weighted average for given pixel. Should be odd. Affect performance linearly: greater searchWindowsSize - greater denoising time. Recommended value 21 pixels</td>
</tr>
<tr class="row-odd"><td>h</td>
<td>Parameter regulating filter strength. Bigger h value perfectly removes noise but also removes image details, smaller h value preserves details but also preserves some noise</td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-d1-d79-group-photo-denoise-1ga723ffde1969430fede9241402e198151">
<span id="index-7"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">fastNlMeansDenoisingMulti</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga606feabe3b50ab6838f1ba89727aa07a"><span class="std std-ref">InputArrayOfArrays</span></a><span></span> <span class="n">srcImgs</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">imgToDenoiseIndex</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">temporalWindowSize</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;&amp;</span> <span class="n">h</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">templateWindowSize</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">searchWindowSize</span> <span class="o">=</span> <span class="mi">21</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">normType</span> <span class="o">=</span> <a class="reference internal" href="enum_cv_NormTypes.html#doxid-d2-de8-group-core-array-1ggad12cefbcb5291cf958a85b4b67b6149fa7bacbe84d400336a8f26297d8e80e3a2"><span class="std std-ref">NORM_L2</span></a><span></span>
    <span class="p">)</span>
</pre>
<p>Modification of fastNlMeansDenoising function for images sequence where consequtive images have been captured in small period of time. For example video. This version of the function is for grayscale images or for manual manipulation with colorspaces. For more details see <a class="reference external" href="http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.131.6394">http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.131.6394</a></p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>srcImgs</td>
<td>Input 8-bit or 16-bit (only with NORM_L1) 1-channel, 2-channel, 3-channel or 4-channel images sequence. All images should have the same type and size.</td>
</tr>
<tr class="row-even"><td>imgToDenoiseIndex</td>
<td>Target image to denoise index in srcImgs sequence</td>
</tr>
<tr class="row-odd"><td>temporalWindowSize</td>
<td>Number of surrounding images to use for target image denoising. Should be odd. Images from imgToDenoiseIndex - temporalWindowSize / 2 to imgToDenoiseIndex - temporalWindowSize / 2 from srcImgs will be used to denoise srcImgs[imgToDenoiseIndex] image.</td>
</tr>
<tr class="row-even"><td>dst</td>
<td>Output image with the same size and type as srcImgs images.</td>
</tr>
<tr class="row-odd"><td>templateWindowSize</td>
<td>Size in pixels of the template patch that is used to compute weights. Should be odd. Recommended value 7 pixels</td>
</tr>
<tr class="row-even"><td>searchWindowSize</td>
<td>Size in pixels of the window that is used to compute weighted average for given pixel. Should be odd. Affect performance linearly: greater searchWindowsSize - greater denoising time. Recommended value 21 pixels</td>
</tr>
<tr class="row-odd"><td>h</td>
<td>Array of parameters regulating filter strength, either one parameter applied to all channels or one per channel in dst. Big h value perfectly removes noise but also removes image details, smaller h value preserves details but also preserves some noise</td>
</tr>
<tr class="row-even"><td>normType</td>
<td>Type of norm used for weight calculation. Can be either NORM_L2 or NORM_L1</td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-d1-d79-group-photo-denoise-1ga76abf348c234cecd0faf3c42ef3dc715">
<span id="index-8"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">cuda</span><span class="o">::</span><span class="n">fastNlMeansDenoising</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">h</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">search_window</span> <span class="o">=</span> <span class="mi">21</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">block_size</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
    <a class="reference internal" href="class_cv_cuda_Stream.html#doxid-d1-d04-classcv-1-1cuda-1-1-stream"><span class="std std-ref">Stream</span></a><span></span><span class="o">&amp;</span> <span class="n">stream</span> <span class="o">=</span> <a class="reference internal" href="class_cv_cuda_Stream.html#doxid-d1-d04-classcv-1-1cuda-1-1-stream-1a680af5adfeeb1cdaa5b7b13f680c0131"><span class="std std-ref">Stream::Null</span></a><span></span><span class="p">()</span>
    <span class="p">)</span>
</pre>
<p>Perform image denoising using Non-local Means Denoising algorithm <a class="reference external" href="http://www.ipol.im/pub/algo/bcm_non_local_means_denoising">http://www.ipol.im/pub/algo/bcm_non_local_means_denoising</a> with several computational optimizations. Noise expected to be a gaussian white noise.</p>
<p>This function expected to be applied to grayscale images. For colored images look at FastNonLocalMeansDenoising::labMethod.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>src</td>
<td>Input 8-bit 1-channel, 2-channel or 3-channel image.</td>
</tr>
<tr class="row-even"><td>dst</td>
<td>Output image with the same size and type as src .</td>
</tr>
<tr class="row-odd"><td>h</td>
<td>Parameter regulating filter strength. Big h value perfectly removes noise but also removes image details, smaller h value preserves details but also preserves some noise</td>
</tr>
<tr class="row-even"><td>search_window</td>
<td>Size in pixels of the window that is used to compute weighted average for given pixel. Should be odd. Affect performance linearly: greater search_window - greater denoising time. Recommended value 21 pixels</td>
</tr>
<tr class="row-odd"><td>block_size</td>
<td>Size in pixels of the template patch that is used to compute weights. Should be odd. Recommended value 7 pixels</td>
</tr>
<tr class="row-even"><td>stream</td>
<td><a class="reference internal" href="class_cv_cuda_Stream.html#doxid-d1-d04-classcv-1-1cuda-1-1-stream"><span class="std std-ref">Stream</span></a> for the asynchronous invocations.</td>
</tr>
</tbody>
</table>
<p class="rubric">See also:</p>
<p><a class="reference internal" href="#doxid-d1-d79-group-photo-denoise-1ga76abf348c234cecd0faf3c42ef3dc715"><span class="std std-ref">fastNlMeansDenoising</span></a></p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-d1-d79-group-photo-denoise-1ga21abc1c8b0e15f78cd3eff672cb6c476">
<span id="index-9"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">cuda</span><span class="o">::</span><span class="n">fastNlMeansDenoisingColored</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">h_luminance</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">photo_render</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">search_window</span> <span class="o">=</span> <span class="mi">21</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">block_size</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
    <a class="reference internal" href="class_cv_cuda_Stream.html#doxid-d1-d04-classcv-1-1cuda-1-1-stream"><span class="std std-ref">Stream</span></a><span></span><span class="o">&amp;</span> <span class="n">stream</span> <span class="o">=</span> <a class="reference internal" href="class_cv_cuda_Stream.html#doxid-d1-d04-classcv-1-1cuda-1-1-stream-1a680af5adfeeb1cdaa5b7b13f680c0131"><span class="std std-ref">Stream::Null</span></a><span></span><span class="p">()</span>
    <span class="p">)</span>
</pre>
<p>Modification of fastNlMeansDenoising function for colored images.</p>
<p>The function converts image to CIELAB colorspace and then separately denoise L and AB components with given h parameters using FastNonLocalMeansDenoising::simpleMethod function.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>src</td>
<td>Input 8-bit 3-channel image.</td>
</tr>
<tr class="row-even"><td>dst</td>
<td>Output image with the same size and type as src .</td>
</tr>
<tr class="row-odd"><td>h_luminance</td>
<td>Parameter regulating filter strength. Big h value perfectly removes noise but also removes image details, smaller h value preserves details but also preserves some noise</td>
</tr>
<tr class="row-even"><td>photo_render</td>
<td>float The same as h but for color components. For most images value equals 10 will be enough to remove colored noise and do not distort colors</td>
</tr>
<tr class="row-odd"><td>search_window</td>
<td>Size in pixels of the window that is used to compute weighted average for given pixel. Should be odd. Affect performance linearly: greater search_window - greater denoising time. Recommended value 21 pixels</td>
</tr>
<tr class="row-even"><td>block_size</td>
<td>Size in pixels of the template patch that is used to compute weights. Should be odd. Recommended value 7 pixels</td>
</tr>
<tr class="row-odd"><td>stream</td>
<td><a class="reference internal" href="class_cv_cuda_Stream.html#doxid-d1-d04-classcv-1-1cuda-1-1-stream"><span class="std std-ref">Stream</span></a> for the asynchronous invocations.</td>
</tr>
</tbody>
</table>
<p class="rubric">See also:</p>
<p><a class="reference internal" href="#doxid-d1-d79-group-photo-denoise-1ga21abc1c8b0e15f78cd3eff672cb6c476"><span class="std std-ref">fastNlMeansDenoisingColored</span></a></p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-d1-d79-group-photo-denoise-1gafa990f16548581987e7e509b435c3648">
<span id="index-10"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">cuda</span><span class="o">::</span><span class="n">nonLocalMeans</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">h</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">search_window</span> <span class="o">=</span> <span class="mi">21</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">block_size</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">borderMode</span> <span class="o">=</span> <a class="reference internal" href="enum_cv_BorderTypes.html#doxid-d2-de8-group-core-array-1gga209f2f4869e304c82d07739337eae7c5afe14c13a4ea8b8e3b3ef399013dbae01"><span class="std std-ref">BORDER_DEFAULT</span></a><span></span><span class="p">,</span>
    <a class="reference internal" href="class_cv_cuda_Stream.html#doxid-d1-d04-classcv-1-1cuda-1-1-stream"><span class="std std-ref">Stream</span></a><span></span><span class="o">&amp;</span> <span class="n">stream</span> <span class="o">=</span> <a class="reference internal" href="class_cv_cuda_Stream.html#doxid-d1-d04-classcv-1-1cuda-1-1-stream-1a680af5adfeeb1cdaa5b7b13f680c0131"><span class="std std-ref">Stream::Null</span></a><span></span><span class="p">()</span>
    <span class="p">)</span>
</pre>
<p>Performs pure non local means denoising without any simplification, and thus it is not fast.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>src</td>
<td>Source image. Supports only CV_8UC1, CV_8UC2 and CV_8UC3.</td>
</tr>
<tr class="row-even"><td>dst</td>
<td>Destination image.</td>
</tr>
<tr class="row-odd"><td>h</td>
<td><a class="reference internal" href="class_cv_cuda_Filter.html#doxid-db-dde-classcv-1-1cuda-1-1-filter"><span class="std std-ref">Filter</span></a> sigma regulating filter strength for color.</td>
</tr>
<tr class="row-even"><td>search_window</td>
<td>Size of search window.</td>
</tr>
<tr class="row-odd"><td>block_size</td>
<td>Size of block used for computing weights.</td>
</tr>
<tr class="row-even"><td>borderMode</td>
<td>Border type. See borderInterpolate for details. BORDER_REFLECT101 , BORDER_REPLICATE , BORDER_CONSTANT , BORDER_REFLECT and BORDER_WRAP are supported for now.</td>
</tr>
<tr class="row-odd"><td>stream</td>
<td><a class="reference internal" href="class_cv_cuda_Stream.html#doxid-d1-d04-classcv-1-1cuda-1-1-stream"><span class="std std-ref">Stream</span></a> for the asynchronous version.</td>
</tr>
</tbody>
</table>
<p class="rubric">See also:</p>
<p><a class="reference internal" href="#doxid-d1-d79-group-photo-denoise-1ga76abf348c234cecd0faf3c42ef3dc715"><span class="std std-ref">fastNlMeansDenoising</span></a></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="group_photo_hdr.html" class="btn btn-neutral float-right" title="HDR imaging" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="enum_InpaintingModes.html" class="btn btn-neutral float-left" title="enum InpaintingModes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 1999-2017, OpenCV Maintainers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>