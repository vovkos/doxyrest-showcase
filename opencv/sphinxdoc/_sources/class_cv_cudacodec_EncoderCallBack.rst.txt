.. index:: pair: class; cv::cudacodec::EncoderCallBack
.. _doxid-d5/db3/classcv_1_1cudacodec_1_1_encoder_call_back:

class cv::cudacodec::EncoderCallBack
====================================

.. toctree::
	:hidden:

	enum_cv_cudacodec_EncoderCallBack_PicType.rst

Overview
~~~~~~~~

Callbacks for CUDA video encoder. :ref:`More...<details-d5/db3/classcv_1_1cudacodec_1_1_encoder_call_back>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <cudacodec.hpp>
	
	class EncoderCallBack
	{
	public:
		// enums
	
		enum :ref:`PicType<doxid-d5/db3/classcv_1_1cudacodec_1_1_encoder_call_back_1a438ff7f710203a94e60577c9f4a70843>`;

		// methods
	
		virtual
		:ref:`uchar<doxid-d1/d1b/group__core__hal__interface_1ga65f85814a8290f9797005d3b28e7e5fc>`*
		:ref:`acquireBitStream<doxid-d5/db3/classcv_1_1cudacodec_1_1_encoder_call_back_1aab9d680124d5f75b41fbfdac3dadddbc>`(int* bufferSize) = 0;
	
		virtual
		void
		:ref:`onBeginFrame<doxid-d5/db3/classcv_1_1cudacodec_1_1_encoder_call_back_1acddffb59c9c5bbaf75589c88e37c0470>`(
			int frameNumber,
			:ref:`PicType<doxid-d5/db3/classcv_1_1cudacodec_1_1_encoder_call_back_1a438ff7f710203a94e60577c9f4a70843>` picType
			) = 0;
	
		virtual
		void
		:ref:`onEndFrame<doxid-d5/db3/classcv_1_1cudacodec_1_1_encoder_call_back_1aa3a887f128462490992ecadb5ddacb46>`(
			int frameNumber,
			:ref:`PicType<doxid-d5/db3/classcv_1_1cudacodec_1_1_encoder_call_back_1a438ff7f710203a94e60577c9f4a70843>` picType
			) = 0;
	
		virtual
		void
		:ref:`releaseBitStream<doxid-d5/db3/classcv_1_1cudacodec_1_1_encoder_call_back_1a2eb0f4b44dec63bb43a1eadfcf18bd63>`(
			unsigned char* data,
			int size
			) = 0;
	};
.. _details-d5/db3/classcv_1_1cudacodec_1_1_encoder_call_back:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

Callbacks for CUDA video encoder.

Methods
-------

.. index:: pair: function; acquireBitStream
.. _doxid-d5/db3/classcv_1_1cudacodec_1_1_encoder_call_back_1aab9d680124d5f75b41fbfdac3dadddbc:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	:ref:`uchar<doxid-d1/d1b/group__core__hal__interface_1ga65f85814a8290f9797005d3b28e7e5fc>`*
	acquireBitStream(int* bufferSize) = 0

Callback function to signal the start of bitstream that is to be encoded.

Callback must allocate buffer for CUDA encoder and return pointer to it and it's size.

.. index:: pair: function; onBeginFrame
.. _doxid-d5/db3/classcv_1_1cudacodec_1_1_encoder_call_back_1acddffb59c9c5bbaf75589c88e37c0470:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	onBeginFrame(
		int frameNumber,
		:ref:`PicType<doxid-d5/db3/classcv_1_1cudacodec_1_1_encoder_call_back_1a438ff7f710203a94e60577c9f4a70843>` picType
		) = 0

Callback function to signal that the encoding operation on the frame has started.



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- frameNumber

		- 

	*
		- picType

		- Specify frame type (I-Frame, P-Frame or B-Frame).

.. index:: pair: function; onEndFrame
.. _doxid-d5/db3/classcv_1_1cudacodec_1_1_encoder_call_back_1aa3a887f128462490992ecadb5ddacb46:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	onEndFrame(
		int frameNumber,
		:ref:`PicType<doxid-d5/db3/classcv_1_1cudacodec_1_1_encoder_call_back_1a438ff7f710203a94e60577c9f4a70843>` picType
		) = 0

Callback function signals that the encoding operation on the frame has finished.



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- frameNumber

		- 

	*
		- picType

		- Specify frame type (I-Frame, P-Frame or B-Frame).

.. index:: pair: function; releaseBitStream
.. _doxid-d5/db3/classcv_1_1cudacodec_1_1_encoder_call_back_1a2eb0f4b44dec63bb43a1eadfcf18bd63:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	releaseBitStream(
		unsigned char* data,
		int size
		) = 0

Callback function to signal that the encoded bitstream is ready to be written to file.

