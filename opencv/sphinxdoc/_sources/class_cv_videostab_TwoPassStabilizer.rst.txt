.. index:: pair: class; cv::videostab::TwoPassStabilizer
.. _doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer:

class cv::videostab::TwoPassStabilizer
======================================

.. toctree::
	:hidden:




.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <stabilizer.hpp>
	
	class TwoPassStabilizer:
	    public :ref:`cv::videostab::StabilizerBase<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base>`,
	    public :ref:`cv::videostab::IFrameSource<doxid-d9/d77/classcv_1_1videostab_1_1_i_frame_source>`
	{
	public:
		// methods
	
		:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`IMotionStabilizer<doxid-de/db9/classcv_1_1videostab_1_1_i_motion_stabilizer>`>
		:target:`motionStabilizer<doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer_1a7d5d9714f66ed34381f21f9e416a3c75>`() const;
	
		bool
		:target:`mustEstimateTrimaRatio<doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer_1a39dbf002bfc87325c45726288c278b97>`() const;
	
		virtual
		:ref:`Mat<doxid-db/de6/classcv_1_1_mat>`
		:target:`nextFrame<doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer_1a0723d29a26da06aacf398e55953a0f17>`();
	
		virtual
		void
		:target:`reset<doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer_1af0570849907f204550d3307d5561a3e4>`();
	
		void
		:target:`setEstimateTrimRatio<doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer_1a9c5f4df50af8214defda588f3c6be4d7>`(bool val);
	
		void
		:target:`setMotionStabilizer<doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer_1af234eec62a25308270c95f7f066e74aa>`(:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`IMotionStabilizer<doxid-de/db9/classcv_1_1videostab_1_1_i_motion_stabilizer>`> val);
	
		void
		:target:`setWobbleSuppressor<doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer_1ad0a574ccd17df9d2a59acee82fad97a0>`(:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`WobbleSuppressorBase<doxid-d9/d3f/classcv_1_1videostab_1_1_wobble_suppressor_base>`> val);
	
		:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`WobbleSuppressorBase<doxid-d9/d3f/classcv_1_1videostab_1_1_wobble_suppressor_base>`>
		:target:`wobbleSuppressor<doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer_1a764d3f09e4906ef6e5ec7f1a3686fea1>`() const;

	protected:
		// fields
	
		bool :target:`doWobbleSuppression_<doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer_1aac5c916da3621d2367acb9abb6b6dee6>`;
		int :target:`frameCount_<doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer_1a97ba722224a9aebef85fc52f96ff40b5>`;
		bool :target:`isPrePassDone_<doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer_1a27cb48b75a2390e88af1fa2d8c2f4c28>`;
		std::vector<:ref:`Mat<doxid-db/de6/classcv_1_1_mat>`> :target:`motions2_<doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer_1aba137eabaa62e57971247c939d447e08>`;
		:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`IMotionStabilizer<doxid-de/db9/classcv_1_1videostab_1_1_i_motion_stabilizer>`> :target:`motionStabilizer_<doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer_1ab46fac67a00e7184077111bc8e6a560d>`;
		bool :target:`mustEstTrimRatio_<doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer_1a590f1fb1c89bb92f1e3a47ae11bc61c4>`;
		:ref:`Mat<doxid-db/de6/classcv_1_1_mat>` :target:`suppressedFrame_<doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer_1a203f58bdb554c66e152401327219beb4>`;
		:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`WobbleSuppressorBase<doxid-d9/d3f/classcv_1_1videostab_1_1_wobble_suppressor_base>`> :target:`wobbleSuppressor_<doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer_1a846fdfe7df7f6e9734ae98f033f2b8b0>`;

		// methods
	
		virtual
		:ref:`Mat<doxid-db/de6/classcv_1_1_mat>`
		:target:`estimateMotion<doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer_1ad5f5b25f8b93c633ded345a790ca95a8>`();
	
		virtual
		:ref:`Mat<doxid-db/de6/classcv_1_1_mat>`
		:target:`estimateStabilizationMotion<doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer_1aa6349668e2a95186f4e673f92016078d>`();
	
		virtual
		:ref:`Mat<doxid-db/de6/classcv_1_1_mat>`
		:target:`postProcessFrame<doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer_1a107e1f9ce208cc6fa9a3e713cf4458fe>`(const :ref:`Mat<doxid-db/de6/classcv_1_1_mat>`& frame);
	
		void
		:target:`runPrePassIfNecessary<doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer_1a45d12141d2137d94aa862ea4560f6155>`();
	
		virtual
		void
		:target:`setUp<doxid-d1/de2/classcv_1_1videostab_1_1_two_pass_stabilizer_1a85d5fda5d0c5672e2430351accdb00f3>`(const :ref:`Mat<doxid-db/de6/classcv_1_1_mat>`& firstFrame);
	};

Inherited Members
-----------------

.. ref-code-block:: cpp
	:class: doxyrest-overview-inherited-code-block

	public:
		// methods
	
		int
		:ref:`borderMode<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a84049a042202eaaa59d3822207955dfa>`() const;
	
		:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`DeblurerBase<doxid-dc/d48/classcv_1_1videostab_1_1_deblurer_base>`>
		:ref:`deblurrer<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a1ce9686e0c40d131f606cfa1feb73181>`() const;
	
		bool
		:ref:`doCorrectionForInclusion<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1ab72fa834ec03b7db3d1c1926b8c900e6>`() const;
	
		:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`IFrameSource<doxid-d9/d77/classcv_1_1videostab_1_1_i_frame_source>`>
		:ref:`frameSource<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a46172358a436b6e184626d8c67ba0d17>`() const;
	
		:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`InpainterBase<doxid-d7/d33/classcv_1_1videostab_1_1_inpainter_base>`>
		:ref:`inpainter<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1afe5046c6efef3aef80125d7d61a4dab1>`() const;
	
		:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`ILog<doxid-db/d33/classcv_1_1videostab_1_1_i_log>`>
		:ref:`log<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a61821aff05bfa68006c5a960bef5d238>`() const;
	
		:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`ImageMotionEstimatorBase<doxid-db/d18/classcv_1_1videostab_1_1_image_motion_estimator_base>`>
		:ref:`motionEstimator<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a8ab5adc5cefe91ef4397bd2d01111b26>`() const;
	
		int
		:ref:`radius<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1ad82e929ad0db08202a77b6383e408687>`() const;
	
		void
		:ref:`setBorderMode<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a5c2b79352223792a044080dfd365b30b>`(int val);
	
		void
		:ref:`setCorrectionForInclusion<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1ada19bffb5b015f14af92e7c472989605>`(bool val);
	
		void
		:ref:`setDeblurer<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a45319b46a3729c36cda4f664da2a69b1>`(:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`DeblurerBase<doxid-dc/d48/classcv_1_1videostab_1_1_deblurer_base>`> val);
	
		void
		:ref:`setFrameSource<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a107e9f7960b7efd7e210b5e178118021>`(:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`IFrameSource<doxid-d9/d77/classcv_1_1videostab_1_1_i_frame_source>`> val);
	
		void
		:ref:`setInpainter<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1add20a4cf58f541dbafcaa290a3c35f16>`(:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`InpainterBase<doxid-d7/d33/classcv_1_1videostab_1_1_inpainter_base>`> val);
	
		void
		:ref:`setLog<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1ad5a4f03a204822a1f17dd0fe5da6317d>`(:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`ILog<doxid-db/d33/classcv_1_1videostab_1_1_i_log>`> ilog);
	
		void
		:ref:`setMotionEstimator<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a6e8c33ea40e8dde5b5083c16338307c6>`(:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`ImageMotionEstimatorBase<doxid-db/d18/classcv_1_1videostab_1_1_image_motion_estimator_base>`> val);
	
		void
		:ref:`setRadius<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a0245ba9e08329f9ac2f617a8f7c1eaaf>`(int val);
	
		void
		:ref:`setTrimRatio<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1aac98667cf80a45d764e883b5a02ae152>`(float val);
	
		float
		:ref:`trimRatio<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1afc3dbde54f82fac976999469e049a3db>`() const;
	
		virtual
		:ref:`Mat<doxid-db/de6/classcv_1_1_mat>`
		:ref:`nextFrame<doxid-d9/d77/classcv_1_1videostab_1_1_i_frame_source_1a9f20adf64db74c9673eccf8d75f88ad8>`() = 0;
	
		virtual
		void
		:ref:`reset<doxid-d9/d77/classcv_1_1videostab_1_1_i_frame_source_1a4aca86a6810f2330f4934db4dce65822>`() = 0;

	protected:
		// fields
	
		std::vector<float> :ref:`blurrinessRates_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1ad515524cacce64cea069d6d85ca85be5>`;
		int :ref:`borderMode_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1aa31e13475d4e01a4e53b83838200a585>`;
		int :ref:`curPos_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a1aad590502b048b61f749435c44e22ea>`;
		int :ref:`curStabilizedPos_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a0c5cefe4d769bd32a238474101e31ecf>`;
		:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`DeblurerBase<doxid-dc/d48/classcv_1_1videostab_1_1_deblurer_base>`> :ref:`deblurer_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1adae3e5a562d4491fc2cbc1bb1b2a6132>`;
		bool :ref:`doCorrectionForInclusion_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a14468697674d4710267abeaba1dfefbe>`;
		bool :ref:`doDeblurring_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a39b55a0336972805eab06cab1ac0e727>`;
		bool :ref:`doInpainting_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a5705ca2493231a2b041412434b25d37b>`;
		:ref:`Mat<doxid-db/de6/classcv_1_1_mat>` :ref:`finalFrame_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1af52740f8abfa2a537aa64e994f35ef6b>`;
		:ref:`Mat<doxid-db/de6/classcv_1_1_mat>` :ref:`frameMask_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a6c0c928aba126ee1e82d99854c6802c4>`;
		std::vector<:ref:`Mat<doxid-db/de6/classcv_1_1_mat>`> :ref:`frames_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a1ea7895d1ad39d39fcea5e96a1bffa50>`;
		:ref:`Size<doxid-dc/d84/group__core__basic_1ga346f563897249351a34549137c8532a0>` :ref:`frameSize_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1ac8532a295a5e7984095b44ceace4ea41>`;
		:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`IFrameSource<doxid-d9/d77/classcv_1_1videostab_1_1_i_frame_source>`> :ref:`frameSource_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a7ffe51bcff9eeb916f0b153e206bf604>`;
		:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`InpainterBase<doxid-d7/d33/classcv_1_1videostab_1_1_inpainter_base>`> :ref:`inpainter_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1aa6997fb6ae1915a8df3c0d7f58f7ed8b>`;
		:ref:`Mat<doxid-db/de6/classcv_1_1_mat>` :ref:`inpaintingMask_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a8e07199a116143e55c3566c722350b93>`;
		:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`ILog<doxid-db/d33/classcv_1_1videostab_1_1_i_log>`> :ref:`log_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a3d134bf4df68ce2a559d5d69fb187c88>`;
		:ref:`Ptr<doxid-d2/d56/structcv_1_1_ptr>`<:ref:`ImageMotionEstimatorBase<doxid-db/d18/classcv_1_1videostab_1_1_image_motion_estimator_base>`> :ref:`motionEstimator_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1ad668ce4753c5633eab4704eda99c2936>`;
		std::vector<:ref:`Mat<doxid-db/de6/classcv_1_1_mat>`> :ref:`motions_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a0f134ba4672305e6949a62cdfd8b8d36>`;
		:ref:`Mat<doxid-db/de6/classcv_1_1_mat>` :ref:`preProcessedFrame_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1acffea61e04a38c512e09a643ae2c8d13>`;
		clock_t :ref:`processingStartTime_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a8debf88a6cab45a8b09035584815f5bd>`;
		int :ref:`radius_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a9fceea8c4e22b8bbca30561d1a309e2e>`;
		std::vector<:ref:`Mat<doxid-db/de6/classcv_1_1_mat>`> :ref:`stabilizationMotions_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1aeb86f1064652cceb6f9a1735a81da5af>`;
		std::vector<:ref:`Mat<doxid-db/de6/classcv_1_1_mat>`> :ref:`stabilizedFrames_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1afbf3e2dd807b19647b545585cf0dbd3e>`;
		std::vector<:ref:`Mat<doxid-db/de6/classcv_1_1_mat>`> :ref:`stabilizedMasks_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1ac77d036c0a94ca9b34ae8f8c69ac220d>`;
		float :ref:`trimRatio_<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1acd5ad58425a94dd6af0a29b98ee5517c>`;

		// methods
	
		bool
		:ref:`doOneIteration<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1ade2bda91481dab757bf2ffe3f4f27465>`();
	
		virtual
		:ref:`Mat<doxid-db/de6/classcv_1_1_mat>`
		:ref:`estimateMotion<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1ae07ca7a4967e6158cc157fd61c63cf1f>`() = 0;
	
		virtual
		:ref:`Mat<doxid-db/de6/classcv_1_1_mat>`
		:ref:`estimateStabilizationMotion<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a7cd53ec2cebeeefb57ca5616d3de6ca8>`() = 0;
	
		void
		:ref:`logProcessingTime<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1aba0b47e6b1371d70beb659fff7f94fe8>`();
	
		:ref:`Mat<doxid-db/de6/classcv_1_1_mat>`
		:ref:`nextStabilizedFrame<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a59ffdca7516042b0553a43c7b3cdcf74>`();
	
		virtual
		:ref:`Mat<doxid-db/de6/classcv_1_1_mat>`
		:ref:`postProcessFrame<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1aeaeea250e70f8618e72a2f4fe8224398>`(const :ref:`Mat<doxid-db/de6/classcv_1_1_mat>`& frame);
	
		void
		:ref:`reset<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a0a04c12c0db40651f58cec47f091117a>`();
	
		virtual
		void
		:ref:`setUp<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1a3106ad788ee8a1c1a8605437c26d111a>`(const :ref:`Mat<doxid-db/de6/classcv_1_1_mat>`& firstFrame);
	
		void
		:ref:`stabilizeFrame<doxid-de/d9e/classcv_1_1videostab_1_1_stabilizer_base_1aff4ee85e72d58fb3eb09c0f5c8a9314c>`();

