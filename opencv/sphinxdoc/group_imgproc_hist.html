
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Histograms &#8212; OpenCV Documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-sphinxdoc.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/target-highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="enum cv::HistCompMethods" href="enum_cv_HistCompMethods.html" />
    <link rel="prev" title="struct cvhalFilter2D" href="struct_cvhalFilter2D.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="enum_cv_HistCompMethods.html" title="enum cv::HistCompMethods"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="struct_cvhalFilter2D.html" title="struct cvhalFilter2D"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">OpenCV Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="group_imgproc.html" accesskey="U">Image processing</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Histograms</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#detailed-documentation">Detailed Documentation</a><ul>
<li><a class="reference internal" href="#global-functions">Global Functions</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="struct_cvhalFilter2D.html"
                        title="previous chapter">struct cvhalFilter2D</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="enum_cv_HistCompMethods.html"
                        title="next chapter">enum cv::HistCompMethods</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="histograms">
<span id="doxid-d6-dc7-group-imgproc-hist"></span><span id="index-0"></span><h1>Histograms</h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="overview">
<h2>Overview</h2>
<pre class="highlight doxyrest-overview-code-block literal-block">
<span></span><span class="c1">// enums</span>

<span class="k">enum</span> <a class="reference internal" href="enum_cv_HistCompMethods.html#doxid-d6-dc7-group-imgproc-hist-1ga994f53817d621e2e4228fc646342d386"><span class="std std-ref">cv::HistCompMethods</span></a><span></span><span class="p">;</span>

<span class="c1">// global functions</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-d6-dc7-group-imgproc-hist-1ga3a0af640716b456c3d14af8aee12e3ca"><span class="std std-ref">cv::calcBackProject</span></a><span></span><span class="p">(</span>
    <span class="k">const</span> <a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span><span class="o">*</span> <span class="n">images</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">nimages</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span><span class="o">*</span> <span class="n">channels</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">hist</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">backProject</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">float</span><span class="o">**</span> <span class="n">ranges</span><span class="p">,</span>
    <span class="kt">double</span> <span class="n">scale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">uniform</span> <span class="o">=</span> <span class="nb">true</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-d6-dc7-group-imgproc-hist-1ga4a9f37b04e5c37fa3a8825774af6dfac"><span class="std std-ref">cv::calcBackProject</span></a><span></span><span class="p">(</span>
    <span class="k">const</span> <a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span><span class="o">*</span> <span class="n">images</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">nimages</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span><span class="o">*</span> <span class="n">channels</span><span class="p">,</span>
    <span class="k">const</span> <a class="reference internal" href="class_cv_SparseMat.html#doxid-d5-d29-classcv-1-1-sparse-mat"><span class="std std-ref">SparseMat</span></a><span></span><span class="o">&amp;</span> <span class="n">hist</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">backProject</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">float</span><span class="o">**</span> <span class="n">ranges</span><span class="p">,</span>
    <span class="kt">double</span> <span class="n">scale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">uniform</span> <span class="o">=</span> <span class="nb">true</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-d6-dc7-group-imgproc-hist-1gab644bc90e7475cc047aa1b25dbcbd8df"><span class="std std-ref">cv::calcBackProject</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga606feabe3b50ab6838f1ba89727aa07a"><span class="std std-ref">InputArrayOfArrays</span></a><span></span> <span class="n">images</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">channels</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">hist</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;&amp;</span> <span class="n">ranges</span><span class="p">,</span>
    <span class="kt">double</span> <span class="n">scale</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-d6-dc7-group-imgproc-hist-1ga4b2b5fd75503ff9e6844cc4dcdaed35d"><span class="std std-ref">cv::calcHist</span></a><span></span><span class="p">(</span>
    <span class="k">const</span> <a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span><span class="o">*</span> <span class="n">images</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">nimages</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span><span class="o">*</span> <span class="n">channels</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">mask</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">hist</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">dims</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span><span class="o">*</span> <span class="n">histSize</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">float</span><span class="o">**</span> <span class="n">ranges</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">uniform</span> <span class="o">=</span> <span class="nb">true</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">accumulate</span> <span class="o">=</span> <span class="nb">false</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-d6-dc7-group-imgproc-hist-1gada9d547662b7f832dd7b93d378b1137d"><span class="std std-ref">cv::calcHist</span></a><span></span><span class="p">(</span>
    <span class="k">const</span> <a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span><span class="o">*</span> <span class="n">images</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">nimages</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span><span class="o">*</span> <span class="n">channels</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">mask</span><span class="p">,</span>
    <a class="reference internal" href="class_cv_SparseMat.html#doxid-d5-d29-classcv-1-1-sparse-mat"><span class="std std-ref">SparseMat</span></a><span></span><span class="o">&amp;</span> <span class="n">hist</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">dims</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span><span class="o">*</span> <span class="n">histSize</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">float</span><span class="o">**</span> <span class="n">ranges</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">uniform</span> <span class="o">=</span> <span class="nb">true</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">accumulate</span> <span class="o">=</span> <span class="nb">false</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-d6-dc7-group-imgproc-hist-1ga6ca1876785483836f72a77ced8ea759a"><span class="std std-ref">cv::calcHist</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga606feabe3b50ab6838f1ba89727aa07a"><span class="std std-ref">InputArrayOfArrays</span></a><span></span> <span class="n">images</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">channels</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">mask</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">hist</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">histSize</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;&amp;</span> <span class="n">ranges</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">accumulate</span> <span class="o">=</span> <span class="nb">false</span>
    <span class="p">);</span>

<span class="kt">double</span>
<a class="reference internal" href="#doxid-d6-dc7-group-imgproc-hist-1gaf4190090efa5c47cb367cf97a9a519bd"><span class="std std-ref">cv::compareHist</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">H1</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">H2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">method</span>
    <span class="p">);</span>

<span class="kt">double</span>
<a class="reference internal" href="#doxid-d6-dc7-group-imgproc-hist-1ga41a249ba9a536bf2b47e95f8c7dd42b0"><span class="std std-ref">cv::compareHist</span></a><span></span><span class="p">(</span>
    <span class="k">const</span> <a class="reference internal" href="class_cv_SparseMat.html#doxid-d5-d29-classcv-1-1-sparse-mat"><span class="std std-ref">SparseMat</span></a><span></span><span class="o">&amp;</span> <span class="n">H1</span><span class="p">,</span>
    <span class="k">const</span> <a class="reference internal" href="class_cv_SparseMat.html#doxid-d5-d29-classcv-1-1-sparse-mat"><span class="std std-ref">SparseMat</span></a><span></span><span class="o">&amp;</span> <span class="n">H2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">method</span>
    <span class="p">);</span>

<span class="kt">float</span>
<a class="reference internal" href="#doxid-d6-dc7-group-imgproc-hist-1ga902b8e60cc7075c8947345489221e0e0"><span class="std std-ref">cv::EMD</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">signature1</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">signature2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">distType</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">cost</span> <span class="o">=</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gad9287b23bba2fed753b36ef561ae7346"><span class="std std-ref">noArray</span></a><span></span><span class="p">(),</span>
    <span class="kt">float</span><span class="o">*</span> <span class="n">lowerBound</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">flow</span> <span class="o">=</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gad9287b23bba2fed753b36ef561ae7346"><span class="std std-ref">noArray</span></a><span></span><span class="p">()</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-d6-dc7-group-imgproc-hist-1ga7e54091f0c937d49bf84152a16f76d6e"><span class="std std-ref">cv::equalizeHist</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span>
    <span class="p">);</span>

<span class="kt">float</span>
<span class="doxyrest-code-target target" id="doxid-d6-dc7-group-imgproc-hist-1ga31fdda0864e64ca6b9de252a2611758b">cv::wrapperEMD</span><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">signature1</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">signature2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">distType</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">cost</span> <span class="o">=</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gad9287b23bba2fed753b36ef561ae7346"><span class="std std-ref">noArray</span></a><span></span><span class="p">(),</span>
    <a class="reference internal" href="struct_cv_Ptr.html#doxid-d2-d56-structcv-1-1-ptr"><span class="std std-ref">Ptr</span></a><span></span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span> <span class="n">lowerBound</span> <span class="o">=</span> <a class="reference internal" href="struct_cv_Ptr.html#doxid-d2-d56-structcv-1-1-ptr"><span class="std std-ref">Ptr</span></a><span></span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="p">(),</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">flow</span> <span class="o">=</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gad9287b23bba2fed753b36ef561ae7346"><span class="std std-ref">noArray</span></a><span></span><span class="p">()</span>
    <span class="p">);</span>
</pre>
</div>
<div class="section" id="detailed-documentation">
<span id="details-d6-dc7-group-imgproc-hist"></span><h2>Detailed Documentation</h2>
<div class="section" id="global-functions">
<h3>Global Functions</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-d6-dc7-group-imgproc-hist-1ga3a0af640716b456c3d14af8aee12e3ca">
<span id="index-1"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">calcBackProject</span><span class="p">(</span>
    <span class="k">const</span> <a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span><span class="o">*</span> <span class="n">images</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">nimages</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span><span class="o">*</span> <span class="n">channels</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">hist</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">backProject</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">float</span><span class="o">**</span> <span class="n">ranges</span><span class="p">,</span>
    <span class="kt">double</span> <span class="n">scale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">uniform</span> <span class="o">=</span> <span class="nb">true</span>
    <span class="p">)</span>
</pre>
<p>Calculates the back projection of a histogram.</p>
<p>The function <a class="reference internal" href="#doxid-d6-dc7-group-imgproc-hist-1ga3a0af640716b456c3d14af8aee12e3ca"><span class="std std-ref">cv::calcBackProject</span></a> calculates the back project of the histogram. That is, similarly to <a class="reference internal" href="#doxid-d6-dc7-group-imgproc-hist-1ga4b2b5fd75503ff9e6844cc4dcdaed35d"><span class="std std-ref">cv::calcHist</span></a>, at each location (x, y) the function collects the values from the selected channels in the input images and finds the corresponding histogram bin. But instead of incrementing it, the function reads the bin value, scales it by scale , and stores in backProject(x,y) . In terms of statistics, the function computes probability of each element value in respect with the empirical probability distribution represented by the histogram. See how, for example, you can find and track a bright-colored object in a scene:</p>
<ul class="simple">
<li>Before tracking, show the object to the camera so that it covers almost the whole frame. Calculate a hue histogram. The histogram may have strong maximums, corresponding to the dominant colors in the object.</li>
<li>When tracking, calculate a back projection of a hue plane of each input video frame using that pre-computed histogram. Threshold the back projection to suppress weak colors. It may also make sense to suppress pixels with non-sufficient color saturation and too dark or too bright pixels.</li>
<li>Find connected components in the resulting picture and choose, for example, the largest component.</li>
</ul>
<p>This is an approximate algorithm of the CamShift color object tracker.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>images</td>
<td>Source arrays. They all should have the same depth, CV_8U, CV_16U or CV_32F , and the same size. Each of them can have an arbitrary number of channels.</td>
</tr>
<tr class="row-even"><td>nimages</td>
<td>Number of source images.</td>
</tr>
<tr class="row-odd"><td>channels</td>
<td>The list of channels used to compute the back projection. The number of channels must match the histogram dimensionality. The first array channels are numerated from 0 to images[0].channels()-1 , the second array channels are counted from images[0].channels() to images[0].channels() + images[1].channels()-1, and so on.</td>
</tr>
<tr class="row-even"><td>hist</td>
<td>Input histogram that can be dense or sparse.</td>
</tr>
<tr class="row-odd"><td>backProject</td>
<td>Destination back projection array that is a single-channel array of the same size and depth as images[0] .</td>
</tr>
<tr class="row-even"><td>ranges</td>
<td>Array of arrays of the histogram bin boundaries in each dimension. See <a class="reference internal" href="#doxid-d6-dc7-group-imgproc-hist-1ga4b2b5fd75503ff9e6844cc4dcdaed35d"><span class="std std-ref">cv::calcHist</span></a>.</td>
</tr>
<tr class="row-odd"><td>scale</td>
<td>Optional scale factor for the output back projection.</td>
</tr>
<tr class="row-even"><td>uniform</td>
<td>Flag indicating whether the histogram is uniform or not (see above).</td>
</tr>
</tbody>
</table>
<p class="rubric">See also:</p>
<p><a class="reference internal" href="#doxid-d6-dc7-group-imgproc-hist-1ga4b2b5fd75503ff9e6844cc4dcdaed35d"><span class="std std-ref">cv::calcHist</span></a>, <a class="reference internal" href="#doxid-d6-dc7-group-imgproc-hist-1gaf4190090efa5c47cb367cf97a9a519bd"><span class="std std-ref">cv::compareHist</span></a></p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-d6-dc7-group-imgproc-hist-1ga4a9f37b04e5c37fa3a8825774af6dfac">
<span id="index-2"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">calcBackProject</span><span class="p">(</span>
    <span class="k">const</span> <a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span><span class="o">*</span> <span class="n">images</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">nimages</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span><span class="o">*</span> <span class="n">channels</span><span class="p">,</span>
    <span class="k">const</span> <a class="reference internal" href="class_cv_SparseMat.html#doxid-d5-d29-classcv-1-1-sparse-mat"><span class="std std-ref">SparseMat</span></a><span></span><span class="o">&amp;</span> <span class="n">hist</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">backProject</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">float</span><span class="o">**</span> <span class="n">ranges</span><span class="p">,</span>
    <span class="kt">double</span> <span class="n">scale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">uniform</span> <span class="o">=</span> <span class="nb">true</span>
    <span class="p">)</span>
</pre>
<p>This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-d6-dc7-group-imgproc-hist-1gab644bc90e7475cc047aa1b25dbcbd8df">
<span id="index-3"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">calcBackProject</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga606feabe3b50ab6838f1ba89727aa07a"><span class="std std-ref">InputArrayOfArrays</span></a><span></span> <span class="n">images</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">channels</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">hist</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;&amp;</span> <span class="n">ranges</span><span class="p">,</span>
    <span class="kt">double</span> <span class="n">scale</span>
    <span class="p">)</span>
</pre>
<p>This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-d6-dc7-group-imgproc-hist-1ga4b2b5fd75503ff9e6844cc4dcdaed35d">
<span id="index-4"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">calcHist</span><span class="p">(</span>
    <span class="k">const</span> <a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span><span class="o">*</span> <span class="n">images</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">nimages</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span><span class="o">*</span> <span class="n">channels</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">mask</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">hist</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">dims</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span><span class="o">*</span> <span class="n">histSize</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">float</span><span class="o">**</span> <span class="n">ranges</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">uniform</span> <span class="o">=</span> <span class="nb">true</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">accumulate</span> <span class="o">=</span> <span class="nb">false</span>
    <span class="p">)</span>
</pre>
<p>Calculates a histogram of a set of arrays.</p>
<p>The function <a class="reference internal" href="#doxid-d6-dc7-group-imgproc-hist-1ga4b2b5fd75503ff9e6844cc4dcdaed35d"><span class="std std-ref">cv::calcHist</span></a> calculates the histogram of one or more arrays. The elements of a tuple used to increment a histogram bin are taken from the corresponding input arrays at the same location. The sample below shows how to compute a 2D Hue-Saturation histogram for a color image. :</p>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&lt;opencv2/imgproc.hpp&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;opencv2/highgui.hpp&gt;</span><span class="cp"></span>

<span class="k">using</span> <span class="k">namespace</span> <span class="n">cv</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span> <span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">Mat</span> <span class="n">src</span><span class="p">,</span> <span class="n">hsv</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span> <span class="n">argc</span> <span class="o">!=</span> <span class="mi">2</span> <span class="o">||</span> <span class="o">!</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="n">imread</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">)).</span><span class="n">data</span> <span class="p">)</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>

    <span class="n">cvtColor</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">hsv</span><span class="p">,</span> <span class="n">COLOR_BGR2HSV</span><span class="p">);</span>

    <span class="c1">// Quantize the hue to 30 levels</span>
    <span class="c1">// and the saturation to 32 levels</span>
    <span class="kt">int</span> <span class="n">hbins</span> <span class="o">=</span> <span class="mi">30</span><span class="p">,</span> <span class="n">sbins</span> <span class="o">=</span> <span class="mi">32</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">histSize</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="n">hbins</span><span class="p">,</span> <span class="n">sbins</span><span class="p">};</span>
    <span class="c1">// hue varies from 0 to 179, see cvtColor</span>
    <span class="kt">float</span> <span class="n">hranges</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">180</span> <span class="p">};</span>
    <span class="c1">// saturation varies from 0 (black-gray-white) to</span>
    <span class="c1">// 255 (pure spectrum color)</span>
    <span class="kt">float</span> <span class="n">sranges</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">256</span> <span class="p">};</span>
    <span class="k">const</span> <span class="kt">float</span><span class="o">*</span> <span class="n">ranges</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="n">hranges</span><span class="p">,</span> <span class="n">sranges</span> <span class="p">};</span>
    <span class="n">MatND</span> <span class="n">hist</span><span class="p">;</span>
    <span class="c1">// we compute the histogram from the 0-th and 1-st channels</span>
    <span class="kt">int</span> <span class="n">channels</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">};</span>

    <span class="n">calcHist</span><span class="p">(</span> <span class="o">&amp;</span><span class="n">hsv</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">channels</span><span class="p">,</span> <span class="n">Mat</span><span class="p">(),</span> <span class="c1">// do not use mask</span>
             <span class="n">hist</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">histSize</span><span class="p">,</span> <span class="n">ranges</span><span class="p">,</span>
             <span class="nb">true</span><span class="p">,</span> <span class="c1">// the histogram is uniform</span>
             <span class="nb">false</span> <span class="p">);</span>
    <span class="kt">double</span> <span class="n">maxVal</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
    <span class="n">minMaxLoc</span><span class="p">(</span><span class="n">hist</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">maxVal</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

    <span class="kt">int</span> <span class="n">scale</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
    <span class="n">Mat</span> <span class="n">histImg</span> <span class="o">=</span> <span class="n">Mat</span><span class="o">::</span><span class="n">zeros</span><span class="p">(</span><span class="n">sbins</span><span class="o">*</span><span class="n">scale</span><span class="p">,</span> <span class="n">hbins</span><span class="o">*</span><span class="mi">10</span><span class="p">,</span> <span class="n">CV_8UC3</span><span class="p">);</span>

    <span class="k">for</span><span class="p">(</span> <span class="kt">int</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">h</span> <span class="o">&lt;</span> <span class="n">hbins</span><span class="p">;</span> <span class="n">h</span><span class="o">++</span> <span class="p">)</span>
        <span class="k">for</span><span class="p">(</span> <span class="kt">int</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">s</span> <span class="o">&lt;</span> <span class="n">sbins</span><span class="p">;</span> <span class="n">s</span><span class="o">++</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">float</span> <span class="n">binVal</span> <span class="o">=</span> <span class="n">hist</span><span class="p">.</span><span class="n">at</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">s</span><span class="p">);</span>
            <span class="kt">int</span> <span class="n">intensity</span> <span class="o">=</span> <span class="n">cvRound</span><span class="p">(</span><span class="n">binVal</span><span class="o">*</span><span class="mi">255</span><span class="o">/</span><span class="n">maxVal</span><span class="p">);</span>
            <span class="n">rectangle</span><span class="p">(</span> <span class="n">histImg</span><span class="p">,</span> <span class="n">Point</span><span class="p">(</span><span class="n">h</span><span class="o">*</span><span class="n">scale</span><span class="p">,</span> <span class="n">s</span><span class="o">*</span><span class="n">scale</span><span class="p">),</span>
                        <span class="n">Point</span><span class="p">(</span> <span class="p">(</span><span class="n">h</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">scale</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="n">s</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">scale</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span>
                        <span class="n">Scalar</span><span class="o">::</span><span class="n">all</span><span class="p">(</span><span class="n">intensity</span><span class="p">),</span>
                        <span class="n">CV_FILLED</span> <span class="p">);</span>
        <span class="p">}</span>

    <span class="n">namedWindow</span><span class="p">(</span> <span class="s">&quot;Source&quot;</span><span class="p">,</span> <span class="mi">1</span> <span class="p">);</span>
    <span class="n">imshow</span><span class="p">(</span> <span class="s">&quot;Source&quot;</span><span class="p">,</span> <span class="n">src</span> <span class="p">);</span>

    <span class="n">namedWindow</span><span class="p">(</span> <span class="s">&quot;H-S Histogram&quot;</span><span class="p">,</span> <span class="mi">1</span> <span class="p">);</span>
    <span class="n">imshow</span><span class="p">(</span> <span class="s">&quot;H-S Histogram&quot;</span><span class="p">,</span> <span class="n">histImg</span> <span class="p">);</span>
    <span class="n">waitKey</span><span class="p">();</span>
<span class="p">}</span>
</pre>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>images</td>
<td>Source arrays. They all should have the same depth, CV_8U, CV_16U or CV_32F , and the same size. Each of them can have an arbitrary number of channels.</td>
</tr>
<tr class="row-even"><td>nimages</td>
<td>Number of source images.</td>
</tr>
<tr class="row-odd"><td>channels</td>
<td>List of the dims channels used to compute the histogram. The first array channels are numerated from 0 to images[0].channels()-1 , the second array channels are counted from images[0].channels() to images[0].channels() + images[1].channels()-1, and so on.</td>
</tr>
<tr class="row-even"><td>mask</td>
<td>Optional mask. If the matrix is not empty, it must be an 8-bit array of the same size as images[i] . The non-zero mask elements mark the array elements counted in the histogram.</td>
</tr>
<tr class="row-odd"><td>hist</td>
<td>Output histogram, which is a dense or sparse dims -dimensional array.</td>
</tr>
<tr class="row-even"><td>dims</td>
<td>Histogram dimensionality that must be positive and not greater than CV_MAX_DIMS (equal to 32 in the current OpenCV version).</td>
</tr>
<tr class="row-odd"><td>histSize</td>
<td>Array of histogram sizes in each dimension.</td>
</tr>
<tr class="row-even"><td>ranges</td>
<td>Array of the dims arrays of the histogram bin boundaries in each dimension. When the histogram is uniform ( uniform =true), then for each dimension i it is enough to specify the lower (inclusive) boundary <span class="math notranslate nohighlight">\(L_0\)</span> of the 0-th histogram bin and the upper (exclusive) boundary <span class="math notranslate nohighlight">\(U_{\texttt{histSize}[i]-1}\)</span> for the last histogram bin histSize[i]-1 . That is, in case of a uniform histogram each of ranges[i] is an array of 2 elements. When the histogram is not uniform ( uniform=false ), then each of ranges[i] contains histSize[i]+1 elements: <span class="math notranslate nohighlight">\(L_0, U_0=L_1, U_1=L_2, ..., U_{\texttt{histSize[i]}-2}=L_{\texttt{histSize[i]}-1}, U_{\texttt{histSize[i]}-1}\)</span>. The array elements, that are not between <span class="math notranslate nohighlight">\(L_0\)</span> and <span class="math notranslate nohighlight">\(U_{\texttt{histSize[i]}-1}\)</span>, are not counted in the histogram.</td>
</tr>
<tr class="row-odd"><td>uniform</td>
<td>Flag indicating whether the histogram is uniform or not (see above).</td>
</tr>
<tr class="row-even"><td>accumulate</td>
<td>Accumulation flag. If it is set, the histogram is not cleared in the beginning when it is allocated. This feature enables you to compute a single histogram from several sets of arrays, or to update the histogram in time.</td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-d6-dc7-group-imgproc-hist-1gada9d547662b7f832dd7b93d378b1137d">
<span id="index-5"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">calcHist</span><span class="p">(</span>
    <span class="k">const</span> <a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span><span class="o">*</span> <span class="n">images</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">nimages</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span><span class="o">*</span> <span class="n">channels</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">mask</span><span class="p">,</span>
    <a class="reference internal" href="class_cv_SparseMat.html#doxid-d5-d29-classcv-1-1-sparse-mat"><span class="std std-ref">SparseMat</span></a><span></span><span class="o">&amp;</span> <span class="n">hist</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">dims</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">int</span><span class="o">*</span> <span class="n">histSize</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">float</span><span class="o">**</span> <span class="n">ranges</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">uniform</span> <span class="o">=</span> <span class="nb">true</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">accumulate</span> <span class="o">=</span> <span class="nb">false</span>
    <span class="p">)</span>
</pre>
<p>This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts.</p>
<p>this variant uses <a class="reference internal" href="class_cv_SparseMat.html#doxid-d5-d29-classcv-1-1-sparse-mat"><span class="std std-ref">cv::SparseMat</span></a> for output</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-d6-dc7-group-imgproc-hist-1ga6ca1876785483836f72a77ced8ea759a">
<span id="index-6"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">calcHist</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga606feabe3b50ab6838f1ba89727aa07a"><span class="std std-ref">InputArrayOfArrays</span></a><span></span> <span class="n">images</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">channels</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">mask</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">hist</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">histSize</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;&amp;</span> <span class="n">ranges</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">accumulate</span> <span class="o">=</span> <span class="nb">false</span>
    <span class="p">)</span>
</pre>
<p>This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-d6-dc7-group-imgproc-hist-1gaf4190090efa5c47cb367cf97a9a519bd">
<span id="index-7"></span><span></span><span class="kt">double</span>
<span class="n">cv</span><span class="o">::</span><span class="n">compareHist</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">H1</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">H2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">method</span>
    <span class="p">)</span>
</pre>
<p>Compares two histograms.</p>
<p>The function <a class="reference internal" href="#doxid-d6-dc7-group-imgproc-hist-1gaf4190090efa5c47cb367cf97a9a519bd"><span class="std std-ref">cv::compareHist</span></a> compares two dense or two sparse histograms using the specified method.</p>
<p>The function returns <span class="math notranslate nohighlight">\(d(H_1, H_2)\)</span>.</p>
<p>While the function works well with 1-, 2-, 3-dimensional dense histograms, it may not be suitable for high-dimensional sparse histograms. In such histograms, because of aliasing and sampling problems, the coordinates of non-zero histogram bins can slightly shift. To compare such histograms or more general sparse configurations of weighted points, consider using the <a class="reference internal" href="#doxid-d6-dc7-group-imgproc-hist-1ga902b8e60cc7075c8947345489221e0e0"><span class="std std-ref">cv::EMD</span></a> function.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>H1</td>
<td>First compared histogram.</td>
</tr>
<tr class="row-even"><td>H2</td>
<td>Second compared histogram of the same size as H1 .</td>
</tr>
<tr class="row-odd"><td>method</td>
<td>Comparison method, see <a class="reference internal" href="enum_cv_HistCompMethods.html#doxid-d6-dc7-group-imgproc-hist-1ga994f53817d621e2e4228fc646342d386"><span class="std std-ref">cv::HistCompMethods</span></a></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-d6-dc7-group-imgproc-hist-1ga41a249ba9a536bf2b47e95f8c7dd42b0">
<span id="index-8"></span><span></span><span class="kt">double</span>
<span class="n">cv</span><span class="o">::</span><span class="n">compareHist</span><span class="p">(</span>
    <span class="k">const</span> <a class="reference internal" href="class_cv_SparseMat.html#doxid-d5-d29-classcv-1-1-sparse-mat"><span class="std std-ref">SparseMat</span></a><span></span><span class="o">&amp;</span> <span class="n">H1</span><span class="p">,</span>
    <span class="k">const</span> <a class="reference internal" href="class_cv_SparseMat.html#doxid-d5-d29-classcv-1-1-sparse-mat"><span class="std std-ref">SparseMat</span></a><span></span><span class="o">&amp;</span> <span class="n">H2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">method</span>
    <span class="p">)</span>
</pre>
<p>This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-d6-dc7-group-imgproc-hist-1ga902b8e60cc7075c8947345489221e0e0">
<span id="index-9"></span><span></span><span class="kt">float</span>
<span class="n">cv</span><span class="o">::</span><span class="n">EMD</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">signature1</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">signature2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">distType</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">cost</span> <span class="o">=</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gad9287b23bba2fed753b36ef561ae7346"><span class="std std-ref">noArray</span></a><span></span><span class="p">(),</span>
    <span class="kt">float</span><span class="o">*</span> <span class="n">lowerBound</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">flow</span> <span class="o">=</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gad9287b23bba2fed753b36ef561ae7346"><span class="std std-ref">noArray</span></a><span></span><span class="p">()</span>
    <span class="p">)</span>
</pre>
<p>Computes the “minimal work” distance between two weighted point configurations.</p>
<p>The function computes the earth mover distance and/or a lower boundary of the distance between the two weighted point configurations. One of the applications described in <a class="reference internal" href="page_citelist.html#doxid-d0-de3-citelist-1citeref-rubnersept98"><span class="std std-ref">[73]</span></a>, <a class="reference internal" href="page_citelist.html#doxid-d0-de3-citelist-1citeref-rubner2000"><span class="std std-ref">[74]</span></a> is multi-dimensional histogram comparison for image retrieval. EMD is a transportation problem that is solved using some modification of a simplex algorithm, thus the complexity is exponential in the worst case, though, on average it is much faster. In the case of a real metric the lower boundary can be calculated even faster (using linear-time algorithm) and it can be used to determine roughly whether the two signatures are far enough so that they cannot relate to the same object.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>signature1</td>
<td>First signature, a <span class="math notranslate nohighlight">\(\texttt{size1}\times \texttt{dims}+1\)</span> floating-point matrix. Each row stores the point weight followed by the point coordinates. The matrix is allowed to have a single column (weights only) if the user-defined cost matrix is used. The weights must be non-negative and have at least one non-zero value.</td>
</tr>
<tr class="row-even"><td>signature2</td>
<td>Second signature of the same format as signature1 , though the number of rows may be different. The total weights may be different. In this case an extra “dummy” point is added to either signature1 or signature2. The weights must be non-negative and have at least one non-zero value.</td>
</tr>
<tr class="row-odd"><td>distType</td>
<td>Used metric. See <a class="reference internal" href="enum_cv_DistanceTypes.html#doxid-d7-d1b-group-imgproc-misc-1gaa2bfbebbc5c320526897996aafa1d8eb"><span class="std std-ref">cv::DistanceTypes</span></a>.</td>
</tr>
<tr class="row-even"><td>cost</td>
<td>User-defined <span class="math notranslate nohighlight">\(\texttt{size1}\times \texttt{size2}\)</span> cost matrix. Also, if a cost matrix is used, lower boundary lowerBound cannot be calculated because it needs a metric function.</td>
</tr>
<tr class="row-odd"><td>lowerBound</td>
<td>Optional input/output parameter: lower boundary of a distance between the two signatures that is a distance between mass centers. The lower boundary may not be calculated if the user-defined cost matrix is used, the total weights of point configurations are not equal, or if the signatures consist of weights only (the signature matrices have a single column). You must** initialize *lowerBound . If the calculated distance between mass centers is greater or equal to *lowerBound (it means that the signatures are far enough), the function does not calculate EMD. In any case *lowerBound is set to the calculated distance between mass centers on return. Thus, if you want to calculate both distance between mass centers and EMD, *lowerBound should be set to 0.</td>
</tr>
<tr class="row-even"><td>flow</td>
<td>Resultant <span class="math notranslate nohighlight">\(\texttt{size1} \times \texttt{size2}\)</span> flow matrix: <span class="math notranslate nohighlight">\(\texttt{flow}_{i,j}\)</span> is a flow from <span class="math notranslate nohighlight">\(i\)</span> -th point of signature1 to <span class="math notranslate nohighlight">\(j\)</span> -th point of signature2 .</td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-d6-dc7-group-imgproc-hist-1ga7e54091f0c937d49bf84152a16f76d6e">
<span id="index-10"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">equalizeHist</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span>
    <span class="p">)</span>
</pre>
<p>Equalizes the histogram of a grayscale image.</p>
<p>The function equalizes the histogram of the input image using the following algorithm:</p>
<ul>
<li><p class="first">Calculate the histogram <span class="math notranslate nohighlight">\(H\)</span> for src .</p>
</li>
<li><p class="first">Normalize the histogram so that the sum of histogram bins is 255.</p>
</li>
<li><p class="first">Compute the integral of the histogram:</p>
<div class="math notranslate nohighlight">
\[H'_i = \sum _{0 \le j &lt; i} H(j)\]</div>
</li>
<li><p class="first">Transform the image using <span class="math notranslate nohighlight">\(H'\)</span> as a look-up table: <span class="math notranslate nohighlight">\(\texttt{dst}(x,y) = H'(\texttt{src}(x,y))\)</span></p>
</li>
</ul>
<p>The algorithm normalizes the brightness and increases the contrast of the image.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>src</td>
<td>Source 8-bit single channel image.</td>
</tr>
<tr class="row-even"><td>dst</td>
<td>Destination image of the same size and type as src .</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="enum_cv_HistCompMethods.html" title="enum cv::HistCompMethods"
             >next</a> |</li>
        <li class="right" >
          <a href="struct_cvhalFilter2D.html" title="struct cvhalFilter2D"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">OpenCV Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="group_imgproc.html" >Image processing</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 1999-2017, OpenCV Maintainers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>