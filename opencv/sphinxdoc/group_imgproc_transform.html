
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Geometric Image Transformations &#8212; OpenCV Documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-sphinxdoc.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/target-highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="enum cv::InterpolationFlags" href="enum_cv_InterpolationFlags.html" />
    <link rel="prev" title="class cv::LineSegmentDetector" href="class_cv_LineSegmentDetector.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="enum_cv_InterpolationFlags.html" title="enum cv::InterpolationFlags"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="class_cv_LineSegmentDetector.html" title="class cv::LineSegmentDetector"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">OpenCV Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="group_imgproc.html" accesskey="U">Image processing</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Geometric Image Transformations</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#detailed-documentation">Detailed Documentation</a><ul>
<li><a class="reference internal" href="#global-functions">Global Functions</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="class_cv_LineSegmentDetector.html"
                        title="previous chapter">class cv::LineSegmentDetector</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="enum_cv_InterpolationFlags.html"
                        title="next chapter">enum cv::InterpolationFlags</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="geometric-image-transformations">
<span id="doxid-da-d54-group-imgproc-transform"></span><span id="index-0"></span><h1>Geometric Image Transformations</h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="overview">
<h2>Overview</h2>
<p>The functions in this section perform various geometrical transformations of 2D images. <a class="reference internal" href="#details-da-d54-group-imgproc-transform"><span class="std std-ref">More…</span></a></p>
<pre class="highlight doxyrest-overview-code-block literal-block">
<span></span><span class="c1">// enums</span>

<span class="k">enum</span> <a class="reference internal" href="enum_cv_InterpolationFlags.html#doxid-da-d54-group-imgproc-transform-1ga5bb5a1fea74ea38e1a5445ca803ff121"><span class="std std-ref">cv::InterpolationFlags</span></a><span></span><span class="p">;</span>
<span class="k">enum</span> <a class="reference internal" href="enum_cv_InterpolationMasks.html#doxid-da-d54-group-imgproc-transform-1ga628d8c499433359d67b1d830d46d8dae"><span class="std std-ref">cv::InterpolationMasks</span></a><span></span><span class="p">;</span>

<span class="c1">// global functions</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga9156732fa8f01be9ebd1a194f2728b7f"><span class="std std-ref">cv::convertMaps</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">map1</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">map2</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dstmap1</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dstmap2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">dstmap1type</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">nninterpolation</span> <span class="o">=</span> <span class="nb">false</span>
    <span class="p">);</span>

<a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span>
<a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga8f6d378f9f8eebb5cb55cd3ae295a999"><span class="std std-ref">cv::getAffineTransform</span></a><span></span><span class="p">(</span>
    <span class="k">const</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga7d080aa40de011e4410bca63385ffe2a"><span class="std std-ref">Point2f</span></a><span></span> <span class="n">src</span> <span class="p">[],</span>
    <span class="k">const</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga7d080aa40de011e4410bca63385ffe2a"><span class="std std-ref">Point2f</span></a><span></span> <span class="n">dst</span> <span class="p">[]</span>
    <span class="p">);</span>

<a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span>
<span class="doxyrest-code-target target" id="doxid-da-d54-group-imgproc-transform-1ga47069038267385913c61334e3d6af2e0">cv::getAffineTransform</span><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">dst</span>
    <span class="p">);</span>

<a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span>
<a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga744529385e88ef7bc841cbe04b35bfbf"><span class="std std-ref">cv::getDefaultNewCameraMatrix</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">cameraMatrix</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga346f563897249351a34549137c8532a0"><span class="std std-ref">Size</span></a><span></span> <span class="n">imgsize</span> <span class="o">=</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga346f563897249351a34549137c8532a0"><span class="std std-ref">Size</span></a><span></span><span class="p">(),</span>
    <span class="kt">bool</span> <span class="n">centerPrincipalPoint</span> <span class="o">=</span> <span class="nb">false</span>
    <span class="p">);</span>

<a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span>
<a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga8c1ae0e3589a9d77fffc962c49b22043"><span class="std std-ref">cv::getPerspectiveTransform</span></a><span></span><span class="p">(</span>
    <span class="k">const</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga7d080aa40de011e4410bca63385ffe2a"><span class="std std-ref">Point2f</span></a><span></span> <span class="n">src</span> <span class="p">[],</span>
    <span class="k">const</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga7d080aa40de011e4410bca63385ffe2a"><span class="std std-ref">Point2f</span></a><span></span> <span class="n">dst</span> <span class="p">[]</span>
    <span class="p">);</span>

<a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span>
<a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga15302cbff82bdcddb70158a58b73d981"><span class="std std-ref">cv::getPerspectiveTransform</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">dst</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga77576d06075c1a4b6ba1a608850cd614"><span class="std std-ref">cv::getRectSubPix</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">image</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga346f563897249351a34549137c8532a0"><span class="std std-ref">Size</span></a><span></span> <span class="n">patchSize</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga7d080aa40de011e4410bca63385ffe2a"><span class="std std-ref">Point2f</span></a><span></span> <span class="n">center</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">patch</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">patchType</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="p">);</span>

<a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span>
<a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1gafbbc470ce83812914a70abfb604f4326"><span class="std std-ref">cv::getRotationMatrix2D</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga7d080aa40de011e4410bca63385ffe2a"><span class="std std-ref">Point2f</span></a><span></span> <span class="n">center</span><span class="p">,</span>
    <span class="kt">double</span> <span class="n">angle</span><span class="p">,</span>
    <span class="kt">double</span> <span class="n">scale</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga7dfb72c9cf9780a347fbe3d1c47e5d5a"><span class="std std-ref">cv::initUndistortRectifyMap</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">cameraMatrix</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">distCoeffs</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">R</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">newCameraMatrix</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga346f563897249351a34549137c8532a0"><span class="std std-ref">Size</span></a><span></span> <span class="n">size</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">m1type</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">map1</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">map2</span>
    <span class="p">);</span>

<span class="kt">float</span>
<a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1gaceb049ec48898d1dadd5b50c604429c8"><span class="std std-ref">cv::initWideAngleProjMap</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">cameraMatrix</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">distCoeffs</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga346f563897249351a34549137c8532a0"><span class="std std-ref">Size</span></a><span></span> <span class="n">imageSize</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">destImageWidth</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">m1type</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">map1</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">map2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">projType</span> <span class="o">=</span> <a class="reference internal" href="enum_cv_UndistortTypes.html#doxid-d7-d1b-group-imgproc-misc-1ggace497823594b601f2094d32dde6a3c94a62d8708c29117854d6903d8e1155d8c0"><span class="std std-ref">PROJ_SPHERICAL_EQRECT</span></a><span></span><span class="p">,</span>
    <span class="kt">double</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga57d3505a878a7e1a636645727ca08f51"><span class="std std-ref">cv::invertAffineTransform</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">M</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">iM</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1gaa38a6884ac8b6e0b9bed47939b5362f3"><span class="std std-ref">cv::linearPolar</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga7d080aa40de011e4410bca63385ffe2a"><span class="std std-ref">Point2f</span></a><span></span> <span class="n">center</span><span class="p">,</span>
    <span class="kt">double</span> <span class="n">maxRadius</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">flags</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1gaec3a0b126a85b5ca2c667b16e0ae022d"><span class="std std-ref">cv::logPolar</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga7d080aa40de011e4410bca63385ffe2a"><span class="std std-ref">Point2f</span></a><span></span> <span class="n">center</span><span class="p">,</span>
    <span class="kt">double</span> <span class="n">M</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">flags</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1gab75ef31ce5cdfb5c44b6da5f3b908ea4"><span class="std std-ref">cv::remap</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">map1</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">map2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">interpolation</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">borderMode</span> <span class="o">=</span> <a class="reference internal" href="enum_cv_BorderTypes.html#doxid-d2-de8-group-core-array-1gga209f2f4869e304c82d07739337eae7c5aed2e4346047e265c8c5a6d0276dcd838"><span class="std std-ref">BORDER_CONSTANT</span></a><span></span><span class="p">,</span>
    <span class="k">const</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga599fe92e910c027be274233eccad7beb"><span class="std std-ref">Scalar</span></a><span></span><span class="o">&amp;</span> <span class="n">borderValue</span> <span class="o">=</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga599fe92e910c027be274233eccad7beb"><span class="std std-ref">Scalar</span></a><span></span><span class="p">()</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga47a974309e9102f5f08231edc7e7529d"><span class="std std-ref">cv::resize</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga346f563897249351a34549137c8532a0"><span class="std std-ref">Size</span></a><span></span> <span class="n">dsize</span><span class="p">,</span>
    <span class="kt">double</span> <span class="n">fx</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="kt">double</span> <span class="n">fy</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">interpolation</span> <span class="o">=</span> <a class="reference internal" href="enum_cv_InterpolationFlags.html#doxid-da-d54-group-imgproc-transform-1gga5bb5a1fea74ea38e1a5445ca803ff121ac97d8e4880d8b5d509e96825c7522deb"><span class="std std-ref">INTER_LINEAR</span></a><span></span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga69f2545a8b62a6b0fc2ee060dc30559d"><span class="std std-ref">cv::undistort</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">cameraMatrix</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">distCoeffs</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">newCameraMatrix</span> <span class="o">=</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gad9287b23bba2fed753b36ef561ae7346"><span class="std std-ref">noArray</span></a><span></span><span class="p">()</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga55c716492470bfe86b0ee9bf3a1f0f7e"><span class="std std-ref">cv::undistortPoints</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">cameraMatrix</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">distCoeffs</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">R</span> <span class="o">=</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gad9287b23bba2fed753b36ef561ae7346"><span class="std std-ref">noArray</span></a><span></span><span class="p">(),</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">P</span> <span class="o">=</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gad9287b23bba2fed753b36ef561ae7346"><span class="std std-ref">noArray</span></a><span></span><span class="p">()</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga0203d9ee5fcd28d40dbc4a1ea4451983"><span class="std std-ref">cv::warpAffine</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">M</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga346f563897249351a34549137c8532a0"><span class="std std-ref">Size</span></a><span></span> <span class="n">dsize</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">flags</span> <span class="o">=</span> <a class="reference internal" href="enum_cv_InterpolationFlags.html#doxid-da-d54-group-imgproc-transform-1gga5bb5a1fea74ea38e1a5445ca803ff121ac97d8e4880d8b5d509e96825c7522deb"><span class="std std-ref">INTER_LINEAR</span></a><span></span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">borderMode</span> <span class="o">=</span> <a class="reference internal" href="enum_cv_BorderTypes.html#doxid-d2-de8-group-core-array-1gga209f2f4869e304c82d07739337eae7c5aed2e4346047e265c8c5a6d0276dcd838"><span class="std std-ref">BORDER_CONSTANT</span></a><span></span><span class="p">,</span>
    <span class="k">const</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga599fe92e910c027be274233eccad7beb"><span class="std std-ref">Scalar</span></a><span></span><span class="o">&amp;</span> <span class="n">borderValue</span> <span class="o">=</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga599fe92e910c027be274233eccad7beb"><span class="std std-ref">Scalar</span></a><span></span><span class="p">()</span>
    <span class="p">);</span>

<span class="kt">void</span>
<a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1gaf73673a7e8e18ec6963e3774e6a94b87"><span class="std std-ref">cv::warpPerspective</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">M</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga346f563897249351a34549137c8532a0"><span class="std std-ref">Size</span></a><span></span> <span class="n">dsize</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">flags</span> <span class="o">=</span> <a class="reference internal" href="enum_cv_InterpolationFlags.html#doxid-da-d54-group-imgproc-transform-1gga5bb5a1fea74ea38e1a5445ca803ff121ac97d8e4880d8b5d509e96825c7522deb"><span class="std std-ref">INTER_LINEAR</span></a><span></span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">borderMode</span> <span class="o">=</span> <a class="reference internal" href="enum_cv_BorderTypes.html#doxid-d2-de8-group-core-array-1gga209f2f4869e304c82d07739337eae7c5aed2e4346047e265c8c5a6d0276dcd838"><span class="std std-ref">BORDER_CONSTANT</span></a><span></span><span class="p">,</span>
    <span class="k">const</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga599fe92e910c027be274233eccad7beb"><span class="std std-ref">Scalar</span></a><span></span><span class="o">&amp;</span> <span class="n">borderValue</span> <span class="o">=</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga599fe92e910c027be274233eccad7beb"><span class="std std-ref">Scalar</span></a><span></span><span class="p">()</span>
    <span class="p">);</span>
</pre>
</div>
<div class="section" id="detailed-documentation">
<span id="details-da-d54-group-imgproc-transform"></span><h2>Detailed Documentation</h2>
<p>The functions in this section perform various geometrical transformations of 2D images. They do not change the image content but deform the pixel grid and map this deformed grid to the destination image. In fact, to avoid sampling artifacts, the mapping is done in the reverse order, from destination to the source. That is, for each pixel <span class="math notranslate nohighlight">\((x, y)\)</span> of the destination image, the functions compute coordinates of the corresponding “donor” pixel in the source image and copy the pixel value:</p>
<div class="math notranslate nohighlight">
\[\texttt{dst} (x,y)= \texttt{src} (f_x(x,y), f_y(x,y))\]</div>
<p>In case when you specify the forward mapping <span class="math notranslate nohighlight">\(\left&lt;g_x, g_y\right&gt;: \texttt{src} \rightarrow \texttt{dst}\)</span>, the OpenCV functions first compute the corresponding inverse mapping <span class="math notranslate nohighlight">\(\left&lt;f_x, f_y\right&gt;: \texttt{dst} \rightarrow \texttt{src}\)</span> and then use the above formula.</p>
<p>The actual implementations of the geometrical transformations, from the most generic remap and to the simplest and the fastest resize, need to solve two main problems with the above formula:</p>
<ul class="simple">
<li>Extrapolation of non-existing pixels. Similarly to the filtering functions described in the previous section, for some <span class="math notranslate nohighlight">\((x,y)\)</span>, either one of <span class="math notranslate nohighlight">\(f_x(x,y)\)</span>, or <span class="math notranslate nohighlight">\(f_y(x,y)\)</span>, or both of them may fall outside of the image. In this case, an extrapolation method needs to be used. OpenCV provides the same selection of extrapolation methods as in the filtering functions. In addition, it provides the method BORDER_TRANSPARENT. This means that the corresponding pixels in the destination image will not be modified at all.</li>
<li>Interpolation of pixel values. Usually <span class="math notranslate nohighlight">\(f_x(x,y)\)</span> and <span class="math notranslate nohighlight">\(f_y(x,y)\)</span> are floating-point numbers. This means that <span class="math notranslate nohighlight">\(\left&lt;f_x, f_y\right&gt;\)</span> can be either an affine or perspective transformation, or radial lens distortion correction, and so on. So, a pixel value at fractional coordinates needs to be retrieved. In the simplest case, the coordinates can be just rounded to the nearest integer coordinates and the corresponding pixel can be used. This is called a nearest-neighbor interpolation. However, a better result can be achieved by using more sophisticated <a class="reference external" href="http://en.wikipedia.org/wiki/Multivariate_interpolation">interpolation methods</a>, where a polynomial function is fit into some neighborhood of the computed pixel <span class="math notranslate nohighlight">\((f_x(x,y), f_y(x,y))\)</span>, and then the value of the polynomial at <span class="math notranslate nohighlight">\((f_x(x,y), f_y(x,y))\)</span> is taken as the interpolated pixel value. In OpenCV, you can choose between several interpolation methods. See resize for details.</li>
</ul>
<div class="section" id="global-functions">
<h3>Global Functions</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-da-d54-group-imgproc-transform-1ga9156732fa8f01be9ebd1a194f2728b7f">
<span id="index-1"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">convertMaps</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">map1</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">map2</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dstmap1</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dstmap2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">dstmap1type</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">nninterpolation</span> <span class="o">=</span> <span class="nb">false</span>
    <span class="p">)</span>
</pre>
<p>Converts image transformation maps from one representation to another.</p>
<p>The function converts a pair of maps for remap from one representation to another. The following options ( (map1.type(), map2.type()) <span class="math notranslate nohighlight">\(\rightarrow\)</span> (dstmap1.type(), dstmap2.type()) ) are supported:</p>
<ul class="simple">
<li><span class="math notranslate nohighlight">\(\texttt{(CV_32FC1, CV_32FC1)} \rightarrow \texttt{(CV_16SC2, CV_16UC1)}\)</span>. This is the most frequently used conversion operation, in which the original floating-point maps (see remap ) are converted to a more compact and much faster fixed-point representation. The first output array contains the rounded coordinates and the second array (created only when nninterpolation=false ) contains indices in the interpolation tables.</li>
<li><span class="math notranslate nohighlight">\(\texttt{(CV_32FC2)} \rightarrow \texttt{(CV_16SC2, CV_16UC1)}\)</span>. The same as above but the original maps are stored in one 2-channel matrix.</li>
<li>Reverse conversion. Obviously, the reconstructed floating-point maps will not be exactly the same as the originals.</li>
</ul>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>map1</td>
<td>The first input map of type CV_16SC2, CV_32FC1, or CV_32FC2 .</td>
</tr>
<tr class="row-even"><td>map2</td>
<td>The second input map of type CV_16UC1, CV_32FC1, or none (empty matrix), respectively.</td>
</tr>
<tr class="row-odd"><td>dstmap1</td>
<td>The first output map that has the type dstmap1type and the same size as src .</td>
</tr>
<tr class="row-even"><td>dstmap2</td>
<td>The second output map.</td>
</tr>
<tr class="row-odd"><td>dstmap1type</td>
<td>Type of the first output map that should be CV_16SC2, CV_32FC1, or CV_32FC2 .</td>
</tr>
<tr class="row-even"><td>nninterpolation</td>
<td>Flag indicating whether the fixed-point maps are used for the nearest-neighbor or for a more complex interpolation.</td>
</tr>
</tbody>
</table>
<p class="rubric">See also:</p>
<p><a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1gab75ef31ce5cdfb5c44b6da5f3b908ea4"><span class="std std-ref">remap</span></a>, <a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga69f2545a8b62a6b0fc2ee060dc30559d"><span class="std std-ref">undistort</span></a>, <a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga7dfb72c9cf9780a347fbe3d1c47e5d5a"><span class="std std-ref">initUndistortRectifyMap</span></a></p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-da-d54-group-imgproc-transform-1ga8f6d378f9f8eebb5cb55cd3ae295a999">
<span id="index-2"></span><a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span>
<span class="n">cv</span><span class="o">::</span><span class="n">getAffineTransform</span><span class="p">(</span>
    <span class="k">const</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga7d080aa40de011e4410bca63385ffe2a"><span class="std std-ref">Point2f</span></a><span></span> <span class="n">src</span> <span class="p">[],</span>
    <span class="k">const</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga7d080aa40de011e4410bca63385ffe2a"><span class="std std-ref">Point2f</span></a><span></span> <span class="n">dst</span> <span class="p">[]</span>
    <span class="p">)</span>
</pre>
<p>Calculates an affine transform from three pairs of the corresponding points.</p>
<p>The function calculates the <span class="math notranslate nohighlight">\(2 \times 3\)</span> matrix of an affine transform so that:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{bmatrix} x'_i \\ y'_i \end{bmatrix} = \texttt{map_matrix} \cdot \begin{bmatrix} x_i \\ y_i \\ 1 \end{bmatrix}\end{split}\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[dst(i)=(x'_i,y'_i), src(i)=(x_i, y_i), i=0,1,2\]</div>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>src</td>
<td>Coordinates of triangle vertices in the source image.</td>
</tr>
<tr class="row-even"><td>dst</td>
<td>Coordinates of the corresponding triangle vertices in the destination image.</td>
</tr>
</tbody>
</table>
<p class="rubric">See also:</p>
<p><a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga0203d9ee5fcd28d40dbc4a1ea4451983"><span class="std std-ref">warpAffine</span></a>, <a class="reference internal" href="group_core_array.html#doxid-d2-de8-group-core-array-1ga393164aa54bb9169ce0a8cc44e08ff22"><span class="std std-ref">transform</span></a></p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-da-d54-group-imgproc-transform-1ga744529385e88ef7bc841cbe04b35bfbf">
<span id="index-3"></span><a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span>
<span class="n">cv</span><span class="o">::</span><span class="n">getDefaultNewCameraMatrix</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">cameraMatrix</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga346f563897249351a34549137c8532a0"><span class="std std-ref">Size</span></a><span></span> <span class="n">imgsize</span> <span class="o">=</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga346f563897249351a34549137c8532a0"><span class="std std-ref">Size</span></a><span></span><span class="p">(),</span>
    <span class="kt">bool</span> <span class="n">centerPrincipalPoint</span> <span class="o">=</span> <span class="nb">false</span>
    <span class="p">)</span>
</pre>
<p>Returns the default new camera matrix.</p>
<p>The function returns the camera matrix that is either an exact copy of the input cameraMatrix (when centerPrinicipalPoint=false ), or the modified one (when centerPrincipalPoint=true).</p>
<p>In the latter case, the new camera matrix will be:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{bmatrix} f_x &amp;&amp; 0 &amp;&amp; ( \texttt{imgSize.width} -1)*0.5 \\ 0 &amp;&amp; f_y &amp;&amp; ( \texttt{imgSize.height} -1)*0.5 \\ 0 &amp;&amp; 0 &amp;&amp; 1 \end{bmatrix} ,\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(f_x\)</span> and <span class="math notranslate nohighlight">\(f_y\)</span> are <span class="math notranslate nohighlight">\((0,0)\)</span> and <span class="math notranslate nohighlight">\((1,1)\)</span> elements of cameraMatrix, respectively.</p>
<p>By default, the undistortion functions in OpenCV (see initUndistortRectifyMap, undistort) do not move the principal point. However, when you work with stereo, it is important to move the principal points in both views to the same y-coordinate (which is required by most of stereo correspondence algorithms), and may be to the same x-coordinate too. So, you can form the new camera matrix for each view where the principal points are located at the center.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>cameraMatrix</td>
<td>Input camera matrix.</td>
</tr>
<tr class="row-even"><td>imgsize</td>
<td>Camera view image size in pixels.</td>
</tr>
<tr class="row-odd"><td>centerPrincipalPoint</td>
<td>Location of the principal point in the new camera matrix. The parameter indicates whether this location should be at the image center or not.</td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-da-d54-group-imgproc-transform-1ga8c1ae0e3589a9d77fffc962c49b22043">
<span id="index-4"></span><a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span>
<span class="n">cv</span><span class="o">::</span><span class="n">getPerspectiveTransform</span><span class="p">(</span>
    <span class="k">const</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga7d080aa40de011e4410bca63385ffe2a"><span class="std std-ref">Point2f</span></a><span></span> <span class="n">src</span> <span class="p">[],</span>
    <span class="k">const</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga7d080aa40de011e4410bca63385ffe2a"><span class="std std-ref">Point2f</span></a><span></span> <span class="n">dst</span> <span class="p">[]</span>
    <span class="p">)</span>
</pre>
<p>returns 3x3 perspective transformation for the corresponding 4 point pairs.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-da-d54-group-imgproc-transform-1ga15302cbff82bdcddb70158a58b73d981">
<span id="index-5"></span><a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span>
<span class="n">cv</span><span class="o">::</span><span class="n">getPerspectiveTransform</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">dst</span>
    <span class="p">)</span>
</pre>
<p>Calculates a perspective transform from four pairs of the corresponding points.</p>
<p>The function calculates the <span class="math notranslate nohighlight">\(3 \times 3\)</span> matrix of a perspective transform so that:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{bmatrix} t_i x'_i \\ t_i y'_i \\ t_i \end{bmatrix} = \texttt{map_matrix} \cdot \begin{bmatrix} x_i \\ y_i \\ 1 \end{bmatrix}\end{split}\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[dst(i)=(x'_i,y'_i), src(i)=(x_i, y_i), i=0,1,2,3\]</div>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>src</td>
<td>Coordinates of quadrangle vertices in the source image.</td>
</tr>
<tr class="row-even"><td>dst</td>
<td>Coordinates of the corresponding quadrangle vertices in the destination image.</td>
</tr>
</tbody>
</table>
<p class="rubric">See also:</p>
<p><a class="reference internal" href="group_calib3d.html#doxid-d9-d0c-group-calib3d-1ga4abc2ece9fab9398f2e560d53c8c9780"><span class="std std-ref">findHomography</span></a>, <a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1gaf73673a7e8e18ec6963e3774e6a94b87"><span class="std std-ref">warpPerspective</span></a>, <a class="reference internal" href="group_core_array.html#doxid-d2-de8-group-core-array-1gad327659ac03e5fd6894b90025e6900a7"><span class="std std-ref">perspectiveTransform</span></a></p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-da-d54-group-imgproc-transform-1ga77576d06075c1a4b6ba1a608850cd614">
<span id="index-6"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">getRectSubPix</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">image</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga346f563897249351a34549137c8532a0"><span class="std std-ref">Size</span></a><span></span> <span class="n">patchSize</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga7d080aa40de011e4410bca63385ffe2a"><span class="std std-ref">Point2f</span></a><span></span> <span class="n">center</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">patch</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">patchType</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="p">)</span>
</pre>
<p>Retrieves a pixel rectangle from an image with sub-pixel accuracy.</p>
<p>The function getRectSubPix extracts pixels from src:</p>
<div class="math notranslate nohighlight">
\[dst(x, y) = src(x + \texttt{center.x} - ( \texttt{dst.cols} -1)*0.5, y + \texttt{center.y} - ( \texttt{dst.rows} -1)*0.5)\]</div>
<p>where the values of the pixels at non-integer coordinates are retrieved using bilinear interpolation. Every channel of multi-channel images is processed independently. While the center of the rectangle must be inside the image, parts of the rectangle may be outside. In this case, the replication border mode (see <a class="reference internal" href="enum_cv_BorderTypes.html#doxid-d2-de8-group-core-array-1ga209f2f4869e304c82d07739337eae7c5"><span class="std std-ref">cv::BorderTypes</span></a>) is used to extrapolate the pixel values outside of the image.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>image</td>
<td>Source image.</td>
</tr>
<tr class="row-even"><td>patchSize</td>
<td>Size of the extracted patch.</td>
</tr>
<tr class="row-odd"><td>center</td>
<td>Floating point coordinates of the center of the extracted rectangle within the source image. The center must be inside the image.</td>
</tr>
<tr class="row-even"><td>patch</td>
<td>Extracted patch that has the size patchSize and the same number of channels as src .</td>
</tr>
<tr class="row-odd"><td>patchType</td>
<td>Depth of the extracted pixels. By default, they have the same depth as src .</td>
</tr>
</tbody>
</table>
<p class="rubric">See also:</p>
<p><a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga0203d9ee5fcd28d40dbc4a1ea4451983"><span class="std std-ref">warpAffine</span></a>, <a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1gaf73673a7e8e18ec6963e3774e6a94b87"><span class="std std-ref">warpPerspective</span></a></p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-da-d54-group-imgproc-transform-1gafbbc470ce83812914a70abfb604f4326">
<span id="index-7"></span><a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span>
<span class="n">cv</span><span class="o">::</span><span class="n">getRotationMatrix2D</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga7d080aa40de011e4410bca63385ffe2a"><span class="std std-ref">Point2f</span></a><span></span> <span class="n">center</span><span class="p">,</span>
    <span class="kt">double</span> <span class="n">angle</span><span class="p">,</span>
    <span class="kt">double</span> <span class="n">scale</span>
    <span class="p">)</span>
</pre>
<p>Calculates an affine matrix of 2D rotation.</p>
<p>The function calculates the following matrix:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{bmatrix} \alpha &amp; \beta &amp; (1- \alpha ) \cdot \texttt{center.x} - \beta \cdot \texttt{center.y} \\ - \beta &amp; \alpha &amp; \beta \cdot \texttt{center.x} + (1- \alpha ) \cdot \texttt{center.y} \end{bmatrix}\end{split}\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{l} \alpha = \texttt{scale} \cdot \cos \texttt{angle} , \\ \beta = \texttt{scale} \cdot \sin \texttt{angle} \end{array}\end{split}\]</div>
<p>The transformation maps the rotation center to itself. If this is not the target, adjust the shift.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>center</td>
<td>Center of the rotation in the source image.</td>
</tr>
<tr class="row-even"><td>angle</td>
<td>Rotation angle in degrees. Positive values mean counter-clockwise rotation (the coordinate origin is assumed to be the top-left corner).</td>
</tr>
<tr class="row-odd"><td>scale</td>
<td>Isotropic scale factor.</td>
</tr>
</tbody>
</table>
<p class="rubric">See also:</p>
<p><a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga8f6d378f9f8eebb5cb55cd3ae295a999"><span class="std std-ref">getAffineTransform</span></a>, <a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga0203d9ee5fcd28d40dbc4a1ea4451983"><span class="std std-ref">warpAffine</span></a>, <a class="reference internal" href="group_core_array.html#doxid-d2-de8-group-core-array-1ga393164aa54bb9169ce0a8cc44e08ff22"><span class="std std-ref">transform</span></a></p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-da-d54-group-imgproc-transform-1ga7dfb72c9cf9780a347fbe3d1c47e5d5a">
<span id="index-8"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">initUndistortRectifyMap</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">cameraMatrix</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">distCoeffs</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">R</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">newCameraMatrix</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga346f563897249351a34549137c8532a0"><span class="std std-ref">Size</span></a><span></span> <span class="n">size</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">m1type</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">map1</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">map2</span>
    <span class="p">)</span>
</pre>
<p>Computes the undistortion and rectification transformation map.</p>
<p>The function computes the joint undistortion and rectification transformation and represents the result in the form of maps for remap. The undistorted image looks like original, as if it is captured with a camera using the camera matrix =newCameraMatrix and zero distortion. In case of a monocular camera, newCameraMatrix is usually equal to cameraMatrix, or it can be computed by <a class="reference internal" href="group_calib3d.html#doxid-d9-d0c-group-calib3d-1ga7a6c4e032c97f03ba747966e6ad862b1"><span class="std std-ref">cv::getOptimalNewCameraMatrix</span></a> for a better control over scaling. In case of a stereo camera, newCameraMatrix is normally set to P1 or P2 computed by <a class="reference internal" href="group_calib3d.html#doxid-d9-d0c-group-calib3d-1ga617b1685d4059c6040827800e72ad2b6"><span class="std std-ref">cv::stereoRectify</span></a>.</p>
<p>Also, this new camera is oriented differently in the coordinate space, according to R. That, for example, helps to align two heads of a stereo camera so that the epipolar lines on both images become horizontal and have the same y- coordinate (in case of a horizontally aligned stereo camera).</p>
<p>The function actually builds the maps for the inverse mapping algorithm that is used by remap. That is, for each pixel <span class="math notranslate nohighlight">\((u, v)\)</span> in the destination (corrected and rectified) image, the function computes the corresponding coordinates in the source image (that is, in the original image from camera). The following process is applied:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{l} x \leftarrow (u - {c'}_x)/{f'}_x \\ y \leftarrow (v - {c'}_y)/{f'}_y \\ {[X\,Y\,W]} ^T \leftarrow R^{-1}*[x \, y \, 1]^T \\ x' \leftarrow X/W \\ y' \leftarrow Y/W \\ r^2 \leftarrow x'^2 + y'^2 \\ x'' \leftarrow x' \frac{1 + k_1 r^2 + k_2 r^4 + k_3 r^6}{1 + k_4 r^2 + k_5 r^4 + k_6 r^6} + 2p_1 x' y' + p_2(r^2 + 2 x'^2) + s_1 r^2 + s_2 r^4\\ y'' \leftarrow y' \frac{1 + k_1 r^2 + k_2 r^4 + k_3 r^6}{1 + k_4 r^2 + k_5 r^4 + k_6 r^6} + p_1 (r^2 + 2 y'^2) + 2 p_2 x' y' + s_3 r^2 + s_4 r^4 \\ s\vecthree{x'''}{y'''}{1} = \vecthreethree{R_{33}(\tau_x, \tau_y)}{0}{-R_{13}((\tau_x, \tau_y)} {0}{R_{33}(\tau_x, \tau_y)}{-R_{23}(\tau_x, \tau_y)} {0}{0}{1} R(\tau_x, \tau_y) \vecthree{x''}{y''}{1}\\ map_x(u,v) \leftarrow x''' f_x + c_x \\ map_y(u,v) \leftarrow y''' f_y + c_y \end{array}\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\((k_1, k_2, p_1, p_2[, k_3[, k_4, k_5, k_6[, s_1, s_2, s_3, s_4[, \tau_x, \tau_y]]]])\)</span> are the distortion coefficients.</p>
<p>In case of a stereo camera, this function is called twice: once for each camera head, after stereoRectify, which in its turn is called after <a class="reference internal" href="group_calib3d.html#doxid-d9-d0c-group-calib3d-1ga246253dcc6de2e0376c599e7d692303a"><span class="std std-ref">cv::stereoCalibrate</span></a>. But if the stereo camera was not calibrated, it is still possible to compute the rectification transformations directly from the fundamental matrix using <a class="reference internal" href="group_calib3d.html#doxid-d9-d0c-group-calib3d-1gaadc5b14471ddc004939471339294f052"><span class="std std-ref">cv::stereoRectifyUncalibrated</span></a>. For each camera, the function computes homography H as the rectification transformation in a pixel domain, not a rotation matrix R in 3D space. R can be computed from H as</p>
<div class="math notranslate nohighlight">
\[\texttt{R} = \texttt{cameraMatrix} ^{-1} \cdot \texttt{H} \cdot \texttt{cameraMatrix}\]</div>
<p>where cameraMatrix can be chosen arbitrarily.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>cameraMatrix</td>
<td>Input camera matrix <span class="math notranslate nohighlight">\(A=\vecthreethree{f_x}{0}{c_x}{0}{f_y}{c_y}{0}{0}{1}\)</span>.</td>
</tr>
<tr class="row-even"><td>distCoeffs</td>
<td>Input vector of distortion coefficients <span class="math notranslate nohighlight">\((k_1, k_2, p_1, p_2[, k_3[, k_4, k_5, k_6[, s_1, s_2, s_3, s_4[, \tau_x, \tau_y]]]])\)</span> of 4, 5, 8, 12 or 14 elements. If the vector is NULL/empty, the zero distortion coefficients are assumed.</td>
</tr>
<tr class="row-odd"><td>R</td>
<td>Optional rectification transformation in the object space (3x3 matrix). R1 or R2 , computed by stereoRectify can be passed here. If the matrix is empty, the identity transformation is assumed. In cvInitUndistortMap R assumed to be an identity matrix.</td>
</tr>
<tr class="row-even"><td>newCameraMatrix</td>
<td>New camera matrix <span class="math notranslate nohighlight">\(A'=\vecthreethree{f_x'}{0}{c_x'}{0}{f_y'}{c_y'}{0}{0}{1}\)</span>.</td>
</tr>
<tr class="row-odd"><td>size</td>
<td>Undistorted image size.</td>
</tr>
<tr class="row-even"><td>m1type</td>
<td>Type of the first output map that can be CV_32FC1, CV_32FC2 or CV_16SC2, see <a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga9156732fa8f01be9ebd1a194f2728b7f"><span class="std std-ref">cv::convertMaps</span></a></td>
</tr>
<tr class="row-odd"><td>map1</td>
<td>The first output map.</td>
</tr>
<tr class="row-even"><td>map2</td>
<td>The second output map.</td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-da-d54-group-imgproc-transform-1gaceb049ec48898d1dadd5b50c604429c8">
<span id="index-9"></span><span></span><span class="kt">float</span>
<span class="n">cv</span><span class="o">::</span><span class="n">initWideAngleProjMap</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">cameraMatrix</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">distCoeffs</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga346f563897249351a34549137c8532a0"><span class="std std-ref">Size</span></a><span></span> <span class="n">imageSize</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">destImageWidth</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">m1type</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">map1</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">map2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">projType</span> <span class="o">=</span> <a class="reference internal" href="enum_cv_UndistortTypes.html#doxid-d7-d1b-group-imgproc-misc-1ggace497823594b601f2094d32dde6a3c94a62d8708c29117854d6903d8e1155d8c0"><span class="std std-ref">PROJ_SPHERICAL_EQRECT</span></a><span></span><span class="p">,</span>
    <span class="kt">double</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="p">)</span>
</pre>
<p>initializes maps for <a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1gab75ef31ce5cdfb5c44b6da5f3b908ea4"><span class="std std-ref">cv::remap()</span></a> for wide-angle</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-da-d54-group-imgproc-transform-1ga57d3505a878a7e1a636645727ca08f51">
<span id="index-10"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">invertAffineTransform</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">M</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">iM</span>
    <span class="p">)</span>
</pre>
<p>Inverts an affine transformation.</p>
<p>The function computes an inverse affine transformation represented by <span class="math notranslate nohighlight">\(2 \times 3\)</span> matrix M:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{bmatrix} a_{11} &amp; a_{12} &amp; b_1 \\ a_{21} &amp; a_{22} &amp; b_2 \end{bmatrix}\end{split}\]</div>
<p>The result is also a <span class="math notranslate nohighlight">\(2 \times 3\)</span> matrix of the same type as M.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>M</td>
<td>Original affine transformation.</td>
</tr>
<tr class="row-even"><td>iM</td>
<td>Output reverse affine transformation.</td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-da-d54-group-imgproc-transform-1gaa38a6884ac8b6e0b9bed47939b5362f3">
<span id="index-11"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">linearPolar</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga7d080aa40de011e4410bca63385ffe2a"><span class="std std-ref">Point2f</span></a><span></span> <span class="n">center</span><span class="p">,</span>
    <span class="kt">double</span> <span class="n">maxRadius</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">flags</span>
    <span class="p">)</span>
</pre>
<p>Remaps an image to polar coordinates space.</p>
<p><span class="target" id="doxid-da-d54-group-imgproc-transform-1polar-remaps-reference-image"></span></p>
<img alt="Polar remaps reference" src="_images/polar_remap_doc.png" />
<p>Transform the source image using the following transformation:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{l} dst( \rho , \phi ) = src(x,y) \\ dst.size() \leftarrow src.size() \end{array}\end{split}\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{l} I = (dx,dy) = (x - center.x,y - center.y) \\ \rho = Kx \cdot \texttt{magnitude} (I) ,\\ \phi = Ky \cdot \texttt{angle} (I)_{0..360 deg} \end{array}\end{split}\]</div>
<p>and</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{l} Kx = src.cols / maxRadius \\ Ky = src.rows / 360 \end{array}\end{split}\]</div>
<ul class="simple">
<li>The function can not operate in-place.</li>
<li>To calculate magnitude and angle in degrees <a class="reference internal" href="group_core_array.html#doxid-d2-de8-group-core-array-1gac5f92f48ec32cacf5275969c33ee837d"><span class="std std-ref">cv::cartToPolar</span></a> is used internally thus angles are measured from 0 to 360 with accuracy about 0.3 degrees.</li>
</ul>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>src</td>
<td>Source image</td>
</tr>
<tr class="row-even"><td>dst</td>
<td>Destination image. It will have same size and type as src.</td>
</tr>
<tr class="row-odd"><td>center</td>
<td>The transformation center;</td>
</tr>
<tr class="row-even"><td>maxRadius</td>
<td>The radius of the bounding circle to transform. It determines the inverse magnitude scale parameter too.</td>
</tr>
<tr class="row-odd"><td>flags</td>
<td>A combination of interpolation methods, see <a class="reference internal" href="enum_cv_InterpolationFlags.html#doxid-da-d54-group-imgproc-transform-1ga5bb5a1fea74ea38e1a5445ca803ff121"><span class="std std-ref">cv::InterpolationFlags</span></a></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-da-d54-group-imgproc-transform-1gaec3a0b126a85b5ca2c667b16e0ae022d">
<span id="index-12"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">logPolar</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga7d080aa40de011e4410bca63385ffe2a"><span class="std std-ref">Point2f</span></a><span></span> <span class="n">center</span><span class="p">,</span>
    <span class="kt">double</span> <span class="n">M</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">flags</span>
    <span class="p">)</span>
</pre>
<p>Remaps an image to semilog-polar coordinates space.</p>
<p>Transform the source image using the following transformation (See <a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1polar-remaps-reference-image"><span class="std std-ref">Polar remaps reference image</span></a>):</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{l} dst( \rho , \phi ) = src(x,y) \\ dst.size() \leftarrow src.size() \end{array}\end{split}\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{l} I = (dx,dy) = (x - center.x,y - center.y) \\ \rho = M \cdot log_e(\texttt{magnitude} (I)) ,\\ \phi = Ky \cdot \texttt{angle} (I)_{0..360 deg} \\ \end{array}\end{split}\]</div>
<p>and</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{l} M = src.cols / log_e(maxRadius) \\ Ky = src.rows / 360 \\ \end{array}\end{split}\]</div>
<p>The function emulates the human “foveal” vision and can be used for fast scale and rotation-invariant template matching, for object tracking and so forth. * The function can not operate in-place.</p>
<ul class="simple">
<li>To calculate magnitude and angle in degrees <a class="reference internal" href="group_core_array.html#doxid-d2-de8-group-core-array-1gac5f92f48ec32cacf5275969c33ee837d"><span class="std std-ref">cv::cartToPolar</span></a> is used internally thus angles are measured from 0 to 360 with accuracy about 0.3 degrees.</li>
</ul>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>src</td>
<td>Source image</td>
</tr>
<tr class="row-even"><td>dst</td>
<td>Destination image. It will have same size and type as src.</td>
</tr>
<tr class="row-odd"><td>center</td>
<td>The transformation center; where the output precision is maximal</td>
</tr>
<tr class="row-even"><td>M</td>
<td>Magnitude scale parameter. It determines the radius of the bounding circle to transform too.</td>
</tr>
<tr class="row-odd"><td>flags</td>
<td>A combination of interpolation methods, see <a class="reference internal" href="enum_cv_InterpolationFlags.html#doxid-da-d54-group-imgproc-transform-1ga5bb5a1fea74ea38e1a5445ca803ff121"><span class="std std-ref">cv::InterpolationFlags</span></a></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-da-d54-group-imgproc-transform-1gab75ef31ce5cdfb5c44b6da5f3b908ea4">
<span id="index-13"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">remap</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">map1</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">map2</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">interpolation</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">borderMode</span> <span class="o">=</span> <a class="reference internal" href="enum_cv_BorderTypes.html#doxid-d2-de8-group-core-array-1gga209f2f4869e304c82d07739337eae7c5aed2e4346047e265c8c5a6d0276dcd838"><span class="std std-ref">BORDER_CONSTANT</span></a><span></span><span class="p">,</span>
    <span class="k">const</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga599fe92e910c027be274233eccad7beb"><span class="std std-ref">Scalar</span></a><span></span><span class="o">&amp;</span> <span class="n">borderValue</span> <span class="o">=</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga599fe92e910c027be274233eccad7beb"><span class="std std-ref">Scalar</span></a><span></span><span class="p">()</span>
    <span class="p">)</span>
</pre>
<p>Applies a generic geometrical transformation to an image.</p>
<p>The function remap transforms the source image using the specified map:</p>
<div class="math notranslate nohighlight">
\[\texttt{dst} (x,y) = \texttt{src} (map_x(x,y),map_y(x,y))\]</div>
<p>where values of pixels with non-integer coordinates are computed using one of available interpolation methods. <span class="math notranslate nohighlight">\(map_x\)</span> and <span class="math notranslate nohighlight">\(map_y\)</span> can be encoded as separate floating-point maps in <span class="math notranslate nohighlight">\(map_1\)</span> and <span class="math notranslate nohighlight">\(map_2\)</span> respectively, or interleaved floating-point maps of <span class="math notranslate nohighlight">\((x,y)\)</span> in <span class="math notranslate nohighlight">\(map_1\)</span>, or fixed-point maps created by using convertMaps. The reason you might want to convert from floating to fixed-point representations of a map is that they can yield much faster (2x) remapping operations. In the converted case, <span class="math notranslate nohighlight">\(map_1\)</span> contains pairs (cvFloor(x), cvFloor(y)) and <span class="math notranslate nohighlight">\(map_2\)</span> contains indices in a table of interpolation coefficients.</p>
<p>This function cannot operate in-place.</p>
<p>Due to current implementaion limitations the size of an input and output images should be less than 32767x32767.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>src</td>
<td>Source image.</td>
</tr>
<tr class="row-even"><td>dst</td>
<td>Destination image. It has the same size as map1 and the same type as src .</td>
</tr>
<tr class="row-odd"><td>map1</td>
<td>The first map of either (x,y) points or just x values having the type CV_16SC2 , CV_32FC1, or CV_32FC2. See convertMaps for details on converting a floating point representation to fixed-point for speed.</td>
</tr>
<tr class="row-even"><td>map2</td>
<td>The second map of y values having the type CV_16UC1, CV_32FC1, or none (empty map if map1 is (x,y) points), respectively.</td>
</tr>
<tr class="row-odd"><td>interpolation</td>
<td>Interpolation method (see <a class="reference internal" href="enum_cv_InterpolationFlags.html#doxid-da-d54-group-imgproc-transform-1ga5bb5a1fea74ea38e1a5445ca803ff121"><span class="std std-ref">cv::InterpolationFlags</span></a>). The method INTER_AREA is not supported by this function.</td>
</tr>
<tr class="row-even"><td>borderMode</td>
<td>Pixel extrapolation method (see <a class="reference internal" href="enum_cv_BorderTypes.html#doxid-d2-de8-group-core-array-1ga209f2f4869e304c82d07739337eae7c5"><span class="std std-ref">cv::BorderTypes</span></a>). When borderMode=BORDER_TRANSPARENT, it means that the pixels in the destination image that corresponds to the “outliers” in the source image are not modified by the function.</td>
</tr>
<tr class="row-odd"><td>borderValue</td>
<td>Value used in case of a constant border. By default, it is 0.</td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-da-d54-group-imgproc-transform-1ga47a974309e9102f5f08231edc7e7529d">
<span id="index-14"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">resize</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga346f563897249351a34549137c8532a0"><span class="std std-ref">Size</span></a><span></span> <span class="n">dsize</span><span class="p">,</span>
    <span class="kt">double</span> <span class="n">fx</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="kt">double</span> <span class="n">fy</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">interpolation</span> <span class="o">=</span> <a class="reference internal" href="enum_cv_InterpolationFlags.html#doxid-da-d54-group-imgproc-transform-1gga5bb5a1fea74ea38e1a5445ca803ff121ac97d8e4880d8b5d509e96825c7522deb"><span class="std std-ref">INTER_LINEAR</span></a><span></span>
    <span class="p">)</span>
</pre>
<p>Resizes an image.</p>
<p>The function resize resizes the image src down to or up to the specified size. Note that the initial dst type or size are not taken into account. Instead, the size and type are derived from the <code class="docutils literal notranslate"><span class="pre">src</span></code>, <code class="docutils literal notranslate"><span class="pre">dsize</span></code>, <code class="docutils literal notranslate"><span class="pre">fx</span></code>, and <code class="docutils literal notranslate"><span class="pre">fy</span></code>. If you want to resize src so that it fits the pre-created dst, you may call the function as follows:</p>
<pre class="highlight literal-block">
<span></span><span class="c1">// explicitly specify dsize=dst.size(); fx and fy will be computed from that.</span>
<span class="n">resize</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">dst</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">interpolation</span><span class="p">);</span>
</pre>
<p>If you want to decimate the image by factor of 2 in each direction, you can call the function this way:</p>
<pre class="highlight literal-block">
<span></span><span class="c1">// specify fx and fy and let the function compute the destination image size.</span>
<span class="n">resize</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">dst</span><span class="p">,</span> <span class="n">Size</span><span class="p">(),</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">interpolation</span><span class="p">);</span>
</pre>
<p>To shrink an image, it will generally look best with <a class="reference internal" href="enum_cv_InterpolationFlags.html#doxid-da-d54-group-imgproc-transform-1gga5bb5a1fea74ea38e1a5445ca803ff121acf959dca2480cc694ca016b81b442ceb"><span class="std std-ref">cv::INTER_AREA</span></a> interpolation, whereas to enlarge an image, it will generally look best with <a class="reference internal" href="enum_cv_InterpolationFlags.html#doxid-da-d54-group-imgproc-transform-1gga5bb5a1fea74ea38e1a5445ca803ff121a55e404e7fa9684af79fe9827f36a5dc1"><span class="std std-ref">cv::INTER_CUBIC</span></a> (slow) or <a class="reference internal" href="enum_cv_InterpolationFlags.html#doxid-da-d54-group-imgproc-transform-1gga5bb5a1fea74ea38e1a5445ca803ff121ac97d8e4880d8b5d509e96825c7522deb"><span class="std std-ref">cv::INTER_LINEAR</span></a> (faster but still looks OK).</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>src</td>
<td>input image.</td>
</tr>
<tr class="row-even"><td>dst</td>
<td>output image; it has the size dsize (when it is non-zero) or the size computed from src.size(), fx, and fy; the type of dst is the same as of src.</td>
</tr>
<tr class="row-odd"><td>dsize</td>
<td><p class="first">output image size; if it equals zero, it is computed as:</p>
<div class="math notranslate nohighlight">
\[\texttt{dsize = Size(round(fx*src.cols), round(fy*src.rows))}\]</div>
<p class="last">Either dsize or both fx and fy must be non-zero.</p>
</td>
</tr>
<tr class="row-even"><td>fx</td>
<td><p class="first">scale factor along the horizontal axis; when it equals 0, it is computed as</p>
<div class="last math notranslate nohighlight">
\[\texttt{(double)dsize.width/src.cols}\]</div>
</td>
</tr>
<tr class="row-odd"><td>fy</td>
<td><p class="first">scale factor along the vertical axis; when it equals 0, it is computed as</p>
<div class="last math notranslate nohighlight">
\[\texttt{(double)dsize.height/src.rows}\]</div>
</td>
</tr>
<tr class="row-even"><td>interpolation</td>
<td>interpolation method, see <a class="reference internal" href="enum_cv_InterpolationFlags.html#doxid-da-d54-group-imgproc-transform-1ga5bb5a1fea74ea38e1a5445ca803ff121"><span class="std std-ref">cv::InterpolationFlags</span></a></td>
</tr>
</tbody>
</table>
<p class="rubric">See also:</p>
<p><a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga0203d9ee5fcd28d40dbc4a1ea4451983"><span class="std std-ref">warpAffine</span></a>, <a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1gaf73673a7e8e18ec6963e3774e6a94b87"><span class="std std-ref">warpPerspective</span></a>, <a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1gab75ef31ce5cdfb5c44b6da5f3b908ea4"><span class="std std-ref">remap</span></a></p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-da-d54-group-imgproc-transform-1ga69f2545a8b62a6b0fc2ee060dc30559d">
<span id="index-15"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">undistort</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">cameraMatrix</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">distCoeffs</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">newCameraMatrix</span> <span class="o">=</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gad9287b23bba2fed753b36ef561ae7346"><span class="std std-ref">noArray</span></a><span></span><span class="p">()</span>
    <span class="p">)</span>
</pre>
<p>Transforms an image to compensate for lens distortion.</p>
<p>The function transforms an image to compensate radial and tangential lens distortion.</p>
<p>The function is simply a combination of <a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga7dfb72c9cf9780a347fbe3d1c47e5d5a"><span class="std std-ref">cv::initUndistortRectifyMap</span></a> (with unity R ) and <a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1gab75ef31ce5cdfb5c44b6da5f3b908ea4"><span class="std std-ref">cv::remap</span></a> (with bilinear interpolation). See the former function for details of the transformation being performed.</p>
<p>Those pixels in the destination image, for which there is no correspondent pixels in the source image, are filled with zeros (black color).</p>
<p>A particular subset of the source image that will be visible in the corrected image can be regulated by newCameraMatrix. You can use <a class="reference internal" href="group_calib3d.html#doxid-d9-d0c-group-calib3d-1ga7a6c4e032c97f03ba747966e6ad862b1"><span class="std std-ref">cv::getOptimalNewCameraMatrix</span></a> to compute the appropriate newCameraMatrix depending on your requirements.</p>
<p>The camera matrix and the distortion parameters can be determined using <a class="reference internal" href="group_calib3d.html#doxid-d9-d0c-group-calib3d-1ga3207604e4b1a1758aa66acb6ed5aa65d"><span class="std std-ref">cv::calibrateCamera</span></a>. If the resolution of images is different from the resolution used at the calibration stage, <span class="math notranslate nohighlight">\(f_x, f_y, c_x\)</span> and <span class="math notranslate nohighlight">\(c_y\)</span> need to be scaled accordingly, while the distortion coefficients remain the same.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>src</td>
<td>Input (distorted) image.</td>
</tr>
<tr class="row-even"><td>dst</td>
<td>Output (corrected) image that has the same size and type as src .</td>
</tr>
<tr class="row-odd"><td>cameraMatrix</td>
<td>Input camera matrix <span class="math notranslate nohighlight">\(A = \vecthreethree{f_x}{0}{c_x}{0}{f_y}{c_y}{0}{0}{1}\)</span>.</td>
</tr>
<tr class="row-even"><td>distCoeffs</td>
<td>Input vector of distortion coefficients <span class="math notranslate nohighlight">\((k_1, k_2, p_1, p_2[, k_3[, k_4, k_5, k_6[, s_1, s_2, s_3, s_4[, \tau_x, \tau_y]]]])\)</span> of 4, 5, 8, 12 or 14 elements. If the vector is NULL/empty, the zero distortion coefficients are assumed.</td>
</tr>
<tr class="row-odd"><td>newCameraMatrix</td>
<td>Camera matrix of the distorted image. By default, it is the same as cameraMatrix but you may additionally scale and shift the result by using a different matrix.</td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-da-d54-group-imgproc-transform-1ga55c716492470bfe86b0ee9bf3a1f0f7e">
<span id="index-16"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">undistortPoints</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">cameraMatrix</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">distCoeffs</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">R</span> <span class="o">=</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gad9287b23bba2fed753b36ef561ae7346"><span class="std std-ref">noArray</span></a><span></span><span class="p">(),</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">P</span> <span class="o">=</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gad9287b23bba2fed753b36ef561ae7346"><span class="std std-ref">noArray</span></a><span></span><span class="p">()</span>
    <span class="p">)</span>
</pre>
<p>Computes the ideal point coordinates from the observed point coordinates.</p>
<p>The function is similar to <a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga69f2545a8b62a6b0fc2ee060dc30559d"><span class="std std-ref">cv::undistort</span></a> and <a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga7dfb72c9cf9780a347fbe3d1c47e5d5a"><span class="std std-ref">cv::initUndistortRectifyMap</span></a> but it operates on a sparse set of points instead of a raster image. Also the function performs a reverse transformation to projectPoints. In case of a 3D object, it does not reconstruct its 3D coordinates, but for a planar object, it does, up to a translation vector, if the proper R is specified.</p>
<p>For each observed point coordinate <span class="math notranslate nohighlight">\((u, v)\)</span> the function computes:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{l} x^{&quot;} \leftarrow (u - c_x)/f_x \\ y^{&quot;} \leftarrow (v - c_y)/f_y \\ (x',y') = undistort(x^{&quot;},y^{&quot;}, \texttt{distCoeffs}) \\ {[X\,Y\,W]} ^T \leftarrow R*[x' \, y' \, 1]^T \\ x \leftarrow X/W \\ y \leftarrow Y/W \\ \text{only performed if P is specified:} \\ u' \leftarrow x {f'}_x + {c'}_x \\ v' \leftarrow y {f'}_y + {c'}_y \end{array}\end{split}\]</div>
<p>where <em>undistort</em> is an approximate iterative algorithm that estimates the normalized original point coordinates out of the normalized distorted point coordinates (“normalized” means that the coordinates do not depend on the camera matrix).</p>
<p>The function can be used for both a stereo camera head or a monocular camera (when R is empty).</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>src</td>
<td>Observed point coordinates, 1xN or Nx1 2-channel (CV_32FC2 or CV_64FC2).</td>
</tr>
<tr class="row-even"><td>dst</td>
<td>Output ideal point coordinates after undistortion and reverse perspective transformation. If matrix P is identity or omitted, dst will contain normalized point coordinates.</td>
</tr>
<tr class="row-odd"><td>cameraMatrix</td>
<td>Camera matrix <span class="math notranslate nohighlight">\(\vecthreethree{f_x}{0}{c_x}{0}{f_y}{c_y}{0}{0}{1}\)</span>.</td>
</tr>
<tr class="row-even"><td>distCoeffs</td>
<td>Input vector of distortion coefficients <span class="math notranslate nohighlight">\((k_1, k_2, p_1, p_2[, k_3[, k_4, k_5, k_6[, s_1, s_2, s_3, s_4[, \tau_x, \tau_y]]]])\)</span> of 4, 5, 8, 12 or 14 elements. If the vector is NULL/empty, the zero distortion coefficients are assumed.</td>
</tr>
<tr class="row-odd"><td>R</td>
<td>Rectification transformation in the object space (3x3 matrix). R1 or R2 computed by <a class="reference internal" href="group_calib3d.html#doxid-d9-d0c-group-calib3d-1ga617b1685d4059c6040827800e72ad2b6"><span class="std std-ref">cv::stereoRectify</span></a> can be passed here. If the matrix is empty, the identity transformation is used.</td>
</tr>
<tr class="row-even"><td>P</td>
<td>New camera matrix (3x3) or new projection matrix (3x4) <span class="math notranslate nohighlight">\(\begin{bmatrix} {f'}_x &amp; 0 &amp; {c'}_x &amp; t_x \\ 0 &amp; {f'}_y &amp; {c'}_y &amp; t_y \\ 0 &amp; 0 &amp; 1 &amp; t_z \end{bmatrix}\)</span>. P1 or P2 computed by <a class="reference internal" href="group_calib3d.html#doxid-d9-d0c-group-calib3d-1ga617b1685d4059c6040827800e72ad2b6"><span class="std std-ref">cv::stereoRectify</span></a> can be passed here. If the matrix is empty, the identity new camera matrix is used.</td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-da-d54-group-imgproc-transform-1ga0203d9ee5fcd28d40dbc4a1ea4451983">
<span id="index-17"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">warpAffine</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">M</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga346f563897249351a34549137c8532a0"><span class="std std-ref">Size</span></a><span></span> <span class="n">dsize</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">flags</span> <span class="o">=</span> <a class="reference internal" href="enum_cv_InterpolationFlags.html#doxid-da-d54-group-imgproc-transform-1gga5bb5a1fea74ea38e1a5445ca803ff121ac97d8e4880d8b5d509e96825c7522deb"><span class="std std-ref">INTER_LINEAR</span></a><span></span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">borderMode</span> <span class="o">=</span> <a class="reference internal" href="enum_cv_BorderTypes.html#doxid-d2-de8-group-core-array-1gga209f2f4869e304c82d07739337eae7c5aed2e4346047e265c8c5a6d0276dcd838"><span class="std std-ref">BORDER_CONSTANT</span></a><span></span><span class="p">,</span>
    <span class="k">const</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga599fe92e910c027be274233eccad7beb"><span class="std std-ref">Scalar</span></a><span></span><span class="o">&amp;</span> <span class="n">borderValue</span> <span class="o">=</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga599fe92e910c027be274233eccad7beb"><span class="std std-ref">Scalar</span></a><span></span><span class="p">()</span>
    <span class="p">)</span>
</pre>
<p>Applies an affine transformation to an image.</p>
<p>The function warpAffine transforms the source image using the specified matrix:</p>
<div class="math notranslate nohighlight">
\[\texttt{dst} (x,y) = \texttt{src} ( \texttt{M} _{11} x + \texttt{M} _{12} y + \texttt{M} _{13}, \texttt{M} _{21} x + \texttt{M} _{22} y + \texttt{M} _{23})\]</div>
<p>when the flag WARP_INVERSE_MAP is set. Otherwise, the transformation is first inverted with <a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga57d3505a878a7e1a636645727ca08f51"><span class="std std-ref">cv::invertAffineTransform</span></a> and then put in the formula above instead of M. The function cannot operate in-place.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>src</td>
<td>input image.</td>
</tr>
<tr class="row-even"><td>dst</td>
<td>output image that has the size dsize and the same type as src .</td>
</tr>
<tr class="row-odd"><td>M</td>
<td><span class="math notranslate nohighlight">\(2\times 3\)</span> transformation matrix.</td>
</tr>
<tr class="row-even"><td>dsize</td>
<td>size of the output image.</td>
</tr>
<tr class="row-odd"><td>flags</td>
<td>combination of interpolation methods (see <a class="reference internal" href="enum_cv_InterpolationFlags.html#doxid-da-d54-group-imgproc-transform-1ga5bb5a1fea74ea38e1a5445ca803ff121"><span class="std std-ref">cv::InterpolationFlags</span></a>) and the optional flag WARP_INVERSE_MAP that means that M is the inverse transformation (<span class="math notranslate nohighlight">\(\texttt{dst}\rightarrow\texttt{src}\)</span>).</td>
</tr>
<tr class="row-even"><td>borderMode</td>
<td>pixel extrapolation method (see <a class="reference internal" href="enum_cv_BorderTypes.html#doxid-d2-de8-group-core-array-1ga209f2f4869e304c82d07739337eae7c5"><span class="std std-ref">cv::BorderTypes</span></a>); when borderMode=BORDER_TRANSPARENT, it means that the pixels in the destination image corresponding to the “outliers” in the source image are not modified by the function.</td>
</tr>
<tr class="row-odd"><td>borderValue</td>
<td>value used in case of a constant border; by default, it is 0.</td>
</tr>
</tbody>
</table>
<p class="rubric">See also:</p>
<p><a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1gaf73673a7e8e18ec6963e3774e6a94b87"><span class="std std-ref">warpPerspective</span></a>, <a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga47a974309e9102f5f08231edc7e7529d"><span class="std std-ref">resize</span></a>, <a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1gab75ef31ce5cdfb5c44b6da5f3b908ea4"><span class="std std-ref">remap</span></a>, <a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga77576d06075c1a4b6ba1a608850cd614"><span class="std std-ref">getRectSubPix</span></a>, <a class="reference internal" href="group_core_array.html#doxid-d2-de8-group-core-array-1ga393164aa54bb9169ce0a8cc44e08ff22"><span class="std std-ref">transform</span></a></p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-da-d54-group-imgproc-transform-1gaf73673a7e8e18ec6963e3774e6a94b87">
<span id="index-18"></span><span></span><span class="kt">void</span>
<span class="n">cv</span><span class="o">::</span><span class="n">warpPerspective</span><span class="p">(</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">src</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1gaad17fda1d0f0d1ee069aebb1df2913c0"><span class="std std-ref">OutputArray</span></a><span></span> <span class="n">dst</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga353a9de602fe76c709e12074a6f362ba"><span class="std std-ref">InputArray</span></a><span></span> <span class="n">M</span><span class="p">,</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga346f563897249351a34549137c8532a0"><span class="std std-ref">Size</span></a><span></span> <span class="n">dsize</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">flags</span> <span class="o">=</span> <a class="reference internal" href="enum_cv_InterpolationFlags.html#doxid-da-d54-group-imgproc-transform-1gga5bb5a1fea74ea38e1a5445ca803ff121ac97d8e4880d8b5d509e96825c7522deb"><span class="std std-ref">INTER_LINEAR</span></a><span></span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">borderMode</span> <span class="o">=</span> <a class="reference internal" href="enum_cv_BorderTypes.html#doxid-d2-de8-group-core-array-1gga209f2f4869e304c82d07739337eae7c5aed2e4346047e265c8c5a6d0276dcd838"><span class="std std-ref">BORDER_CONSTANT</span></a><span></span><span class="p">,</span>
    <span class="k">const</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga599fe92e910c027be274233eccad7beb"><span class="std std-ref">Scalar</span></a><span></span><span class="o">&amp;</span> <span class="n">borderValue</span> <span class="o">=</span> <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga599fe92e910c027be274233eccad7beb"><span class="std std-ref">Scalar</span></a><span></span><span class="p">()</span>
    <span class="p">)</span>
</pre>
<p>Applies a perspective transformation to an image.</p>
<p>The function warpPerspective transforms the source image using the specified matrix:</p>
<div class="math notranslate nohighlight">
\[\texttt{dst} (x,y) = \texttt{src} \left ( \frac{M_{11} x + M_{12} y + M_{13}}{M_{31} x + M_{32} y + M_{33}} , \frac{M_{21} x + M_{22} y + M_{23}}{M_{31} x + M_{32} y + M_{33}} \right )\]</div>
<p>when the flag WARP_INVERSE_MAP is set. Otherwise, the transformation is first inverted with invert and then put in the formula above instead of M. The function cannot operate in-place.</p>
<p class="rubric">Parameters:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>src</td>
<td>input image.</td>
</tr>
<tr class="row-even"><td>dst</td>
<td>output image that has the size dsize and the same type as src .</td>
</tr>
<tr class="row-odd"><td>M</td>
<td><span class="math notranslate nohighlight">\(3\times 3\)</span> transformation matrix.</td>
</tr>
<tr class="row-even"><td>dsize</td>
<td>size of the output image.</td>
</tr>
<tr class="row-odd"><td>flags</td>
<td>combination of interpolation methods (INTER_LINEAR or INTER_NEAREST) and the optional flag WARP_INVERSE_MAP, that sets M as the inverse transformation (<span class="math notranslate nohighlight">\(\texttt{dst}\rightarrow\texttt{src}\)</span>).</td>
</tr>
<tr class="row-even"><td>borderMode</td>
<td>pixel extrapolation method (BORDER_CONSTANT or BORDER_REPLICATE).</td>
</tr>
<tr class="row-odd"><td>borderValue</td>
<td>value used in case of a constant border; by default, it equals 0.</td>
</tr>
</tbody>
</table>
<p class="rubric">See also:</p>
<p><a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga0203d9ee5fcd28d40dbc4a1ea4451983"><span class="std std-ref">warpAffine</span></a>, <a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga47a974309e9102f5f08231edc7e7529d"><span class="std std-ref">resize</span></a>, <a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1gab75ef31ce5cdfb5c44b6da5f3b908ea4"><span class="std std-ref">remap</span></a>, <a class="reference internal" href="#doxid-da-d54-group-imgproc-transform-1ga77576d06075c1a4b6ba1a608850cd614"><span class="std std-ref">getRectSubPix</span></a>, <a class="reference internal" href="group_core_array.html#doxid-d2-de8-group-core-array-1gad327659ac03e5fd6894b90025e6900a7"><span class="std std-ref">perspectiveTransform</span></a></p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="enum_cv_InterpolationFlags.html" title="enum cv::InterpolationFlags"
             >next</a> |</li>
        <li class="right" >
          <a href="class_cv_LineSegmentDetector.html" title="class cv::LineSegmentDetector"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">OpenCV Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="group_imgproc.html" >Image processing</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 1999-2017, OpenCV Maintainers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>