
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Histogram Comparison &#8212; OpenCV Documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-sphinxdoc.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/target-highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Histogram Equalization" href="page_tutorial_histogram_equalization.html" />
    <link rel="prev" title="Histogram Calculation" href="page_tutorial_histogram_calculation.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="page_tutorial_histogram_equalization.html" title="Histogram Equalization"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="page_tutorial_histogram_calculation.html" title="Histogram Calculation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">OpenCV Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="page_tutorial_root.html" >OpenCV Tutorials</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="page_tutorial_table_of_content_imgproc.html" accesskey="U">Image Processing (imgproc module)</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="page_tutorial_histogram_calculation.html"
                        title="previous chapter">Histogram Calculation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="page_tutorial_histogram_equalization.html"
                        title="next chapter">Histogram Equalization</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="histogram-comparison">
<span id="doxid-d8-dc8-tutorial-histogram-comparison"></span><span id="index-0"></span><h1>Histogram Comparison</h1>
<p class="rubric">Goal</p>
<p>In this tutorial you will learn how to:</p>
<ul class="simple">
<li>Use the function <a class="reference internal" href="group_imgproc_hist.html#doxid-d6-dc7-group-imgproc-hist-1gaf4190090efa5c47cb367cf97a9a519bd"><span class="std std-ref">cv::compareHist</span></a> to get a numerical parameter that express how well two histograms match with each other.</li>
<li>Use different metrics to compare histograms</li>
</ul>
<p class="rubric">Theory</p>
<ul>
<li><p class="first">To compare two histograms (<span class="math notranslate nohighlight">\(H_{1}\)</span> and <span class="math notranslate nohighlight">\(H_{2}\)</span>), first we have to choose a <em>metric</em> (<span class="math notranslate nohighlight">\(d(H_{1}, H_{2})\)</span>) to express how well both histograms match.</p>
</li>
<li><p class="first">OpenCV implements the function <a class="reference internal" href="group_imgproc_hist.html#doxid-d6-dc7-group-imgproc-hist-1gaf4190090efa5c47cb367cf97a9a519bd"><span class="std std-ref">cv::compareHist</span></a> to perform a comparison. It also offers 4 different metrics to compute the matching:</p>
<ol class="arabic">
<li><p class="first"><strong>Correlation ( CV_COMP_CORREL )</strong></p>
<div class="math notranslate nohighlight">
\[d(H_1,H_2) = \frac{\sum_I (H_1(I) - \bar{H_1}) (H_2(I) - \bar{H_2})}{\sqrt{\sum_I(H_1(I) - \bar{H_1})^2 \sum_I(H_2(I) - \bar{H_2})^2}}\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[\bar{H_k} = \frac{1}{N} \sum _J H_k(J)\]</div>
<p>and <span class="math notranslate nohighlight">\(N\)</span> is the total number of histogram bins.</p>
</li>
<li><p class="first"><strong>Chi-Square ( CV_COMP_CHISQR )</strong></p>
<div class="math notranslate nohighlight">
\[d(H_1,H_2) = \sum _I \frac{\left(H_1(I)-H_2(I)\right)^2}{H_1(I)}\]</div>
</li>
<li><p class="first"><strong>Intersection ( method=CV_COMP_INTERSECT )</strong></p>
<div class="math notranslate nohighlight">
\[d(H_1,H_2) = \sum _I \min (H_1(I), H_2(I))\]</div>
</li>
<li><p class="first"><strong>Bhattacharyya distance ( CV_COMP_BHATTACHARYYA )</strong></p>
<div class="math notranslate nohighlight">
\[d(H_1,H_2) = \sqrt{1 - \frac{1}{\sqrt{\bar{H_1} \bar{H_2} N^2}} \sum_I \sqrt{H_1(I) \cdot H_2(I)}}\]</div>
</li>
</ol>
</li>
</ul>
<p class="rubric">Code</p>
<ul class="simple">
<li><strong>What does this program do?</strong><ul>
<li>Loads a <em>base image</em> and 2 <em>test images</em> to be compared with it.</li>
<li>Generate 1 image that is the lower half of the <em>base image</em></li>
<li>Convert the images to HSV format</li>
<li>Calculate the H-S histogram for all the images and normalize them in order to compare them.</li>
<li>Compare the histogram of the <em>base image</em> with respect to the 2 test histograms, the histogram of the lower half base image and with the same base image histogram.</li>
<li>Display the numerical matching parameters obtained.</li>
</ul>
</li>
<li><strong>Downloadable code</strong> : Click <a class="reference external" href="https://github.com/opencv/opencv/tree/master/samples/cpp/tutorial_code/Histograms_Matching/compareHist_Demo.cpp">here</a></li>
<li><strong>Code at glance:</strong></li>
</ul>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;opencv2/imgcodecs.hpp&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;opencv2/highgui.hpp&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;opencv2/imgproc.hpp&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="k">using</span> <span class="k">namespace</span> <a class="reference internal" href="namespace_std.html#doxid-d8-dcc-namespacestd"><span class="std std-ref">std</span></a><span></span><span class="p">;</span>
<span class="k">using</span> <span class="k">namespace</span> <a class="reference internal" href="namespace_cv.html#doxid-d2-d75-namespacecv"><span class="std std-ref">cv</span></a><span></span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span> <span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">**</span> <span class="n">argv</span> <span class="p">)</span>
<span class="p">{</span>
    <a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span> <span class="n">src_base</span><span class="p">,</span> <span class="n">hsv_base</span><span class="p">;</span>
    <a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span> <span class="n">src_test1</span><span class="p">,</span> <span class="n">hsv_test1</span><span class="p">;</span>
    <a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span> <span class="n">src_test2</span><span class="p">,</span> <span class="n">hsv_test2</span><span class="p">;</span>
    <a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span> <span class="n">hsv_half_down</span><span class="p">;</span>

    <span class="k">if</span><span class="p">(</span> <span class="n">argc</span> <span class="o">&lt;</span> <span class="mi">4</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;** Error. Usage: ./compareHist_Demo &lt;image_settings0&gt; &lt;image_settings1&gt; &lt;image_settings2&gt;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">src_base</span> <span class="o">=</span> <a class="reference internal" href="group_imgcodecs.html#doxid-d4-da8-group-imgcodecs-1ga288b8b3da0892bd651fce07b3bbd3a56"><span class="std std-ref">imread</span></a><span></span><span class="p">(</span> <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <a class="reference internal" href="enum_cv_ImreadModes.html#doxid-d4-da8-group-imgcodecs-1gga61d9b0126a3e57d9277ac48327799c80af660544735200cbe942eea09232eb822"><span class="std std-ref">IMREAD_COLOR</span></a><span></span> <span class="p">);</span>
    <span class="n">src_test1</span> <span class="o">=</span> <a class="reference internal" href="group_imgcodecs.html#doxid-d4-da8-group-imgcodecs-1ga288b8b3da0892bd651fce07b3bbd3a56"><span class="std std-ref">imread</span></a><span></span><span class="p">(</span> <span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <a class="reference internal" href="enum_cv_ImreadModes.html#doxid-d4-da8-group-imgcodecs-1gga61d9b0126a3e57d9277ac48327799c80af660544735200cbe942eea09232eb822"><span class="std std-ref">IMREAD_COLOR</span></a><span></span> <span class="p">);</span>
    <span class="n">src_test2</span> <span class="o">=</span> <a class="reference internal" href="group_imgcodecs.html#doxid-d4-da8-group-imgcodecs-1ga288b8b3da0892bd651fce07b3bbd3a56"><span class="std std-ref">imread</span></a><span></span><span class="p">(</span> <span class="n">argv</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <a class="reference internal" href="enum_cv_ImreadModes.html#doxid-d4-da8-group-imgcodecs-1gga61d9b0126a3e57d9277ac48327799c80af660544735200cbe942eea09232eb822"><span class="std std-ref">IMREAD_COLOR</span></a><span></span> <span class="p">);</span>

    <span class="k">if</span><span class="p">(</span><span class="n">src_base</span><span class="p">.</span><a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat-1abbec3525a852e77998aba034813fded4"><span class="std std-ref">empty</span></a><span></span><span class="p">()</span> <span class="o">||</span> <span class="n">src_test1</span><span class="p">.</span><a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat-1abbec3525a852e77998aba034813fded4"><span class="std std-ref">empty</span></a><span></span><span class="p">()</span> <span class="o">||</span> <span class="n">src_test2</span><span class="p">.</span><a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat-1abbec3525a852e77998aba034813fded4"><span class="std std-ref">empty</span></a><span></span><span class="p">())</span>
    <span class="p">{</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Can&#39;t read one of the images&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
      <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <a class="reference internal" href="group_imgproc_misc.html#doxid-d7-d1b-group-imgproc-misc-1ga397ae87e1288a81d2363b61574eb8cab"><span class="std std-ref">cvtColor</span></a><span></span><span class="p">(</span> <span class="n">src_base</span><span class="p">,</span> <span class="n">hsv_base</span><span class="p">,</span> <a class="reference internal" href="enum_cv_ColorConversionCodes.html#doxid-d7-d1b-group-imgproc-misc-1gga4e0972be5de079fed4e3a10e24ef5ef0aa4a7f0ecf2e94150699e48c79139ee12"><span class="std std-ref">COLOR_BGR2HSV</span></a><span></span> <span class="p">);</span>
    <a class="reference internal" href="group_imgproc_misc.html#doxid-d7-d1b-group-imgproc-misc-1ga397ae87e1288a81d2363b61574eb8cab"><span class="std std-ref">cvtColor</span></a><span></span><span class="p">(</span> <span class="n">src_test1</span><span class="p">,</span> <span class="n">hsv_test1</span><span class="p">,</span> <a class="reference internal" href="enum_cv_ColorConversionCodes.html#doxid-d7-d1b-group-imgproc-misc-1gga4e0972be5de079fed4e3a10e24ef5ef0aa4a7f0ecf2e94150699e48c79139ee12"><span class="std std-ref">COLOR_BGR2HSV</span></a><span></span> <span class="p">);</span>
    <a class="reference internal" href="group_imgproc_misc.html#doxid-d7-d1b-group-imgproc-misc-1ga397ae87e1288a81d2363b61574eb8cab"><span class="std std-ref">cvtColor</span></a><span></span><span class="p">(</span> <span class="n">src_test2</span><span class="p">,</span> <span class="n">hsv_test2</span><span class="p">,</span> <a class="reference internal" href="enum_cv_ColorConversionCodes.html#doxid-d7-d1b-group-imgproc-misc-1gga4e0972be5de079fed4e3a10e24ef5ef0aa4a7f0ecf2e94150699e48c79139ee12"><span class="std std-ref">COLOR_BGR2HSV</span></a><span></span> <span class="p">);</span>

    <span class="n">hsv_half_down</span> <span class="o">=</span> <span class="n">hsv_base</span><span class="p">(</span> <a class="reference internal" href="class_cv_Range.html#doxid-d7-d65-classcv-1-1-range"><span class="std std-ref">Range</span></a><span></span><span class="p">(</span> <span class="n">hsv_base</span><span class="p">.</span><a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat-1abed816466c45234254d25bc59c31245e"><span class="std std-ref">rows</span></a><span></span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">hsv_base</span><span class="p">.</span><a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat-1abed816466c45234254d25bc59c31245e"><span class="std std-ref">rows</span></a><span></span> <span class="o">-</span> <span class="mi">1</span> <span class="p">),</span> <a class="reference internal" href="class_cv_Range.html#doxid-d7-d65-classcv-1-1-range"><span class="std std-ref">Range</span></a><span></span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="n">hsv_base</span><span class="p">.</span><a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat-1aa3e5a47585c9ef6a0842556739155e3e"><span class="std std-ref">cols</span></a><span></span> <span class="o">-</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">);</span>

    <span class="kt">int</span> <span class="n">h_bins</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span> <span class="kt">int</span> <span class="n">s_bins</span> <span class="o">=</span> <span class="mi">60</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">histSize</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="n">h_bins</span><span class="p">,</span> <span class="n">s_bins</span> <span class="p">};</span>

    <span class="c1">// hue varies from 0 to 179, saturation from 0 to 255</span>
    <span class="kt">float</span> <span class="n">h_ranges</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">180</span> <span class="p">};</span>
    <span class="kt">float</span> <span class="n">s_ranges</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">256</span> <span class="p">};</span>

    <span class="k">const</span> <span class="kt">float</span><span class="o">*</span> <span class="n">ranges</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="n">h_ranges</span><span class="p">,</span> <span class="n">s_ranges</span> <span class="p">};</span>

    <span class="c1">// Use the o-th and 1-st channels</span>
    <span class="kt">int</span> <span class="n">channels</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="p">};</span>


    <span class="n">MatND</span> <span class="n">hist_base</span><span class="p">;</span>
    <span class="n">MatND</span> <span class="n">hist_half_down</span><span class="p">;</span>
    <span class="n">MatND</span> <span class="n">hist_test1</span><span class="p">;</span>
    <span class="n">MatND</span> <span class="n">hist_test2</span><span class="p">;</span>

    <a class="reference internal" href="group_imgproc_hist.html#doxid-d6-dc7-group-imgproc-hist-1ga4b2b5fd75503ff9e6844cc4dcdaed35d"><span class="std std-ref">calcHist</span></a><span></span><span class="p">(</span> <span class="o">&amp;</span><span class="n">hsv_base</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">channels</span><span class="p">,</span> <a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span><span class="p">(),</span> <span class="n">hist_base</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">histSize</span><span class="p">,</span> <span class="n">ranges</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">false</span> <span class="p">);</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga1b6a396a456c8b6c6e4afd8591560d80"><span class="std std-ref">normalize</span></a><span></span><span class="p">(</span> <span class="n">hist_base</span><span class="p">,</span> <span class="n">hist_base</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <a class="reference internal" href="enum_cv_NormTypes.html#doxid-d2-de8-group-core-array-1ggad12cefbcb5291cf958a85b4b67b6149fa9f0c1c342a18114d47b516a88e29822e"><span class="std std-ref">NORM_MINMAX</span></a><span></span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span><span class="p">()</span> <span class="p">);</span>

    <a class="reference internal" href="group_imgproc_hist.html#doxid-d6-dc7-group-imgproc-hist-1ga4b2b5fd75503ff9e6844cc4dcdaed35d"><span class="std std-ref">calcHist</span></a><span></span><span class="p">(</span> <span class="o">&amp;</span><span class="n">hsv_half_down</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">channels</span><span class="p">,</span> <a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span><span class="p">(),</span> <span class="n">hist_half_down</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">histSize</span><span class="p">,</span> <span class="n">ranges</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">false</span> <span class="p">);</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga1b6a396a456c8b6c6e4afd8591560d80"><span class="std std-ref">normalize</span></a><span></span><span class="p">(</span> <span class="n">hist_half_down</span><span class="p">,</span> <span class="n">hist_half_down</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <a class="reference internal" href="enum_cv_NormTypes.html#doxid-d2-de8-group-core-array-1ggad12cefbcb5291cf958a85b4b67b6149fa9f0c1c342a18114d47b516a88e29822e"><span class="std std-ref">NORM_MINMAX</span></a><span></span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span><span class="p">()</span> <span class="p">);</span>

    <a class="reference internal" href="group_imgproc_hist.html#doxid-d6-dc7-group-imgproc-hist-1ga4b2b5fd75503ff9e6844cc4dcdaed35d"><span class="std std-ref">calcHist</span></a><span></span><span class="p">(</span> <span class="o">&amp;</span><span class="n">hsv_test1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">channels</span><span class="p">,</span> <a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span><span class="p">(),</span> <span class="n">hist_test1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">histSize</span><span class="p">,</span> <span class="n">ranges</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">false</span> <span class="p">);</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga1b6a396a456c8b6c6e4afd8591560d80"><span class="std std-ref">normalize</span></a><span></span><span class="p">(</span> <span class="n">hist_test1</span><span class="p">,</span> <span class="n">hist_test1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <a class="reference internal" href="enum_cv_NormTypes.html#doxid-d2-de8-group-core-array-1ggad12cefbcb5291cf958a85b4b67b6149fa9f0c1c342a18114d47b516a88e29822e"><span class="std std-ref">NORM_MINMAX</span></a><span></span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span><span class="p">()</span> <span class="p">);</span>

    <a class="reference internal" href="group_imgproc_hist.html#doxid-d6-dc7-group-imgproc-hist-1ga4b2b5fd75503ff9e6844cc4dcdaed35d"><span class="std std-ref">calcHist</span></a><span></span><span class="p">(</span> <span class="o">&amp;</span><span class="n">hsv_test2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">channels</span><span class="p">,</span> <a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span><span class="p">(),</span> <span class="n">hist_test2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">histSize</span><span class="p">,</span> <span class="n">ranges</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">false</span> <span class="p">);</span>
    <a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga1b6a396a456c8b6c6e4afd8591560d80"><span class="std std-ref">normalize</span></a><span></span><span class="p">(</span> <span class="n">hist_test2</span><span class="p">,</span> <span class="n">hist_test2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <a class="reference internal" href="enum_cv_NormTypes.html#doxid-d2-de8-group-core-array-1ggad12cefbcb5291cf958a85b4b67b6149fa9f0c1c342a18114d47b516a88e29822e"><span class="std std-ref">NORM_MINMAX</span></a><span></span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <a class="reference internal" href="class_cv_Mat.html#doxid-db-de6-classcv-1-1-mat"><span class="std std-ref">Mat</span></a><span></span><span class="p">()</span> <span class="p">);</span>

    <span class="k">for</span><span class="p">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">compare_method</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
        <span class="kt">double</span> <span class="n">base_base</span> <span class="o">=</span> <a class="reference internal" href="group_imgproc_hist.html#doxid-d6-dc7-group-imgproc-hist-1gaf4190090efa5c47cb367cf97a9a519bd"><span class="std std-ref">compareHist</span></a><span></span><span class="p">(</span> <span class="n">hist_base</span><span class="p">,</span> <span class="n">hist_base</span><span class="p">,</span> <span class="n">compare_method</span> <span class="p">);</span>
        <span class="kt">double</span> <span class="n">base_half</span> <span class="o">=</span> <a class="reference internal" href="group_imgproc_hist.html#doxid-d6-dc7-group-imgproc-hist-1gaf4190090efa5c47cb367cf97a9a519bd"><span class="std std-ref">compareHist</span></a><span></span><span class="p">(</span> <span class="n">hist_base</span><span class="p">,</span> <span class="n">hist_half_down</span><span class="p">,</span> <span class="n">compare_method</span> <span class="p">);</span>
        <span class="kt">double</span> <span class="n">base_test1</span> <span class="o">=</span> <a class="reference internal" href="group_imgproc_hist.html#doxid-d6-dc7-group-imgproc-hist-1gaf4190090efa5c47cb367cf97a9a519bd"><span class="std std-ref">compareHist</span></a><span></span><span class="p">(</span> <span class="n">hist_base</span><span class="p">,</span> <span class="n">hist_test1</span><span class="p">,</span> <span class="n">compare_method</span> <span class="p">);</span>
        <span class="kt">double</span> <span class="n">base_test2</span> <span class="o">=</span> <a class="reference internal" href="group_imgproc_hist.html#doxid-d6-dc7-group-imgproc-hist-1gaf4190090efa5c47cb367cf97a9a519bd"><span class="std std-ref">compareHist</span></a><span></span><span class="p">(</span> <span class="n">hist_base</span><span class="p">,</span> <span class="n">hist_test2</span><span class="p">,</span> <span class="n">compare_method</span> <span class="p">);</span>

        <span class="n">printf</span><span class="p">(</span> <span class="s">&quot; Method [%d] Perfect, Base-Half, Base-Test(1), Base-Test(2) : %f, %f, %f, %f </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">base_base</span><span class="p">,</span> <span class="n">base_half</span> <span class="p">,</span> <span class="n">base_test1</span><span class="p">,</span> <span class="n">base_test2</span> <span class="p">);</span>
    <span class="p">}</span>

    <span class="n">printf</span><span class="p">(</span> <span class="s">&quot;Done </span><span class="se">\n</span><span class="s">&quot;</span> <span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre>
<p class="rubric">Explanation</p>
<ol class="arabic">
<li><p class="first">Declare variables such as the matrices to store the base image and the two other images to compare ( BGR and HSV )</p>
<pre class="highlight literal-block">
<span></span><span class="n">Mat</span> <span class="n">src_base</span><span class="p">,</span> <span class="n">hsv_base</span><span class="p">;</span>
<span class="n">Mat</span> <span class="n">src_test1</span><span class="p">,</span> <span class="n">hsv_test1</span><span class="p">;</span>
<span class="n">Mat</span> <span class="n">src_test2</span><span class="p">,</span> <span class="n">hsv_test2</span><span class="p">;</span>
<span class="n">Mat</span> <span class="n">hsv_half_down</span><span class="p">;</span>
</pre>
</li>
<li><p class="first">Load the base image (src_base) and the other two test images:</p>
<pre class="highlight literal-block">
<span></span><span class="k">if</span><span class="p">(</span> <span class="n">argc</span> <span class="o">&lt;</span> <span class="mi">4</span> <span class="p">)</span>
  <span class="p">{</span> <span class="n">printf</span><span class="p">(</span><span class="s">&quot;** Error. Usage: ./compareHist_Demo &lt;image_settings0&gt; &lt;image_setting1&gt; &lt;image_settings2&gt;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>

<span class="n">src_base</span> <span class="o">=</span> <a class="reference internal" href="group_imgcodecs.html#doxid-d4-da8-group-imgcodecs-1ga288b8b3da0892bd651fce07b3bbd3a56"><span class="std std-ref">imread</span></a><span></span><span class="p">(</span> <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span> <span class="p">);</span>
<span class="n">src_test1</span> <span class="o">=</span> <a class="reference internal" href="group_imgcodecs.html#doxid-d4-da8-group-imgcodecs-1ga288b8b3da0892bd651fce07b3bbd3a56"><span class="std std-ref">imread</span></a><span></span><span class="p">(</span> <span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">1</span> <span class="p">);</span>
<span class="n">src_test2</span> <span class="o">=</span> <a class="reference internal" href="group_imgcodecs.html#doxid-d4-da8-group-imgcodecs-1ga288b8b3da0892bd651fce07b3bbd3a56"><span class="std std-ref">imread</span></a><span></span><span class="p">(</span> <span class="n">argv</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="mi">1</span> <span class="p">);</span>
</pre>
</li>
<li><p class="first">Convert them to HSV format:</p>
<pre class="highlight literal-block">
<a class="reference internal" href="group_imgproc_misc.html#doxid-d7-d1b-group-imgproc-misc-1ga397ae87e1288a81d2363b61574eb8cab"><span class="std std-ref">cvtColor</span></a><span></span><span class="p">(</span> <span class="n">src_base</span><span class="p">,</span> <span class="n">hsv_base</span><span class="p">,</span> <a class="reference internal" href="enum_cv_ColorConversionCodes.html#doxid-d7-d1b-group-imgproc-misc-1gga4e0972be5de079fed4e3a10e24ef5ef0aa4a7f0ecf2e94150699e48c79139ee12"><span class="std std-ref">COLOR_BGR2HSV</span></a><span></span> <span class="p">);</span>
<a class="reference internal" href="group_imgproc_misc.html#doxid-d7-d1b-group-imgproc-misc-1ga397ae87e1288a81d2363b61574eb8cab"><span class="std std-ref">cvtColor</span></a><span></span><span class="p">(</span> <span class="n">src_test1</span><span class="p">,</span> <span class="n">hsv_test1</span><span class="p">,</span> <a class="reference internal" href="enum_cv_ColorConversionCodes.html#doxid-d7-d1b-group-imgproc-misc-1gga4e0972be5de079fed4e3a10e24ef5ef0aa4a7f0ecf2e94150699e48c79139ee12"><span class="std std-ref">COLOR_BGR2HSV</span></a><span></span> <span class="p">);</span>
<a class="reference internal" href="group_imgproc_misc.html#doxid-d7-d1b-group-imgproc-misc-1ga397ae87e1288a81d2363b61574eb8cab"><span class="std std-ref">cvtColor</span></a><span></span><span class="p">(</span> <span class="n">src_test2</span><span class="p">,</span> <span class="n">hsv_test2</span><span class="p">,</span> <a class="reference internal" href="enum_cv_ColorConversionCodes.html#doxid-d7-d1b-group-imgproc-misc-1gga4e0972be5de079fed4e3a10e24ef5ef0aa4a7f0ecf2e94150699e48c79139ee12"><span class="std std-ref">COLOR_BGR2HSV</span></a><span></span> <span class="p">);</span>
</pre>
</li>
<li><p class="first">Also, create an image of half the base image (in HSV format):</p>
<pre class="highlight literal-block">
<span></span><span class="n">hsv_half_down</span> <span class="o">=</span> <span class="n">hsv_base</span><span class="p">(</span> <span class="n">Range</span><span class="p">(</span> <span class="n">hsv_base</span><span class="p">.</span><span class="n">rows</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">hsv_base</span><span class="p">.</span><span class="n">rows</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">),</span> <span class="n">Range</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="n">hsv_base</span><span class="p">.</span><span class="n">cols</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">);</span>
</pre>
</li>
<li><p class="first">Initialize the arguments to calculate the histograms (bins, ranges and channels H and S ).</p>
<pre class="highlight literal-block">
<span></span><span class="kt">int</span> <span class="n">h_bins</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span> <span class="kt">int</span> <span class="n">s_bins</span> <span class="o">=</span> <span class="mi">60</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">histSize</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="n">h_bins</span><span class="p">,</span> <span class="n">s_bins</span> <span class="p">};</span>

<span class="kt">float</span> <span class="n">h_ranges</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">180</span> <span class="p">};</span>
<span class="kt">float</span> <span class="n">s_ranges</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">256</span> <span class="p">};</span>

<span class="k">const</span> <span class="kt">float</span><span class="o">*</span> <span class="n">ranges</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="n">h_ranges</span><span class="p">,</span> <span class="n">s_ranges</span> <span class="p">};</span>

<span class="kt">int</span> <span class="n">channels</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="p">};</span>
</pre>
</li>
<li><p class="first">Create the MatND objects to store the histograms:</p>
<pre class="highlight literal-block">
<span></span><span class="n">MatND</span> <span class="n">hist_base</span><span class="p">;</span>
<span class="n">MatND</span> <span class="n">hist_half_down</span><span class="p">;</span>
<span class="n">MatND</span> <span class="n">hist_test1</span><span class="p">;</span>
<span class="n">MatND</span> <span class="n">hist_test2</span><span class="p">;</span>
</pre>
</li>
<li><p class="first">Calculate the Histograms for the base image, the 2 test images and the half-down base image:</p>
<pre class="highlight literal-block">
<a class="reference internal" href="group_imgproc_hist.html#doxid-d6-dc7-group-imgproc-hist-1ga4b2b5fd75503ff9e6844cc4dcdaed35d"><span class="std std-ref">calcHist</span></a><span></span><span class="p">(</span> <span class="o">&amp;</span><span class="n">hsv_base</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">channels</span><span class="p">,</span> <span class="n">Mat</span><span class="p">(),</span> <span class="n">hist_base</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">histSize</span><span class="p">,</span> <span class="n">ranges</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">false</span> <span class="p">);</span>
<a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga1b6a396a456c8b6c6e4afd8591560d80"><span class="std std-ref">normalize</span></a><span></span><span class="p">(</span> <span class="n">hist_base</span><span class="p">,</span> <span class="n">hist_base</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <a class="reference internal" href="enum_cv_NormTypes.html#doxid-d2-de8-group-core-array-1ggad12cefbcb5291cf958a85b4b67b6149fa9f0c1c342a18114d47b516a88e29822e"><span class="std std-ref">NORM_MINMAX</span></a><span></span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">Mat</span><span class="p">()</span> <span class="p">);</span>

<a class="reference internal" href="group_imgproc_hist.html#doxid-d6-dc7-group-imgproc-hist-1ga4b2b5fd75503ff9e6844cc4dcdaed35d"><span class="std std-ref">calcHist</span></a><span></span><span class="p">(</span> <span class="o">&amp;</span><span class="n">hsv_half_down</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">channels</span><span class="p">,</span> <span class="n">Mat</span><span class="p">(),</span> <span class="n">hist_half_down</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">histSize</span><span class="p">,</span> <span class="n">ranges</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">false</span> <span class="p">);</span>
<a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga1b6a396a456c8b6c6e4afd8591560d80"><span class="std std-ref">normalize</span></a><span></span><span class="p">(</span> <span class="n">hist_half_down</span><span class="p">,</span> <span class="n">hist_half_down</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <a class="reference internal" href="enum_cv_NormTypes.html#doxid-d2-de8-group-core-array-1ggad12cefbcb5291cf958a85b4b67b6149fa9f0c1c342a18114d47b516a88e29822e"><span class="std std-ref">NORM_MINMAX</span></a><span></span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">Mat</span><span class="p">()</span> <span class="p">);</span>

<a class="reference internal" href="group_imgproc_hist.html#doxid-d6-dc7-group-imgproc-hist-1ga4b2b5fd75503ff9e6844cc4dcdaed35d"><span class="std std-ref">calcHist</span></a><span></span><span class="p">(</span> <span class="o">&amp;</span><span class="n">hsv_test1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">channels</span><span class="p">,</span> <span class="n">Mat</span><span class="p">(),</span> <span class="n">hist_test1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">histSize</span><span class="p">,</span> <span class="n">ranges</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">false</span> <span class="p">);</span>
<a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga1b6a396a456c8b6c6e4afd8591560d80"><span class="std std-ref">normalize</span></a><span></span><span class="p">(</span> <span class="n">hist_test1</span><span class="p">,</span> <span class="n">hist_test1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <a class="reference internal" href="enum_cv_NormTypes.html#doxid-d2-de8-group-core-array-1ggad12cefbcb5291cf958a85b4b67b6149fa9f0c1c342a18114d47b516a88e29822e"><span class="std std-ref">NORM_MINMAX</span></a><span></span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">Mat</span><span class="p">()</span> <span class="p">);</span>

<a class="reference internal" href="group_imgproc_hist.html#doxid-d6-dc7-group-imgproc-hist-1ga4b2b5fd75503ff9e6844cc4dcdaed35d"><span class="std std-ref">calcHist</span></a><span></span><span class="p">(</span> <span class="o">&amp;</span><span class="n">hsv_test2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">channels</span><span class="p">,</span> <span class="n">Mat</span><span class="p">(),</span> <span class="n">hist_test2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">histSize</span><span class="p">,</span> <span class="n">ranges</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">false</span> <span class="p">);</span>
<a class="reference internal" href="namespace_cv.html#doxid-dc-d84-group-core-basic-1ga1b6a396a456c8b6c6e4afd8591560d80"><span class="std std-ref">normalize</span></a><span></span><span class="p">(</span> <span class="n">hist_test2</span><span class="p">,</span> <span class="n">hist_test2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <a class="reference internal" href="enum_cv_NormTypes.html#doxid-d2-de8-group-core-array-1ggad12cefbcb5291cf958a85b4b67b6149fa9f0c1c342a18114d47b516a88e29822e"><span class="std std-ref">NORM_MINMAX</span></a><span></span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">Mat</span><span class="p">()</span> <span class="p">);</span>
</pre>
</li>
<li><p class="first">Apply sequentially the 4 comparison methods between the histogram of the base image (hist_base) and the other histograms:</p>
<pre class="highlight literal-block">
<span></span><span class="k">for</span><span class="p">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">)</span>
   <span class="p">{</span> <span class="kt">int</span> <span class="n">compare_method</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
     <span class="kt">double</span> <span class="n">base_base</span> <span class="o">=</span> <a class="reference internal" href="group_imgproc_hist.html#doxid-d6-dc7-group-imgproc-hist-1gaf4190090efa5c47cb367cf97a9a519bd"><span class="std std-ref">compareHist</span></a><span></span><span class="p">(</span> <span class="n">hist_base</span><span class="p">,</span> <span class="n">hist_base</span><span class="p">,</span> <span class="n">compare_method</span> <span class="p">);</span>
     <span class="kt">double</span> <span class="n">base_half</span> <span class="o">=</span> <a class="reference internal" href="group_imgproc_hist.html#doxid-d6-dc7-group-imgproc-hist-1gaf4190090efa5c47cb367cf97a9a519bd"><span class="std std-ref">compareHist</span></a><span></span><span class="p">(</span> <span class="n">hist_base</span><span class="p">,</span> <span class="n">hist_half_down</span><span class="p">,</span> <span class="n">compare_method</span> <span class="p">);</span>
     <span class="kt">double</span> <span class="n">base_test1</span> <span class="o">=</span> <a class="reference internal" href="group_imgproc_hist.html#doxid-d6-dc7-group-imgproc-hist-1gaf4190090efa5c47cb367cf97a9a519bd"><span class="std std-ref">compareHist</span></a><span></span><span class="p">(</span> <span class="n">hist_base</span><span class="p">,</span> <span class="n">hist_test1</span><span class="p">,</span> <span class="n">compare_method</span> <span class="p">);</span>
     <span class="kt">double</span> <span class="n">base_test2</span> <span class="o">=</span> <a class="reference internal" href="group_imgproc_hist.html#doxid-d6-dc7-group-imgproc-hist-1gaf4190090efa5c47cb367cf97a9a519bd"><span class="std std-ref">compareHist</span></a><span></span><span class="p">(</span> <span class="n">hist_base</span><span class="p">,</span> <span class="n">hist_test2</span><span class="p">,</span> <span class="n">compare_method</span> <span class="p">);</span>

    <span class="n">printf</span><span class="p">(</span> <span class="s">&quot; Method [%d] Perfect, Base-Half, Base-Test(1), Base-Test(2) : %f, %f, %f, %f </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">base_base</span><span class="p">,</span> <span class="n">base_half</span> <span class="p">,</span> <span class="n">base_test1</span><span class="p">,</span> <span class="n">base_test2</span> <span class="p">);</span>
  <span class="p">}</span>
</pre>
</li>
</ol>
<p class="rubric">Results</p>
<ol class="arabic">
<li><p class="first">We use as input the following images:</p>
<img alt="Base_0" src="_images/Histogram_Comparison_Source_0.jpg" />
<img alt="Test_1" src="_images/Histogram_Comparison_Source_1.jpg" />
<img alt="Test_2" src="_images/Histogram_Comparison_Source_2.jpg" />
<p>where the first one is the base (to be compared to the others), the other 2 are the test images. We will also compare the first image with respect to itself and with respect of half the base image.</p>
</li>
<li><p class="first">We should expect a perfect match when we compare the base image histogram with itself. Also, compared with the histogram of half the base image, it should present a high match since both are from the same source. For the other two test images, we can observe that they have very different lighting conditions, so the matching should not be very good:</p>
</li>
<li><p class="first">Here the numeric results: ===============  ===========  ===========  =============  =============
<em>Method</em>         Base - Base  Base - Half  Base - Test 1  Base - Test 2
===============  ===========  ===========  =============  =============</p>
<p><em>Correlation</em>    1.000000     0.930766     0.182073       0.120447
<em>Chi-square</em>     0.000000     4.940466     21.184536      49.273437
<em>Intersection</em>   24.391548    14.959809    3.889029       5.775088
<em>Bhattacharyya</em>  0.000000     0.222609     0.646576       0.801869
===============  ===========  ===========  =============  =============</p>
<p>For the <em>Correlation</em> and <em>Intersection</em> methods, the higher the metric, the more accurate the match. As we can see, the match <em>base-base</em> is the highest of all as expected. Also we can observe that the match <em>base-half</em> is the second best match (as we predicted). For the other two metrics, the less the result, the better the match. We can observe that the matches between the test 1 and test 2 with respect to the base are worse, which again, was expected.</p>
</li>
</ol>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="page_tutorial_histogram_equalization.html" title="Histogram Equalization"
             >next</a> |</li>
        <li class="right" >
          <a href="page_tutorial_histogram_calculation.html" title="Histogram Calculation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">OpenCV Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="page_tutorial_root.html" >OpenCV Tutorials</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="page_tutorial_table_of_content_imgproc.html" >Image Processing (imgproc module)</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 1999-2017, OpenCV Maintainers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>