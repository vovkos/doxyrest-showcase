
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Trackbar as the Color Palette &#8212; OpenCV Documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-sphinxdoc.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/target-highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Image Processing in OpenCV" href="page_tutorial_py_table_of_contents_imgproc.html" />
    <link rel="prev" title="Mouse as a Paint-Brush" href="page_tutorial_py_mouse_handling.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="page_tutorial_py_table_of_contents_imgproc.html" title="Image Processing in OpenCV"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="page_tutorial_py_mouse_handling.html" title="Mouse as a Paint-Brush"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">OpenCV Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="page_tutorial_py_root.html" >OpenCV-Python Tutorials</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="page_tutorial_py_table_of_contents_gui.html" accesskey="U">Gui Features in OpenCV</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="page_tutorial_py_mouse_handling.html"
                        title="previous chapter">Mouse as a Paint-Brush</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="page_tutorial_py_table_of_contents_imgproc.html"
                        title="next chapter">Image Processing in OpenCV</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="trackbar-as-the-color-palette">
<span id="doxid-d9-dc8-tutorial-py-trackbar"></span><span id="index-0"></span><h1>Trackbar as the Color Palette</h1>
<p class="rubric">Goal</p>
<ul class="simple">
<li>Learn to bind trackbar to OpenCV windows</li>
<li>You will learn these functions : <a class="reference internal" href="group_highgui.html#doxid-d7-dfc-group-highgui-1ga122632e9e91b9ec06943472c55d9cda8"><span class="std std-ref">cv2.getTrackbarPos()</span></a>, <a class="reference internal" href="group_highgui.html#doxid-d7-dfc-group-highgui-1gaf78d2155d30b728fc413803745b67a9b"><span class="std std-ref">cv2.createTrackbar()</span></a> etc.</li>
</ul>
<p class="rubric">Code Demo</p>
<p>Here we will create a simple application which shows the color you specify. You have a window which shows the color and three trackbars to specify each of B,G,R colors. You slide the trackbar and correspondingly window color changes. By default, initial color will be set to Black.</p>
<p>For <a class="reference internal" href="group_highgui.html#doxid-d7-dfc-group-highgui-1ga122632e9e91b9ec06943472c55d9cda8"><span class="std std-ref">cv2.getTrackbarPos()</span></a> function, first argument is the trackbar name, second one is the window name to which it is attached, third argument is the default value, fourth one is the maximum value and fifth one is the callback function which is executed everytime trackbar value changes. The callback function always has a default argument which is the trackbar position. In our case, function does nothing, so we simply pass.</p>
<p>Another important application of trackbar is to use it as a button or switch. OpenCV, by default, doesnâ€™t have button functionality. So you can use trackbar to get such functionality. In our application, we have created one switch in which application works only if switch is ON, otherwise screen is always black.</p>
<pre class="highlight literal-block">
<span></span><span class="n">import</span> <span class="n">cv2</span>
<span class="n">import</span> <span class="n">numpy</span> <span class="n">as</span> <span class="n">np</span>

<span class="n">def</span> <span class="n">nothing</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">:</span>
    <span class="n">pass</span>

<span class="cp"># Create a black image, a window</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">300</span><span class="p">,</span><span class="mi">512</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">np</span><span class="p">.</span><span class="n">uint8</span><span class="p">)</span>
<span class="n">cv2</span><span class="p">.</span><span class="n">namedWindow</span><span class="p">(</span><span class="sc">&#39;image&#39;</span><span class="p">)</span>

<span class="cp"># create trackbars for color change</span>
<span class="n">cv2</span><span class="p">.</span><span class="n">createTrackbar</span><span class="p">(</span><span class="sc">&#39;R&#39;</span><span class="p">,</span><span class="sc">&#39;image&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="n">nothing</span><span class="p">)</span><span class="n">cv2</span><span class="p">.</span><span class="n">createTrackbar</span><span class="p">(</span><span class="sc">&#39;G&#39;</span><span class="p">,</span><span class="sc">&#39;image&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="n">nothing</span><span class="p">)</span>
<span class="n">cv2</span><span class="p">.</span><span class="n">createTrackbar</span><span class="p">(</span><span class="sc">&#39;B&#39;</span><span class="p">,</span><span class="sc">&#39;image&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="n">nothing</span><span class="p">)</span>

<span class="cp"># create switch for ON/OFF functionality</span>
<span class="k">switch</span> <span class="o">=</span> <span class="sc">&#39;0 : OFF </span><span class="se">\n</span><span class="sc">1 : ON&#39;</span>
<span class="n">cv2</span><span class="p">.</span><span class="n">createTrackbar</span><span class="p">(</span><span class="k">switch</span><span class="p">,</span> <span class="sc">&#39;image&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">nothing</span><span class="p">)</span>

<span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">:</span>
    <span class="n">cv2</span><span class="p">.</span><span class="n">imshow</span><span class="p">(</span><span class="sc">&#39;image&#39;</span><span class="p">,</span><span class="n">img</span><span class="p">)</span>
    <span class="n">k</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span>
    <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="mi">27</span><span class="o">:</span>
        <span class="k">break</span>

    <span class="cp"># get current positions of four trackbars</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">getTrackbarPos</span><span class="p">(</span><span class="sc">&#39;R&#39;</span><span class="p">,</span><span class="sc">&#39;image&#39;</span><span class="p">)</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">getTrackbarPos</span><span class="p">(</span><span class="sc">&#39;G&#39;</span><span class="p">,</span><span class="sc">&#39;image&#39;</span><span class="p">)</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">getTrackbarPos</span><span class="p">(</span><span class="sc">&#39;B&#39;</span><span class="p">,</span><span class="sc">&#39;image&#39;</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">cv2</span><span class="p">.</span><span class="n">getTrackbarPos</span><span class="p">(</span><span class="k">switch</span><span class="p">,</span><span class="sc">&#39;image&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="mi">0</span><span class="o">:</span>
        <span class="n">img</span><span class="p">[</span><span class="o">:</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">else</span><span class="o">:</span>
        <span class="n">img</span><span class="p">[</span><span class="o">:</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">b</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">r</span><span class="p">]</span>

<span class="n">cv2</span><span class="p">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>
</pre>
<p>The screenshot of the application looks like below :</p>
<img alt="image" src="_images/trackbar_screenshot.jpg" />
<p class="rubric">Exercises</p>
<ol class="arabic simple">
<li>Create a Paint application with adjustable colors and brush radius using trackbars. For drawing, refer previous tutorial on mouse handling.</li>
</ol>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="page_tutorial_py_table_of_contents_imgproc.html" title="Image Processing in OpenCV"
             >next</a> |</li>
        <li class="right" >
          <a href="page_tutorial_py_mouse_handling.html" title="Mouse as a Paint-Brush"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">OpenCV Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="page_tutorial_py_root.html" >OpenCV-Python Tutorials</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="page_tutorial_py_table_of_contents_gui.html" >Gui Features in OpenCV</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 1999-2017, OpenCV Maintainers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>