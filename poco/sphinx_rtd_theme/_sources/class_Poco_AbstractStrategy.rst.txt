.. index:: pair: class; Poco::AbstractStrategy
.. _doxid-class_poco_1_1_abstract_strategy:

template class Poco::AbstractStrategy
=====================================

.. toctree::
	:hidden:

Overview
~~~~~~~~

An :ref:`AbstractStrategy <doxid-class_poco_1_1_abstract_strategy>` is the interface for all strategies. :ref:`More...<details-class_poco_1_1_abstract_strategy>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <AbstractStrategy.h>
	
	template <
		class TKey,
		class TValue
		>
	class AbstractStrategy
	{
	public:
		// methods
	
		virtual
		void
		:ref:`onUpdate<doxid-class_poco_1_1_abstract_strategy_1ae6d1f28a5590ebd288eb644747b016a7>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* pSender,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`KeyValueArgs<doxid-class_poco_1_1_key_value_args>`<TKey, TValue>& args
			);
	
		virtual
		void
		:ref:`onAdd<doxid-class_poco_1_1_abstract_strategy_1a40bb84cd0085c3ff59064cd3d13a21dd>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* pSender,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`KeyValueArgs<doxid-class_poco_1_1_key_value_args>`<TKey, TValue>& key
			) = 0;
	
		virtual
		void
		:ref:`onRemove<doxid-class_poco_1_1_abstract_strategy_1a3c74a0e9b7469f4246ee083252d995ac>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* pSender,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` TKey& key
			) = 0;
	
		virtual
		void
		:ref:`onGet<doxid-class_poco_1_1_abstract_strategy_1a802663d39fa378d09ca76b37daccf8e9>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* pSender,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` TKey& key
			) = 0;
	
		virtual
		void
		:ref:`onClear<doxid-class_poco_1_1_abstract_strategy_1a84d1033a199ef6eea12207f7a40bca72>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* pSender,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`EventArgs<doxid-class_poco_1_1_event_args>`& args
			) = 0;
	
		virtual
		void
		:ref:`onIsValid<doxid-class_poco_1_1_abstract_strategy_1ade01399ff91ed48ca9ab2656c184dc7e>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* pSender,
			:ref:`ValidArgs<doxid-class_poco_1_1_valid_args>`<TKey>& key
			) = 0;
	
		virtual
		void
		:ref:`onReplace<doxid-class_poco_1_1_abstract_strategy_1a344d2caa3f8b5ea1507a5a26c49f7eae>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* pSender,
			std::set<TKey>& elemsToRemove
			) = 0;
	};

	// direct descendants

	template <
		class TKey,
		class TValue
		>
	class :ref:`ExpireStrategy<doxid-class_poco_1_1_expire_strategy>`;

	template <
		class TKey,
		class TValue
		>
	class :ref:`LRUStrategy<doxid-class_poco_1_1_l_r_u_strategy>`;

	template <
		class TKey,
		class TValue
		>
	class :ref:`StrategyCollection<doxid-class_poco_1_1_strategy_collection>`;

	template <
		class TKey,
		class TValue
		>
	class :ref:`UniqueAccessExpireStrategy<doxid-class_poco_1_1_unique_access_expire_strategy>`;

	template <
		class TKey,
		class TValue
		>
	class :ref:`UniqueExpireStrategy<doxid-class_poco_1_1_unique_expire_strategy>`;
.. _details-class_poco_1_1_abstract_strategy:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

An :ref:`AbstractStrategy <doxid-class_poco_1_1_abstract_strategy>` is the interface for all strategies.

Methods
-------

.. index:: pair: function; onUpdate
.. _doxid-class_poco_1_1_abstract_strategy_1ae6d1f28a5590ebd288eb644747b016a7:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	onUpdate(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* pSender,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`KeyValueArgs<doxid-class_poco_1_1_key_value_args>`<TKey, TValue>& args
		)

Updates an existing entry.

.. index:: pair: function; onAdd
.. _doxid-class_poco_1_1_abstract_strategy_1a40bb84cd0085c3ff59064cd3d13a21dd:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	onAdd(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* pSender,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`KeyValueArgs<doxid-class_poco_1_1_key_value_args>`<TKey, TValue>& key
		) = 0

Adds the key to the strategy.

If for the key already an entry exists, an exception will be thrown.

.. index:: pair: function; onRemove
.. _doxid-class_poco_1_1_abstract_strategy_1a3c74a0e9b7469f4246ee083252d995ac:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	onRemove(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* pSender,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` TKey& key
		) = 0

Removes an entry from the strategy.

If the entry is not found the remove is ignored.

.. index:: pair: function; onGet
.. _doxid-class_poco_1_1_abstract_strategy_1a802663d39fa378d09ca76b37daccf8e9:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	onGet(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* pSender,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` TKey& key
		) = 0

Informs the strategy that a read-access happens to an element.

.. index:: pair: function; onClear
.. _doxid-class_poco_1_1_abstract_strategy_1a84d1033a199ef6eea12207f7a40bca72:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	onClear(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* pSender,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`EventArgs<doxid-class_poco_1_1_event_args>`& args
		) = 0

Removes all elements from the cache.

.. index:: pair: function; onIsValid
.. _doxid-class_poco_1_1_abstract_strategy_1ade01399ff91ed48ca9ab2656c184dc7e:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	onIsValid(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* pSender,
		:ref:`ValidArgs<doxid-class_poco_1_1_valid_args>`<TKey>& key
		) = 0

Used to query if a key is still valid (i.e. cached).

.. index:: pair: function; onReplace
.. _doxid-class_poco_1_1_abstract_strategy_1a344d2caa3f8b5ea1507a5a26c49f7eae:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	onReplace(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* pSender,
		std::set<TKey>& elemsToRemove
		) = 0

Used by the Strategy to indicate which elements should be removed from the cache.

Note that onReplace does not change the current list of keys. The cache object is reponsible to remove the elements.

