.. index:: pair: class; Poco::ActiveResult
.. _doxid-class_poco_1_1_active_result:

template class Poco::ActiveResult
=================================

.. toctree::
	:hidden:

Overview
~~~~~~~~

This class holds the result of an asynchronous method invocation (see class :ref:`ActiveMethod <doxid-class_poco_1_1_active_method>`). :ref:`More...<details-class_poco_1_1_active_result>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <ActiveResult.h>
	
	template <class RT>
	class ActiveResult
	{
	public:
		// typedefs
	
		typedef RT :target:`ResultType<doxid-class_poco_1_1_active_result_1a71cd1de25d937ceb39ab5c40626b0b5c>`;
		typedef :ref:`ActiveResultHolder<doxid-class_poco_1_1_active_result_holder>`<:ref:`ResultType<doxid-class_poco_1_1_active_result_1a71cd1de25d937ceb39ab5c40626b0b5c>`> :target:`ActiveResultHolderType<doxid-class_poco_1_1_active_result_1a9817e8605ac2affcf3ba1c6c5c7c4432>`;

		// construction
	
		:target:`ActiveResult<doxid-class_poco_1_1_active_result_1aa7d6bd719fb5e373a0f39a1097ab063a>`(:ref:`ActiveResultHolderType<doxid-class_poco_1_1_active_result_1a9817e8605ac2affcf3ba1c6c5c7c4432>`* pHolder);
		:ref:`ActiveResult<doxid-class_poco_1_1_active_result_1afff568e600504616f33d074aa07fca74>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` ActiveResult& result);

		// methods
	
		ActiveResult&
		:ref:`operator=<doxid-class_poco_1_1_active_result_1afb6331f1d3352d9c404ed0679c87f496>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` ActiveResult& result);
	
		void
		:target:`swap<doxid-class_poco_1_1_active_result_1a39f4bc8b46f9fab9758005f3f729a745>`(ActiveResult& result);
	
		:ref:`ResultType<doxid-class_poco_1_1_active_result_1a71cd1de25d937ceb39ab5c40626b0b5c>`&
		:ref:`data<doxid-class_poco_1_1_active_result_1a48851acb14af139647ae98fc4a722467>`() const;
	
		void
		:target:`data<doxid-class_poco_1_1_active_result_1a18a7879ee367730fcb33528dfba474f7>`(:ref:`ResultType<doxid-class_poco_1_1_active_result_1a71cd1de25d937ceb39ab5c40626b0b5c>`* pValue);
	
		void
		:ref:`wait<doxid-class_poco_1_1_active_result_1aa2be387f0a7ea3e9f91ad844101872f6>`();
	
		bool
		:ref:`tryWait<doxid-class_poco_1_1_active_result_1a0605a9f1b3fe54b9d1a08219f1270ac5>`(long milliseconds);
	
		void
		:ref:`wait<doxid-class_poco_1_1_active_result_1a643d3e76a1a19756c190ec334cfa4250>`(long milliseconds);
	
		bool
		:ref:`available<doxid-class_poco_1_1_active_result_1a0d7a09114160081d2a8d0a52ab728d44>`() const;
	
		bool
		:ref:`failed<doxid-class_poco_1_1_active_result_1aa277964cb540f849a0df1327410570a4>`() const;
	
		std::string
		:ref:`error<doxid-class_poco_1_1_active_result_1afadfa6f4f8b37c633990bef692c00949>`() const;
	
		:ref:`Exception<doxid-class_poco_1_1_exception>`*
		:ref:`exception<doxid-class_poco_1_1_active_result_1ae737c1f512de266f60b06ecd59d78e30>`() const;
	
		void
		:ref:`notify<doxid-class_poco_1_1_active_result_1a7fd66c3d5914d989c6323626cf22bfcb>`();
	
		:ref:`ResultType<doxid-class_poco_1_1_active_result_1a71cd1de25d937ceb39ab5c40626b0b5c>`&
		:ref:`data<doxid-class_poco_1_1_active_result_1a67890634ac687db022ee6b8d88433875>`();
	
		void
		:ref:`error<doxid-class_poco_1_1_active_result_1ad696328c89ccb03f58f4eeebb0c222c1>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& msg);
	
		void
		:ref:`error<doxid-class_poco_1_1_active_result_1a6d72c3db80e4e4714505f95807162d23>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Exception<doxid-class_poco_1_1_exception>`& exc);
	};
.. _details-class_poco_1_1_active_result:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

This class holds the result of an asynchronous method invocation (see class :ref:`ActiveMethod <doxid-class_poco_1_1_active_method>`).

It is used to pass the result from the execution thread back to the invocation thread.

Construction
------------

.. index:: pair: function; ActiveResult
.. _doxid-class_poco_1_1_active_result_1afff568e600504616f33d074aa07fca74:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	ActiveResult(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` ActiveResult& result)

Copy constructor.

Methods
-------

.. index:: pair: function; operator=
.. _doxid-class_poco_1_1_active_result_1afb6331f1d3352d9c404ed0679c87f496:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	ActiveResult&
	operator=(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` ActiveResult& result)

Assignment operator.

.. index:: pair: function; data
.. _doxid-class_poco_1_1_active_result_1a48851acb14af139647ae98fc4a722467:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`ResultType<doxid-class_poco_1_1_active_result_1a71cd1de25d937ceb39ab5c40626b0b5c>`&
	data() const

Returns a reference to the result data.

.. index:: pair: function; wait
.. _doxid-class_poco_1_1_active_result_1aa2be387f0a7ea3e9f91ad844101872f6:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	wait()

Pauses the caller until the result becomes available.

.. index:: pair: function; tryWait
.. _doxid-class_poco_1_1_active_result_1a0605a9f1b3fe54b9d1a08219f1270ac5:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	tryWait(long milliseconds)

Waits up to the specified interval for the result to become available.

Returns true if the result became available, false otherwise.

.. index:: pair: function; wait
.. _doxid-class_poco_1_1_active_result_1a643d3e76a1a19756c190ec334cfa4250:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	wait(long milliseconds)

Waits up to the specified interval for the result to become available.

Throws a TimeoutException if the result did not became available.

.. index:: pair: function; available
.. _doxid-class_poco_1_1_active_result_1a0d7a09114160081d2a8d0a52ab728d44:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	available() const

Returns true if a result is available.

.. index:: pair: function; failed
.. _doxid-class_poco_1_1_active_result_1aa277964cb540f849a0df1327410570a4:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	failed() const

Returns true if the active method failed (and threw an exception).

Information about the exception can be obtained by calling :ref:`error() <doxid-class_poco_1_1_active_result_1afadfa6f4f8b37c633990bef692c00949>`.

.. index:: pair: function; error
.. _doxid-class_poco_1_1_active_result_1afadfa6f4f8b37c633990bef692c00949:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	std::string
	error() const

If the active method threw an exception, a textual representation of the exception is returned.

An empty string is returned if the active method completed successfully.

.. index:: pair: function; exception
.. _doxid-class_poco_1_1_active_result_1ae737c1f512de266f60b06ecd59d78e30:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`Exception<doxid-class_poco_1_1_exception>`*
	exception() const

If the active method threw an exception, a clone of the exception object is returned, otherwise null.

.. index:: pair: function; notify
.. _doxid-class_poco_1_1_active_result_1a7fd66c3d5914d989c6323626cf22bfcb:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	notify()

Notifies the invoking thread that the result became available.

For internal use only.

.. index:: pair: function; data
.. _doxid-class_poco_1_1_active_result_1a67890634ac687db022ee6b8d88433875:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`ResultType<doxid-class_poco_1_1_active_result_1a71cd1de25d937ceb39ab5c40626b0b5c>`&
	data()

Returns a non-const reference to the result data.

For internal use only.

.. index:: pair: function; error
.. _doxid-class_poco_1_1_active_result_1ad696328c89ccb03f58f4eeebb0c222c1:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	error(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& msg)

Sets the failed flag and the exception message.

.. index:: pair: function; error
.. _doxid-class_poco_1_1_active_result_1a6d72c3db80e4e4714505f95807162d23:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	error(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Exception<doxid-class_poco_1_1_exception>`& exc)

Sets the failed flag and the exception message.

