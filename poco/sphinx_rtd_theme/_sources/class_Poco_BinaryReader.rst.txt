.. index:: pair: class; Poco::BinaryReader
.. _doxid-class_poco_1_1_binary_reader:

class Poco::BinaryReader
========================

.. toctree::
	:hidden:

	enum_Poco_BinaryReader_StreamByteOrder.rst

Overview
~~~~~~~~

This class reads basic types (and std::vectors thereof) in binary form into an input stream. :ref:`More...<details-class_poco_1_1_binary_reader>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <BinaryReader.h>
	
	class BinaryReader
	{
	public:
		// enums
	
		enum :ref:`StreamByteOrder<doxid-class_poco_1_1_binary_reader_1ac5d22b0ecf3e89b539814e89d2364fdb>`;

		// construction
	
		:ref:`BinaryReader<doxid-class_poco_1_1_binary_reader_1a76d3521add12de6f3f9d99d33fa2af99>`(
			std::istream& istr,
			:ref:`StreamByteOrder<doxid-class_poco_1_1_binary_reader_1ac5d22b0ecf3e89b539814e89d2364fdb>` byteOrder = :ref:`NATIVE_BYTE_ORDER<doxid-class_poco_1_1_binary_reader_1ac5d22b0ecf3e89b539814e89d2364fdba1759d6aa93f509e2b8d4eb59c8fa90d0>`
			);
	
		:ref:`BinaryReader<doxid-class_poco_1_1_binary_reader_1a0841e630d6831d2156e2f322a522be02>`(
			std::istream& istr,
			:ref:`TextEncoding<doxid-class_poco_1_1_text_encoding>`& encoding,
			:ref:`StreamByteOrder<doxid-class_poco_1_1_binary_reader_1ac5d22b0ecf3e89b539814e89d2364fdb>` byteOrder = :ref:`NATIVE_BYTE_ORDER<doxid-class_poco_1_1_binary_reader_1ac5d22b0ecf3e89b539814e89d2364fdba1759d6aa93f509e2b8d4eb59c8fa90d0>`
			);

		// methods
	
		BinaryReader&
		:target:`operator>><doxid-class_poco_1_1_binary_reader_1affedf1e727b2d05a1832eda81cbad7a0>`(bool& value);
	
		BinaryReader&
		:target:`operator>><doxid-class_poco_1_1_binary_reader_1a7d126eed9981f3a9bd7d321755b2528e>`(char& value);
	
		BinaryReader&
		:target:`operator>><doxid-class_poco_1_1_binary_reader_1a669fd4b253f96d297c284adec6d9b766>`(unsigned char& value);
	
		BinaryReader&
		:target:`operator>><doxid-class_poco_1_1_binary_reader_1a9b32045db4159236be272b404340229c>`(signed char& value);
	
		BinaryReader&
		:target:`operator>><doxid-class_poco_1_1_binary_reader_1abc8a1efdddf7b98bcf2db300cd009bf4>`(short& value);
	
		BinaryReader&
		:target:`operator>><doxid-class_poco_1_1_binary_reader_1a8304c0e4e296b3d3a8d20bc5d5c468f6>`(unsigned short& value);
	
		BinaryReader&
		:target:`operator>><doxid-class_poco_1_1_binary_reader_1a65ef92d151ed69f0e300a5e4b385aaaf>`(int& value);
	
		BinaryReader&
		:target:`operator>><doxid-class_poco_1_1_binary_reader_1ac187a96b28420e21aa3179aca11aaf86>`(unsigned int& value);
	
		BinaryReader&
		:target:`operator>><doxid-class_poco_1_1_binary_reader_1a9322f79c8dda2e33ebeb539a2ec758bf>`(long& value);
	
		BinaryReader&
		:target:`operator>><doxid-class_poco_1_1_binary_reader_1a36c27e35f41732303141e4c2cc2c7fd6>`(unsigned long& value);
	
		BinaryReader&
		:target:`operator>><doxid-class_poco_1_1_binary_reader_1abd88e6158614627429124acd13ad9502>`(float& value);
	
		BinaryReader&
		:target:`operator>><doxid-class_poco_1_1_binary_reader_1a47f04920035d37b4daf67a151614927f>`(double& value);
	
		BinaryReader&
		:target:`operator>><doxid-class_poco_1_1_binary_reader_1a13477233bbb0a0f13afc717af3f236c5>`(std::string& value);
	
		template <typename T>
		BinaryReader&
		:target:`operator>><doxid-class_poco_1_1_binary_reader_1a6c05e3104db34fcc3dd789e34752a707>`(std::vector<T>& value);
	
		void
		:ref:`read7BitEncoded<doxid-class_poco_1_1_binary_reader_1ae1dcb0f20ed5afdab98f72d9be0bb286>`(UInt32& value);
	
		void
		:ref:`readRaw<doxid-class_poco_1_1_binary_reader_1a10f9c2e9963388e12aa318d0a23fee43>`(
			std::streamsize length,
			std::string& value
			);
	
		void
		:ref:`readRaw<doxid-class_poco_1_1_binary_reader_1ac4533d4c33eae0d780b50a1a61160d89>`(
			char* buffer,
			std::streamsize length
			);
	
		void
		:ref:`readBOM<doxid-class_poco_1_1_binary_reader_1a0429ae0a2c976165c5a747f4bb4dfba4>`();
	
		bool
		:ref:`good<doxid-class_poco_1_1_binary_reader_1a106f30014fcc13a8f514e34231866c07>`();
	
		bool
		:ref:`fail<doxid-class_poco_1_1_binary_reader_1aaac10b7214c16f4d9a36086730eb9f87>`();
	
		bool
		:ref:`bad<doxid-class_poco_1_1_binary_reader_1a7ef4428779a2c492a9eb527748916825>`();
	
		bool
		:ref:`eof<doxid-class_poco_1_1_binary_reader_1af70bd4405ec97a4d348373efb443b091>`();
	
		std::istream&
		:ref:`stream<doxid-class_poco_1_1_binary_reader_1aeeb6cebec4cb6efc79b80e1f1f5816d4>`() const;
	
		:ref:`StreamByteOrder<doxid-class_poco_1_1_binary_reader_1ac5d22b0ecf3e89b539814e89d2364fdb>`
		:ref:`byteOrder<doxid-class_poco_1_1_binary_reader_1ad37518655f31f5f4ad465482a4bfb4d1>`() const;
	
		void
		:ref:`setExceptions<doxid-class_poco_1_1_binary_reader_1ad4ce2bf20e75ff3c0ba7ab304b4183d6>`(std::ios_base::iostate st = (std::istream::failbit|std::istream::badbit));
	
		std::streamsize
		:ref:`available<doxid-class_poco_1_1_binary_reader_1a124b19b147f5d5ce8b0d8ad469194c45>`() const;
	};

	// direct descendants

	template <typename T>
	class :ref:`BasicMemoryBinaryReader<doxid-class_poco_1_1_basic_memory_binary_reader>`;
.. _details-class_poco_1_1_binary_reader:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

This class reads basic types (and std::vectors thereof) in binary form into an input stream.

It provides an extractor-based interface similar to istream. The reader also supports automatic conversion from big-endian (network byte order) to little-endian and vice-versa. Use a :ref:`BinaryWriter <doxid-class_poco_1_1_binary_writer>` to create a stream suitable for a :ref:`BinaryReader <doxid-class_poco_1_1_binary_reader>`.

Construction
------------

.. index:: pair: function; BinaryReader
.. _doxid-class_poco_1_1_binary_reader_1a76d3521add12de6f3f9d99d33fa2af99:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	BinaryReader(
		std::istream& istr,
		:ref:`StreamByteOrder<doxid-class_poco_1_1_binary_reader_1ac5d22b0ecf3e89b539814e89d2364fdb>` byteOrder = :ref:`NATIVE_BYTE_ORDER<doxid-class_poco_1_1_binary_reader_1ac5d22b0ecf3e89b539814e89d2364fdba1759d6aa93f509e2b8d4eb59c8fa90d0>`
		)

Creates the :ref:`BinaryReader <doxid-class_poco_1_1_binary_reader>`.

.. index:: pair: function; BinaryReader
.. _doxid-class_poco_1_1_binary_reader_1a0841e630d6831d2156e2f322a522be02:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	BinaryReader(
		std::istream& istr,
		:ref:`TextEncoding<doxid-class_poco_1_1_text_encoding>`& encoding,
		:ref:`StreamByteOrder<doxid-class_poco_1_1_binary_reader_1ac5d22b0ecf3e89b539814e89d2364fdb>` byteOrder = :ref:`NATIVE_BYTE_ORDER<doxid-class_poco_1_1_binary_reader_1ac5d22b0ecf3e89b539814e89d2364fdba1759d6aa93f509e2b8d4eb59c8fa90d0>`
		)

Creates the :ref:`BinaryReader <doxid-class_poco_1_1_binary_reader>` using the given :ref:`TextEncoding <doxid-class_poco_1_1_text_encoding>`.

Strings will be converted from the specified encoding to the currently set global encoding (see :ref:`Poco::TextEncoding::global() <doxid-class_poco_1_1_text_encoding_1a3c13a27371bddf520833a119cd902fd7>`).

Methods
-------

.. index:: pair: function; read7BitEncoded
.. _doxid-class_poco_1_1_binary_reader_1ae1dcb0f20ed5afdab98f72d9be0bb286:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	read7BitEncoded(UInt32& value)

Reads a 32-bit unsigned integer in compressed format.

See :ref:`BinaryWriter::write7BitEncoded() <doxid-class_poco_1_1_binary_writer_1a3bcf9947c1a13576daf52ba39b4d8dc7>` for a description of the compression algorithm.

.. index:: pair: function; readRaw
.. _doxid-class_poco_1_1_binary_reader_1a10f9c2e9963388e12aa318d0a23fee43:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	readRaw(
		std::streamsize length,
		std::string& value
		)

Reads length bytes of raw data into value.

.. index:: pair: function; readRaw
.. _doxid-class_poco_1_1_binary_reader_1ac4533d4c33eae0d780b50a1a61160d89:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	readRaw(
		char* buffer,
		std::streamsize length
		)

Reads length bytes of raw data into buffer.

.. index:: pair: function; readBOM
.. _doxid-class_poco_1_1_binary_reader_1a0429ae0a2c976165c5a747f4bb4dfba4:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	readBOM()

Reads a byte-order mark from the stream and configures the reader for the encountered byte order.

A byte-order mark is a 16-bit integer with a value of 0xFEFF, written in host byte order.

.. index:: pair: function; good
.. _doxid-class_poco_1_1_binary_reader_1a106f30014fcc13a8f514e34231866c07:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	good()

Returns _istr.good();.

.. index:: pair: function; fail
.. _doxid-class_poco_1_1_binary_reader_1aaac10b7214c16f4d9a36086730eb9f87:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	fail()

Returns _istr.fail();.

.. index:: pair: function; bad
.. _doxid-class_poco_1_1_binary_reader_1a7ef4428779a2c492a9eb527748916825:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	bad()

Returns _istr.bad();.

.. index:: pair: function; eof
.. _doxid-class_poco_1_1_binary_reader_1af70bd4405ec97a4d348373efb443b091:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	eof()

Returns _istr.eof();.

.. index:: pair: function; stream
.. _doxid-class_poco_1_1_binary_reader_1aeeb6cebec4cb6efc79b80e1f1f5816d4:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	std::istream&
	stream() const

Returns the underlying stream.

.. index:: pair: function; byteOrder
.. _doxid-class_poco_1_1_binary_reader_1ad37518655f31f5f4ad465482a4bfb4d1:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`StreamByteOrder<doxid-class_poco_1_1_binary_reader_1ac5d22b0ecf3e89b539814e89d2364fdb>`
	byteOrder() const

Returns the byte-order used by the reader, which is either BIG_ENDIAN_BYTE_ORDER or LITTLE_ENDIAN_BYTE_ORDER.

.. index:: pair: function; setExceptions
.. _doxid-class_poco_1_1_binary_reader_1ad4ce2bf20e75ff3c0ba7ab304b4183d6:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setExceptions(std::ios_base::iostate st = (std::istream::failbit|std::istream::badbit))

Sets the stream to throw exception on specified state (default failbit and badbit);.

.. index:: pair: function; available
.. _doxid-class_poco_1_1_binary_reader_1a124b19b147f5d5ce8b0d8ad469194c45:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	std::streamsize
	available() const

Returns the number of available bytes in the stream.

