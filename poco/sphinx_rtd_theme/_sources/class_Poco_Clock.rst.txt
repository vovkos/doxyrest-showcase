.. index:: pair: class; Poco::Clock
.. _doxid-class_poco_1_1_clock:

class Poco::Clock
=================

.. toctree::
	:hidden:

Overview
~~~~~~~~

A :ref:`Clock <doxid-class_poco_1_1_clock>` stores a monotonic\* clock value with (theoretical) microseconds resolution. :ref:`More...<details-class_poco_1_1_clock>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <Clock.h>
	
	class Clock
	{
	public:
		// typedefs
	
		typedef Int64 :ref:`ClockVal<doxid-class_poco_1_1_clock_1a041901e7fad75a6014e3c730cc8fb406>`;
		typedef Int64 :ref:`ClockDiff<doxid-class_poco_1_1_clock_1aa6caf8526c63c2222fb24dbed8300627>`;

		// fields
	
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`ClockVal<doxid-class_poco_1_1_clock_1a041901e7fad75a6014e3c730cc8fb406>` :ref:`CLOCKVAL_MIN<doxid-class_poco_1_1_clock_1a1695be550676b77ba1e6ee31da9cc941>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`ClockVal<doxid-class_poco_1_1_clock_1a041901e7fad75a6014e3c730cc8fb406>` :ref:`CLOCKVAL_MAX<doxid-class_poco_1_1_clock_1a79a7a75890d29503ee47f8a95bcb9c44>`;

		// construction
	
		:ref:`Clock<doxid-class_poco_1_1_clock_1a7b259ec8f9b6736dfae34b425778d0da>`();
		:ref:`Clock<doxid-class_poco_1_1_clock_1a4a77f517c1f796c19afbcf130318871c>`(:ref:`ClockVal<doxid-class_poco_1_1_clock_1a041901e7fad75a6014e3c730cc8fb406>` tv);
		:ref:`Clock<doxid-class_poco_1_1_clock_1ac710a464898a99facf39edf78f979ecc>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Clock& other);

		// methods
	
		Clock&
		:target:`operator=<doxid-class_poco_1_1_clock_1adb320ff5e303146fe591da0ac7b45581>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Clock& other);
	
		Clock&
		:target:`operator=<doxid-class_poco_1_1_clock_1aa727c68f2cbb264446529b12b373c414>`(:ref:`ClockVal<doxid-class_poco_1_1_clock_1a041901e7fad75a6014e3c730cc8fb406>` tv);
	
		void
		:ref:`swap<doxid-class_poco_1_1_clock_1a3dd487129936750b54d896305027c080>`(Clock& clock);
	
		void
		:ref:`update<doxid-class_poco_1_1_clock_1a521efa07a2a801269b7b4ae84b08e9de>`();
	
		bool
		:target:`operator==<doxid-class_poco_1_1_clock_1a1f64d05c7fbf9bb244c41a7890489d80>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Clock& ts) const;
	
		bool
		:target:`operator!=<doxid-class_poco_1_1_clock_1a6c141abd20adc2328315966ee7d6a765>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Clock& ts) const;
	
		bool
		:target:`operator><doxid-class_poco_1_1_clock_1a73982306a8f40984f0c25442367d90f4>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Clock& ts) const;
	
		bool
		:target:`operator>=<doxid-class_poco_1_1_clock_1aea9a7665b41b50bfbc45010c26b24051>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Clock& ts) const;
	
		bool
		:target:`operator<<doxid-class_poco_1_1_clock_1a2bd705a8c920e08672b1a52fe7796609>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Clock& ts) const;
	
		bool
		:target:`operator<=<doxid-class_poco_1_1_clock_1a4132dc735630eeb102ffa0711ccb26f2>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Clock& ts) const;
	
		Clock
		:target:`operator+<doxid-class_poco_1_1_clock_1a3e8a2e564ce5b3f2ea5f8353c1962f15>`(:ref:`ClockDiff<doxid-class_poco_1_1_clock_1aa6caf8526c63c2222fb24dbed8300627>` d) const;
	
		Clock
		:target:`operator-<doxid-class_poco_1_1_clock_1a55a0587ee67bb88bf5b0e5e02f08653d>`(:ref:`ClockDiff<doxid-class_poco_1_1_clock_1aa6caf8526c63c2222fb24dbed8300627>` d) const;
	
		:ref:`ClockDiff<doxid-class_poco_1_1_clock_1aa6caf8526c63c2222fb24dbed8300627>`
		:target:`operator-<doxid-class_poco_1_1_clock_1a8997807e10ade336f609896ca3928652>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Clock& ts) const;
	
		Clock&
		:target:`operator+=<doxid-class_poco_1_1_clock_1aec4a359a592f8602ecc9b257c181c689>`(:ref:`ClockDiff<doxid-class_poco_1_1_clock_1aa6caf8526c63c2222fb24dbed8300627>` d);
	
		Clock&
		:target:`operator-=<doxid-class_poco_1_1_clock_1a85837c29074bfd20a5657a5fcbe92923>`(:ref:`ClockDiff<doxid-class_poco_1_1_clock_1aa6caf8526c63c2222fb24dbed8300627>` d);
	
		:ref:`ClockVal<doxid-class_poco_1_1_clock_1a041901e7fad75a6014e3c730cc8fb406>`
		:ref:`microseconds<doxid-class_poco_1_1_clock_1a84a5bae29883a40b5a6b8971366efeee>`() const;
	
		:ref:`ClockVal<doxid-class_poco_1_1_clock_1a041901e7fad75a6014e3c730cc8fb406>`
		:ref:`raw<doxid-class_poco_1_1_clock_1ae78d3f7223fab4dc1d08cdbe74752ad9>`() const;
	
		:ref:`ClockDiff<doxid-class_poco_1_1_clock_1aa6caf8526c63c2222fb24dbed8300627>`
		:ref:`elapsed<doxid-class_poco_1_1_clock_1ae2e72c4859dfe2c775ca6b4c434358b6>`() const;
	
		bool
		:ref:`isElapsed<doxid-class_poco_1_1_clock_1ade622c447602f65c4bc16591598ed67d>`(:ref:`ClockDiff<doxid-class_poco_1_1_clock_1aa6caf8526c63c2222fb24dbed8300627>` interval) const;
	
		static
		:ref:`ClockDiff<doxid-class_poco_1_1_clock_1aa6caf8526c63c2222fb24dbed8300627>`
		:ref:`resolution<doxid-class_poco_1_1_clock_1aaf45dab3da91f75231a5defa40ba4680>`();
	
		static
		:ref:`ClockDiff<doxid-class_poco_1_1_clock_1aa6caf8526c63c2222fb24dbed8300627>`
		:ref:`accuracy<doxid-class_poco_1_1_clock_1a06da85597c6656a3daacea64a2cb3353>`();
	
		static
		bool
		:ref:`monotonic<doxid-class_poco_1_1_clock_1adcc973fce2c226c21aaa9cf137310c11>`();
	};
.. _details-class_poco_1_1_clock:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

A :ref:`Clock <doxid-class_poco_1_1_clock>` stores a monotonic\* clock value with (theoretical) microseconds resolution.

Clocks can be compared with each other and simple arithmetics are supported.

[\*] Note that :ref:`Clock <doxid-class_poco_1_1_clock>` values are only monotonic if the operating system provides a monotonic clock. The :ref:`monotonic() <doxid-class_poco_1_1_clock_1adcc973fce2c226c21aaa9cf137310c11>` function can be used to check whether the system's clock is monotonic.

Monotonic :ref:`Clock <doxid-class_poco_1_1_clock>` is available on Windows, Linux, OS X and on POSIX platforms supporting clock_gettime() with CLOCK_MONOTONIC.

:ref:`Clock <doxid-class_poco_1_1_clock>` values are relative to a system-dependent epoch time (usually the system's startup time) and have no relation to the time of day.

Typedefs
--------

.. index:: pair: typedef; ClockVal
.. _doxid-class_poco_1_1_clock_1a041901e7fad75a6014e3c730cc8fb406:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	typedef Int64 ClockVal

Monotonic clock value in microsecond resolution.

.. index:: pair: typedef; ClockDiff
.. _doxid-class_poco_1_1_clock_1aa6caf8526c63c2222fb24dbed8300627:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	typedef Int64 ClockDiff

Difference between two ClockVal values in microseconds.

Fields
------

.. index:: pair: variable; CLOCKVAL_MIN
.. _doxid-class_poco_1_1_clock_1a1695be550676b77ba1e6ee31da9cc941:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`ClockVal<doxid-class_poco_1_1_clock_1a041901e7fad75a6014e3c730cc8fb406>` CLOCKVAL_MIN

Minimum clock value.

.. index:: pair: variable; CLOCKVAL_MAX
.. _doxid-class_poco_1_1_clock_1a79a7a75890d29503ee47f8a95bcb9c44:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`ClockVal<doxid-class_poco_1_1_clock_1a041901e7fad75a6014e3c730cc8fb406>` CLOCKVAL_MAX

Maximum clock value.

Construction
------------

.. index:: pair: function; Clock
.. _doxid-class_poco_1_1_clock_1a7b259ec8f9b6736dfae34b425778d0da:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Clock()

Creates a :ref:`Clock <doxid-class_poco_1_1_clock>` with the current system clock value.

.. index:: pair: function; Clock
.. _doxid-class_poco_1_1_clock_1a4a77f517c1f796c19afbcf130318871c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Clock(:ref:`ClockVal<doxid-class_poco_1_1_clock_1a041901e7fad75a6014e3c730cc8fb406>` tv)

Creates a :ref:`Clock <doxid-class_poco_1_1_clock>` from the given clock value.

.. index:: pair: function; Clock
.. _doxid-class_poco_1_1_clock_1ac710a464898a99facf39edf78f979ecc:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Clock(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Clock& other)

Copy constructor.

Methods
-------

.. index:: pair: function; swap
.. _doxid-class_poco_1_1_clock_1a3dd487129936750b54d896305027c080:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	swap(Clock& clock)

Swaps the :ref:`Clock <doxid-class_poco_1_1_clock>` with another one.

.. index:: pair: function; update
.. _doxid-class_poco_1_1_clock_1a521efa07a2a801269b7b4ae84b08e9de:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	update()

Updates the :ref:`Clock <doxid-class_poco_1_1_clock>` with the current system clock.

.. index:: pair: function; microseconds
.. _doxid-class_poco_1_1_clock_1a84a5bae29883a40b5a6b8971366efeee:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`ClockVal<doxid-class_poco_1_1_clock_1a041901e7fad75a6014e3c730cc8fb406>`
	microseconds() const

Returns the clock value expressed in microseconds since the system-specific epoch time (usually system startup).

.. index:: pair: function; raw
.. _doxid-class_poco_1_1_clock_1ae78d3f7223fab4dc1d08cdbe74752ad9:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`ClockVal<doxid-class_poco_1_1_clock_1a041901e7fad75a6014e3c730cc8fb406>`
	raw() const

Returns the clock value expressed in microseconds since the system-specific epoch time (usually system startup).

Same as :ref:`microseconds() <doxid-class_poco_1_1_clock_1a84a5bae29883a40b5a6b8971366efeee>`.

.. index:: pair: function; elapsed
.. _doxid-class_poco_1_1_clock_1ae2e72c4859dfe2c775ca6b4c434358b6:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`ClockDiff<doxid-class_poco_1_1_clock_1aa6caf8526c63c2222fb24dbed8300627>`
	elapsed() const

Returns the time elapsed since the time denoted by the :ref:`Clock <doxid-class_poco_1_1_clock>` instance.

Equivalent to :ref:`Clock() <doxid-class_poco_1_1_clock_1a7b259ec8f9b6736dfae34b425778d0da>` - \*this.

.. index:: pair: function; isElapsed
.. _doxid-class_poco_1_1_clock_1ade622c447602f65c4bc16591598ed67d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	isElapsed(:ref:`ClockDiff<doxid-class_poco_1_1_clock_1aa6caf8526c63c2222fb24dbed8300627>` interval) const

Returns true iff the given interval has passed since the time denoted by the :ref:`Clock <doxid-class_poco_1_1_clock>` instance.

.. index:: pair: function; resolution
.. _doxid-class_poco_1_1_clock_1aaf45dab3da91f75231a5defa40ba4680:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	:ref:`ClockDiff<doxid-class_poco_1_1_clock_1aa6caf8526c63c2222fb24dbed8300627>`
	resolution()

Returns the resolution in units per second.

Since the :ref:`Clock <doxid-class_poco_1_1_clock>` clas has microsecond resolution, the returned value is always 1000000.

.. index:: pair: function; accuracy
.. _doxid-class_poco_1_1_clock_1a06da85597c6656a3daacea64a2cb3353:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	:ref:`ClockDiff<doxid-class_poco_1_1_clock_1aa6caf8526c63c2222fb24dbed8300627>`
	accuracy()

Returns the system's clock accuracy in microseconds.

.. index:: pair: function; monotonic
.. _doxid-class_poco_1_1_clock_1adcc973fce2c226c21aaa9cf137310c11:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	bool
	monotonic()

Returns true iff the system's clock is monotonic.

