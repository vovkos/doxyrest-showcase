.. index:: pair: class; Poco::HMACEngine
.. _doxid-class_poco_1_1_h_m_a_c_engine:

template class Poco::HMACEngine
===============================

.. toctree::
	:hidden:

Overview
~~~~~~~~

This class implementes the HMAC message authentication code algorithm, as specified in RFC 2104. :ref:`More...<details-class_poco_1_1_h_m_a_c_engine>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <HMACEngine.h>
	
	template <class Engine>
	class HMACEngine: public :ref:`Poco::DigestEngine<doxid-class_poco_1_1_digest_engine>`
	{
	public:
		// enums
	
		enum
		{
		    :target:`BLOCK_SIZE<doxid-class_poco_1_1_h_m_a_c_engine_1afa92d205eebef019dbb321a79f8262d5a114ced45eeac7196eb2e2b36a7eaedd4>`  = Engine::BLOCK_SIZE,
		    :target:`DIGEST_SIZE<doxid-class_poco_1_1_h_m_a_c_engine_1afa92d205eebef019dbb321a79f8262d5a12ee2edfac2d1bc05b46c3ec44f1c296>` = Engine::DIGEST_SIZE,
		};

		// construction
	
		:target:`HMACEngine<doxid-class_poco_1_1_h_m_a_c_engine_1a3736a8bf28b160ad443b22cbaf8beb32>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& passphrase);
	
		:target:`HMACEngine<doxid-class_poco_1_1_h_m_a_c_engine_1ae3d7758fbc73e7ec2ab754fbe10a44d4>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` char* passphrase,
			std::size_t length
			);

		// methods
	
		virtual
		std::size_t
		:ref:`digestLength<doxid-class_poco_1_1_h_m_a_c_engine_1ab8d0be01d83b11fead09584314857f13>`() const;
	
		virtual
		void
		:ref:`reset<doxid-class_poco_1_1_h_m_a_c_engine_1aed8d6ccce6367a824c71a39ea26080f5>`();
	
		virtual
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`DigestEngine::Digest<doxid-class_poco_1_1_digest_engine_1a8e6e74183768a08e8f00112e5c6c055e>`&
		:ref:`digest<doxid-class_poco_1_1_h_m_a_c_engine_1af8ebed82b18896733843a2c6b001d71f>`();

	protected:
		// methods
	
		void
		:target:`init<doxid-class_poco_1_1_h_m_a_c_engine_1a685f5b6a02ec489888f150a202825866>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` char* passphrase,
			std::size_t length
			);
	
		virtual
		void
		:ref:`updateImpl<doxid-class_poco_1_1_h_m_a_c_engine_1a39cb155011b797f770d8019ce99395a4>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* data,
			std::size_t length
			);
	};

Inherited Members
-----------------

.. ref-code-block:: cpp
	:class: doxyrest-overview-inherited-code-block

	public:
		// typedefs
	
		typedef std::vector<unsigned char> :ref:`Digest<doxid-class_poco_1_1_digest_engine_1a8e6e74183768a08e8f00112e5c6c055e>`;

		// methods
	
		void
		:ref:`update<doxid-class_poco_1_1_digest_engine_1ac3de0beba3214e7c41b97ceab478f4d1>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* data,
			std::size_t length
			);
	
		void
		:ref:`update<doxid-class_poco_1_1_digest_engine_1a7a0602bab140113322422625573f853c>`(char data);
	
		void
		:ref:`update<doxid-class_poco_1_1_digest_engine_1a3ea720755f7eb4febe08a4ed680d0ce9>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& data);
	
		virtual
		std::size_t
		:ref:`digestLength<doxid-class_poco_1_1_digest_engine_1a971c0aa31b67436f710841a87ac4d5ca>`() const = 0;
	
		virtual
		void
		:ref:`reset<doxid-class_poco_1_1_digest_engine_1ac6e2b8d7740b289e9432ae673823ae0f>`() = 0;
	
		virtual
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Digest<doxid-class_poco_1_1_digest_engine_1a8e6e74183768a08e8f00112e5c6c055e>`&
		:ref:`digest<doxid-class_poco_1_1_digest_engine_1acbb5e07fd2f4ae327c3a6897867e07f3>`() = 0;
	
		static
		std::string
		:ref:`digestToHex<doxid-class_poco_1_1_digest_engine_1a82bd78a240d10ca70c6b9eeba4988ddf>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Digest<doxid-class_poco_1_1_digest_engine_1a8e6e74183768a08e8f00112e5c6c055e>`& bytes);
	
		static
		:ref:`Digest<doxid-class_poco_1_1_digest_engine_1a8e6e74183768a08e8f00112e5c6c055e>`
		:ref:`digestFromHex<doxid-class_poco_1_1_digest_engine_1ae5b4eff9f83d30775ae966ef39443489>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& digest);

	protected:
		// methods
	
		virtual
		void
		:ref:`updateImpl<doxid-class_poco_1_1_digest_engine_1a172d52d2fd5c279b4571f6cd5b57fccf>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* data,
			std::size_t length
			) = 0;

.. _details-class_poco_1_1_h_m_a_c_engine:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

This class implementes the HMAC message authentication code algorithm, as specified in RFC 2104.

The underlying :ref:`DigestEngine <doxid-class_poco_1_1_digest_engine>` (:ref:`MD5Engine <doxid-class_poco_1_1_m_d5_engine>`, :ref:`SHA1Engine <doxid-class_poco_1_1_s_h_a1_engine>`, etc.) must be given as template argument. Since the :ref:`HMACEngine <doxid-class_poco_1_1_h_m_a_c_engine>` is a :ref:`DigestEngine <doxid-class_poco_1_1_digest_engine>`, it can be used with the DigestStream class to create a HMAC for a stream.

Methods
-------

.. index:: pair: function; digestLength
.. _doxid-class_poco_1_1_h_m_a_c_engine_1ab8d0be01d83b11fead09584314857f13:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	std::size_t
	digestLength() const

Returns the length of the digest in bytes.

.. index:: pair: function; reset
.. _doxid-class_poco_1_1_h_m_a_c_engine_1aed8d6ccce6367a824c71a39ea26080f5:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	reset()

Resets the engine so that a new digest can be computed.

.. index:: pair: function; digest
.. _doxid-class_poco_1_1_h_m_a_c_engine_1af8ebed82b18896733843a2c6b001d71f:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`DigestEngine::Digest<doxid-class_poco_1_1_digest_engine_1a8e6e74183768a08e8f00112e5c6c055e>`&
	digest()

Finishes the computation of the digest and returns the message digest.

Resets the engine and can thus only be called once for every digest. The returned reference is valid until the next time :ref:`digest() <doxid-class_poco_1_1_h_m_a_c_engine_1af8ebed82b18896733843a2c6b001d71f>` is called, or the engine object is destroyed.

.. index:: pair: function; updateImpl
.. _doxid-class_poco_1_1_h_m_a_c_engine_1a39cb155011b797f770d8019ce99395a4:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	updateImpl(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* data,
		std::size_t length
		)

Updates the digest with the given data.

Must be implemented by subclasses.

