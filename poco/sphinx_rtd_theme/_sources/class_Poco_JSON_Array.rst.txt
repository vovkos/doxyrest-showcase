.. index:: pair: class; Poco::JSON::Array
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array:

class Poco::JSON::Array
=======================

.. toctree::
	:hidden:

Overview
~~~~~~~~

Represents a :ref:`JSON <doxid-namespace_poco_1_1_j_s_o_n>` array. :ref:`More...<details-class_poco_1_1_j_s_o_n_1_1_array>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <Array.h>
	
	class Array
	{
	public:
		// typedefs
	
		typedef std::vector<:ref:`Dynamic::Var<doxid-class_poco_1_1_dynamic_1_1_var>`> :target:`ValueVec<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a09c556bcd84c2bcf02a375b9b5e52f2f>`;
		typedef std::vector<:ref:`Dynamic::Var<doxid-class_poco_1_1_dynamic_1_1_var>`>::iterator :target:`Iterator<doxid-class_poco_1_1_j_s_o_n_1_1_array_1af2fb7bb43a75a6c15c65b92c94baf18a>`;
		typedef std::vector<:ref:`Dynamic::Var<doxid-class_poco_1_1_dynamic_1_1_var>`>::const_iterator :target:`ConstIterator<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a2699e63ff33feec50e6c6359bf32acd2>`;
		typedef :ref:`SharedPtr<doxid-class_poco_1_1_shared_ptr>`<Array> :target:`Ptr<doxid-class_poco_1_1_j_s_o_n_1_1_array_1aeceb3f751138fa25594300ea1daec83f>`;

		// construction
	
		:ref:`Array<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a62a118c047826e2a813e1e1a80533b5a>`();
		:ref:`Array<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a1b333c85d86a401bf90b0b01e1a4acee>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Array& copy);

		// methods
	
		ValueVec::const_iterator
		:ref:`begin<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a292f1b58947fae4dd471d31c858d5001>`() const;
	
		ValueVec::const_iterator
		:ref:`end<doxid-class_poco_1_1_j_s_o_n_1_1_array_1ace578ec6e80ffbbf8ef4bc969ddc8be6>`() const;
	
		:ref:`Dynamic::Var<doxid-class_poco_1_1_dynamic_1_1_var>`
		:ref:`get<doxid-class_poco_1_1_j_s_o_n_1_1_array_1abd2b52e98f6a14138efb158b304099c0>`(unsigned int index) const;
	
		:ref:`Array::Ptr<doxid-class_poco_1_1_j_s_o_n_1_1_array_1aeceb3f751138fa25594300ea1daec83f>`
		:ref:`getArray<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a48412d9bd9da136d39512fd9b71cf842>`(unsigned int index) const;
	
		template <typename T>
		T
		:ref:`getElement<doxid-class_poco_1_1_j_s_o_n_1_1_array_1af0737149a8ad424bd2cecbae7fe6711c>`(unsigned int index) const;
	
		:ref:`SharedPtr<doxid-class_poco_1_1_shared_ptr>`<:ref:`Object<doxid-class_poco_1_1_j_s_o_n_1_1_object>`>
		:ref:`getObject<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a10f00d48d7d69d4d54038da9a2136342>`(unsigned int index) const;
	
		std::size_t
		:ref:`size<doxid-class_poco_1_1_j_s_o_n_1_1_array_1aab209d91ea7b1d150830c720236cc9bb>`() const;
	
		bool
		:ref:`isArray<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a20ba504b1c3ba6eaac87619a5d6504c2>`(unsigned int index) const;
	
		bool
		:ref:`isArray<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a7e4e1b54ddac927ada18045b73a683c9>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Dynamic::Var<doxid-class_poco_1_1_dynamic_1_1_var>`& value) const;
	
		bool
		:ref:`isArray<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a7ad4ead496c8b14d195ddfef8825247a>`(:ref:`ConstIterator<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a2699e63ff33feec50e6c6359bf32acd2>`& value) const;
	
		bool
		:ref:`isNull<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a362487e8be7d098ebbd90ad75f2b84da>`(unsigned int index) const;
	
		bool
		:ref:`isObject<doxid-class_poco_1_1_j_s_o_n_1_1_array_1aef0fab1fde18cf9de6577a5c5444d24e>`(unsigned int index) const;
	
		bool
		:ref:`isObject<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a882e28789891c595b51079572d4a39e7>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Dynamic::Var<doxid-class_poco_1_1_dynamic_1_1_var>`& value) const;
	
		bool
		:ref:`isObject<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a4fc60f3183ac8d8e1d00cc318470fd58>`(:ref:`ConstIterator<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a2699e63ff33feec50e6c6359bf32acd2>`& value) const;
	
		template <typename T>
		T
		:ref:`optElement<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a7d8e7e05f5170f822b831e753fb85e9b>`(
			unsigned int index,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` T& def
			) const;
	
		void
		:ref:`add<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a10417adb4a420dd943f86b167d6f642a>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Dynamic::Var<doxid-class_poco_1_1_dynamic_1_1_var>`& value);
	
		void
		:ref:`set<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a9e2f77ad02f173b4a67247c18982dbf7>`(
			unsigned int index,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Dynamic::Var<doxid-class_poco_1_1_dynamic_1_1_var>`& value
			);
	
		void
		:ref:`stringify<doxid-class_poco_1_1_j_s_o_n_1_1_array_1aa7595d2a4f5e07471d474a6b795791c1>`(
			std::ostream& out,
			unsigned int indent = 0,
			int step = -1
			) const;
	
		void
		:ref:`remove<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a96472ba8a624a7373367ee7882d74198>`(unsigned int index);
	
		:target:`operator const Poco::Dynamic::Array &<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a21596b20ad674a340fb3a9ee5bda1954>`() const;
	
		void
		:ref:`clear<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a0c2ae5b2725589c38d2f900e2173ac1a>`();
	
		static
		:ref:`Poco::Dynamic::Array<doxid-namespace_poco_1_1_dynamic_1aa5b593277159c1643b9ee39b7b31e379>`
		:ref:`makeArray<doxid-class_poco_1_1_j_s_o_n_1_1_array_1ae27a4f5366f23a180ac3da6378d6686d>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`JSON::Array::Ptr<doxid-class_poco_1_1_j_s_o_n_1_1_array_1aeceb3f751138fa25594300ea1daec83f>`& arr);
	};
.. _details-class_poco_1_1_j_s_o_n_1_1_array:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

Represents a :ref:`JSON <doxid-namespace_poco_1_1_j_s_o_n>` array.

:ref:`Array <doxid-class_poco_1_1_j_s_o_n_1_1_array>` provides a representation based on shared pointers and optimized for performance. It is possible to convert :ref:`Array <doxid-class_poco_1_1_j_s_o_n_1_1_array>` to :ref:`Poco::Dynamic::Array <doxid-namespace_poco_1_1_dynamic_1aa5b593277159c1643b9ee39b7b31e379>`. Conversion requires copying and therefore has performance penalty; the benefit is in improved syntax, eg:

.. ref-code-block:: cpp

	// use pointers to avoid copying
	using namespace Poco::JSON;
	std::string json = "[ {\"test\" : 0}, { \"test1\" : [1, 2, 3], \"test2\" : 4 } ]";
	Parser parser;
	Var result = parser.parse(json);
	Array::Ptr arr = result.extract<Array::Ptr>();
	Object::Ptr object = arr->getObject(0); // object == {\"test\" : 0}
	int i = object->getElement<int>("test"); // i == 0;
	Object::Ptr subObject = *arr->getObject(1); // subObject == {\"test\" : 0}
	Array subArr::Ptr = subObject->getArray("test1"); // subArr == [1, 2, 3]
	i = result = subArr->get(0); // i == 1;
	
	// copy/convert to Poco::Dynamic::Array
	Poco::Dynamic::Array da = *arr;
	i = da[0]["test"];     // i == 0
	i = da[1]["test1"][1]; // i == 2
	i = da[1]["test2"];    // i == 4

Construction
------------

.. index:: pair: function; Array
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1a62a118c047826e2a813e1e1a80533b5a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Array()

Creates an empty :ref:`Array <doxid-class_poco_1_1_j_s_o_n_1_1_array>`.

.. index:: pair: function; Array
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1a1b333c85d86a401bf90b0b01e1a4acee:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Array(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Array& copy)

Creates an :ref:`Array <doxid-class_poco_1_1_j_s_o_n_1_1_array>` by copying another one.

Methods
-------

.. index:: pair: function; begin
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1a292f1b58947fae4dd471d31c858d5001:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	ValueVec::const_iterator
	begin() const

Returns the begin iterator for values.

.. index:: pair: function; end
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1ace578ec6e80ffbbf8ef4bc969ddc8be6:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	ValueVec::const_iterator
	end() const

Returns the end iterator for values.

.. index:: pair: function; get
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1abd2b52e98f6a14138efb158b304099c0:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`Dynamic::Var<doxid-class_poco_1_1_dynamic_1_1_var>`
	get(unsigned int index) const

Retrieves the element at the given index.

Will return an empty value when the element doesn't exist.

.. index:: pair: function; getArray
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1a48412d9bd9da136d39512fd9b71cf842:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`Array::Ptr<doxid-class_poco_1_1_j_s_o_n_1_1_array_1aeceb3f751138fa25594300ea1daec83f>`
	getArray(unsigned int index) const

Retrieves an array.

When the element is not an :ref:`Array <doxid-class_poco_1_1_j_s_o_n_1_1_array>` or doesn't exist, an empty :ref:`SharedPtr <doxid-class_poco_1_1_shared_ptr>` is returned.

.. index:: pair: function; getElement
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1af0737149a8ad424bd2cecbae7fe6711c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <typename T>
	T
	getElement(unsigned int index) const

Retrieves an element and tries to convert it to the template type.

The convert<T> method of :ref:`Dynamic <doxid-namespace_poco_1_1_dynamic>` is called which can also throw exceptions for invalid values. Note: This will not work for an array or an object.

.. index:: pair: function; getObject
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1a10f00d48d7d69d4d54038da9a2136342:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SharedPtr<doxid-class_poco_1_1_shared_ptr>`<:ref:`Object<doxid-class_poco_1_1_j_s_o_n_1_1_object>`>
	getObject(unsigned int index) const

Retrieves an object.

When the element is not an object or doesn't exist, an empty :ref:`SharedPtr <doxid-class_poco_1_1_shared_ptr>` is returned.

.. index:: pair: function; size
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1aab209d91ea7b1d150830c720236cc9bb:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	std::size_t
	size() const

Returns the size of the array.

.. index:: pair: function; isArray
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1a20ba504b1c3ba6eaac87619a5d6504c2:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	isArray(unsigned int index) const

Returns true when the element is an array.

.. index:: pair: function; isArray
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1a7e4e1b54ddac927ada18045b73a683c9:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	isArray(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Dynamic::Var<doxid-class_poco_1_1_dynamic_1_1_var>`& value) const

Returns true when the element is an array.

.. index:: pair: function; isArray
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1a7ad4ead496c8b14d195ddfef8825247a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	isArray(:ref:`ConstIterator<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a2699e63ff33feec50e6c6359bf32acd2>`& value) const

Returns true when the element is an array.

.. index:: pair: function; isNull
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1a362487e8be7d098ebbd90ad75f2b84da:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	isNull(unsigned int index) const

Returns true when the element is null or when the element doesn't exist.

.. index:: pair: function; isObject
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1aef0fab1fde18cf9de6577a5c5444d24e:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	isObject(unsigned int index) const

Returns true when the element is an object.

.. index:: pair: function; isObject
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1a882e28789891c595b51079572d4a39e7:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	isObject(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Dynamic::Var<doxid-class_poco_1_1_dynamic_1_1_var>`& value) const

Returns true when the element is an object.

.. index:: pair: function; isObject
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1a4fc60f3183ac8d8e1d00cc318470fd58:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	isObject(:ref:`ConstIterator<doxid-class_poco_1_1_j_s_o_n_1_1_array_1a2699e63ff33feec50e6c6359bf32acd2>`& value) const

Returns true when the element is an object.

.. index:: pair: function; optElement
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1a7d8e7e05f5170f822b831e753fb85e9b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <typename T>
	T
	optElement(
		unsigned int index,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` T& def
		) const

Returns the element at the given index.

When the element is null, doesn't exist or can't be converted to the given type, the default value will be returned

.. index:: pair: function; add
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1a10417adb4a420dd943f86b167d6f642a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	add(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Dynamic::Var<doxid-class_poco_1_1_dynamic_1_1_var>`& value)

Add the given value to the array.

.. index:: pair: function; set
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1a9e2f77ad02f173b4a67247c18982dbf7:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	set(
		unsigned int index,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Dynamic::Var<doxid-class_poco_1_1_dynamic_1_1_var>`& value
		)

Update the element on the given index to specified value.

.. index:: pair: function; stringify
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1aa7595d2a4f5e07471d474a6b795791c1:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	stringify(
		std::ostream& out,
		unsigned int indent = 0,
		int step = -1
		) const

Prints the array to out.

When indent has zero value, the array will be printed without newline breaks and spaces between elements.

.. index:: pair: function; remove
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1a96472ba8a624a7373367ee7882d74198:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	remove(unsigned int index)

Removes the element on the given index.

.. index:: pair: function; clear
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1a0c2ae5b2725589c38d2f900e2173ac1a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	clear()

Clears the contents of the array.

.. index:: pair: function; makeArray
.. _doxid-class_poco_1_1_j_s_o_n_1_1_array_1ae27a4f5366f23a180ac3da6378d6686d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	:ref:`Poco::Dynamic::Array<doxid-namespace_poco_1_1_dynamic_1aa5b593277159c1643b9ee39b7b31e379>`
	makeArray(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`JSON::Array::Ptr<doxid-class_poco_1_1_j_s_o_n_1_1_array_1aeceb3f751138fa25594300ea1daec83f>`& arr)

Utility function for creation of array.

