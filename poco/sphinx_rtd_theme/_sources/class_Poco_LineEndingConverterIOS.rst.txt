.. index:: pair: class; Poco::LineEndingConverterIOS
.. _doxid-class_poco_1_1_line_ending_converter_i_o_s:

class Poco::LineEndingConverterIOS
==================================

.. toctree::
	:hidden:

Overview
~~~~~~~~

The base class for :ref:`InputLineEndingConverter <doxid-class_poco_1_1_input_line_ending_converter>` and :ref:`OutputLineEndingConverter <doxid-class_poco_1_1_output_line_ending_converter>`. :ref:`More...<details-class_poco_1_1_line_ending_converter_i_o_s>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <LineEndingConverter.h>
	
	class LineEndingConverterIOS: public ios
	{
	public:
		// construction
	
		:ref:`LineEndingConverterIOS<doxid-class_poco_1_1_line_ending_converter_i_o_s_1af5a9de7fb06171e25c6d5a3d6256b0f1>`(std::istream& istr);
		:ref:`LineEndingConverterIOS<doxid-class_poco_1_1_line_ending_converter_i_o_s_1a90130a420663e24fe3f96e6d1b07ecf3>`(std::ostream& ostr);

		// methods
	
		void
		:ref:`setNewLine<doxid-class_poco_1_1_line_ending_converter_i_o_s_1a01301421e7ebbed5494e972e18255795>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& newLineCharacters);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`getNewLine<doxid-class_poco_1_1_line_ending_converter_i_o_s_1af35f784a1e04c00144d044dbeebda6c8>`() const;
	
		:ref:`LineEndingConverterStreamBuf<doxid-class_poco_1_1_line_ending_converter_stream_buf>`*
		:ref:`rdbuf<doxid-class_poco_1_1_line_ending_converter_i_o_s_1a88fa8681edf827834b08e1e37bc6ae8d>`();

	protected:
		// fields
	
		:ref:`LineEndingConverterStreamBuf<doxid-class_poco_1_1_line_ending_converter_stream_buf>` :target:`_buf<doxid-class_poco_1_1_line_ending_converter_i_o_s_1aa1add38c5aee14cb3dffd90ce90f1d7a>`;
	};

	// direct descendants

	class :ref:`InputLineEndingConverter<doxid-class_poco_1_1_input_line_ending_converter>`;
	class :ref:`OutputLineEndingConverter<doxid-class_poco_1_1_output_line_ending_converter>`;
.. _details-class_poco_1_1_line_ending_converter_i_o_s:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

The base class for :ref:`InputLineEndingConverter <doxid-class_poco_1_1_input_line_ending_converter>` and :ref:`OutputLineEndingConverter <doxid-class_poco_1_1_output_line_ending_converter>`.

This class provides common methods and is also needed to ensure the correct initialization order of the stream buffer and base classes.

Construction
------------

.. index:: pair: function; LineEndingConverterIOS
.. _doxid-class_poco_1_1_line_ending_converter_i_o_s_1af5a9de7fb06171e25c6d5a3d6256b0f1:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	LineEndingConverterIOS(std::istream& istr)

Creates the :ref:`LineEndingConverterIOS <doxid-class_poco_1_1_line_ending_converter_i_o_s>` and connects it to the given input stream.

.. index:: pair: function; LineEndingConverterIOS
.. _doxid-class_poco_1_1_line_ending_converter_i_o_s_1a90130a420663e24fe3f96e6d1b07ecf3:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	LineEndingConverterIOS(std::ostream& ostr)

Creates the :ref:`LineEndingConverterIOS <doxid-class_poco_1_1_line_ending_converter_i_o_s>` and connects it to the given output stream.

Methods
-------

.. index:: pair: function; setNewLine
.. _doxid-class_poco_1_1_line_ending_converter_i_o_s_1a01301421e7ebbed5494e972e18255795:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setNewLine(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& newLineCharacters)

Sets the target line ending for the converter.

Possible values are:

.. ref-code-block:: cpp

	* NEWLINE_DEFAULT (whatever is appropriate for the current platform)
	* NEWLINE_CRLF    (Windows),
	* NEWLINE_LF      (Unix),
	* NEWLINE_CR      (Macintosh)

In theory, any character sequence can be used as newline sequence. In practice, however, only the above three make sense.

If an empty string is given, all newline characters are removed from the stream.

.. index:: pair: function; getNewLine
.. _doxid-class_poco_1_1_line_ending_converter_i_o_s_1af35f784a1e04c00144d044dbeebda6c8:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	getNewLine() const

Returns the line ending currently in use.

.. index:: pair: function; rdbuf
.. _doxid-class_poco_1_1_line_ending_converter_i_o_s_1a88fa8681edf827834b08e1e37bc6ae8d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`LineEndingConverterStreamBuf<doxid-class_poco_1_1_line_ending_converter_stream_buf>`*
	rdbuf()

Returns a pointer to the underlying streambuf.

