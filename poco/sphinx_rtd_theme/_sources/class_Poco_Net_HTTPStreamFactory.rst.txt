.. index:: pair: class; Poco::Net::HTTPStreamFactory
.. _doxid-class_poco_1_1_net_1_1_h_t_t_p_stream_factory:

class Poco::Net::HTTPStreamFactory
==================================

.. toctree::
	:hidden:

Overview
~~~~~~~~

An implementation of the :ref:`URIStreamFactory <doxid-class_poco_1_1_u_r_i_stream_factory>` interface that handles Hyper-Text Transfer Protocol (http) URIs. :ref:`More...<details-class_poco_1_1_net_1_1_h_t_t_p_stream_factory>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <HTTPStreamFactory.h>
	
	class HTTPStreamFactory: public :ref:`Poco::URIStreamFactory<doxid-class_poco_1_1_u_r_i_stream_factory>`
	{
	public:
		// construction
	
		:ref:`HTTPStreamFactory<doxid-class_poco_1_1_net_1_1_h_t_t_p_stream_factory_1ad852c5feb2c9cb7cd7bfd18c31e097b0>`();
	
		:ref:`HTTPStreamFactory<doxid-class_poco_1_1_net_1_1_h_t_t_p_stream_factory_1ac5027d17063845091e10ec277e4a8019>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& proxyHost,
			Poco::UInt16 proxyPort = :ref:`HTTPSession::HTTP_PORT<doxid-class_poco_1_1_net_1_1_h_t_t_p_session_1a7e78432e9e6b9be68de9c85adcf259b6a7bc48abc88c649b13f10ea2acd5eb40e>`
			);
	
		:ref:`HTTPStreamFactory<doxid-class_poco_1_1_net_1_1_h_t_t_p_stream_factory_1a4d15ca1e894c9d64aba30d4416b9c153>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& proxyHost,
			Poco::UInt16 proxyPort,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& proxyUsername,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& proxyPassword
			);

		// methods
	
		virtual
		std::istream*
		:ref:`open<doxid-class_poco_1_1_net_1_1_h_t_t_p_stream_factory_1aed0ff0e6b7cdefe404cde3686022a343>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::URI<doxid-class_poco_1_1_u_r_i>`& uri);
	
		static
		void
		:ref:`registerFactory<doxid-class_poco_1_1_net_1_1_h_t_t_p_stream_factory_1a54567d71ef1c9f9317547e15a48e4575>`();
	
		static
		void
		:ref:`unregisterFactory<doxid-class_poco_1_1_net_1_1_h_t_t_p_stream_factory_1a8db718915ec84d9f1718c77a2a3c3049>`();
	};

Inherited Members
-----------------

.. ref-code-block:: cpp
	:class: doxyrest-overview-inherited-code-block

	public:
		// methods
	
		virtual
		std::istream*
		:ref:`open<doxid-class_poco_1_1_u_r_i_stream_factory_1a0768071cef5d26530977d4fd23a8abc8>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`URI<doxid-class_poco_1_1_u_r_i>`& uri) = 0;

.. _details-class_poco_1_1_net_1_1_h_t_t_p_stream_factory:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

An implementation of the :ref:`URIStreamFactory <doxid-class_poco_1_1_u_r_i_stream_factory>` interface that handles Hyper-Text Transfer Protocol (http) URIs.

Construction
------------

.. index:: pair: function; HTTPStreamFactory
.. _doxid-class_poco_1_1_net_1_1_h_t_t_p_stream_factory_1ad852c5feb2c9cb7cd7bfd18c31e097b0:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	HTTPStreamFactory()

Creates the :ref:`HTTPStreamFactory <doxid-class_poco_1_1_net_1_1_h_t_t_p_stream_factory>`.

.. index:: pair: function; HTTPStreamFactory
.. _doxid-class_poco_1_1_net_1_1_h_t_t_p_stream_factory_1ac5027d17063845091e10ec277e4a8019:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	HTTPStreamFactory(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& proxyHost,
		Poco::UInt16 proxyPort = :ref:`HTTPSession::HTTP_PORT<doxid-class_poco_1_1_net_1_1_h_t_t_p_session_1a7e78432e9e6b9be68de9c85adcf259b6a7bc48abc88c649b13f10ea2acd5eb40e>`
		)

Creates the :ref:`HTTPStreamFactory <doxid-class_poco_1_1_net_1_1_h_t_t_p_stream_factory>`.

HTTP connections will use the given proxy.

.. index:: pair: function; HTTPStreamFactory
.. _doxid-class_poco_1_1_net_1_1_h_t_t_p_stream_factory_1a4d15ca1e894c9d64aba30d4416b9c153:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	HTTPStreamFactory(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& proxyHost,
		Poco::UInt16 proxyPort,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& proxyUsername,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& proxyPassword
		)

Creates the :ref:`HTTPStreamFactory <doxid-class_poco_1_1_net_1_1_h_t_t_p_stream_factory>`.

HTTP connections will use the given proxy and will be authorized against the proxy using Basic authentication with the given proxyUsername and proxyPassword.

Methods
-------

.. index:: pair: function; open
.. _doxid-class_poco_1_1_net_1_1_h_t_t_p_stream_factory_1aed0ff0e6b7cdefe404cde3686022a343:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	std::istream*
	open(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::URI<doxid-class_poco_1_1_u_r_i>`& uri)

Creates and opens a HTTP stream for the given :ref:`URI <doxid-class_poco_1_1_u_r_i>`.

The :ref:`URI <doxid-class_poco_1_1_u_r_i>` must be a `http://.. <http://..>`__. :ref:`URI <doxid-class_poco_1_1_u_r_i>`.

Throws a NetException if anything goes wrong.

Redirect responses are handled and the redirect location is automatically resolved, as long as the redirect location is still accessible via the HTTP protocol. If a redirection to a non `http://.. <http://..>`__. :ref:`URI <doxid-class_poco_1_1_u_r_i>` is received, a UnsupportedRedirectException exception is thrown. The offending :ref:`URI <doxid-class_poco_1_1_u_r_i>` can then be obtained via the message() method of UnsupportedRedirectException.

.. index:: pair: function; registerFactory
.. _doxid-class_poco_1_1_net_1_1_h_t_t_p_stream_factory_1a54567d71ef1c9f9317547e15a48e4575:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	void
	registerFactory()

Registers the :ref:`HTTPStreamFactory <doxid-class_poco_1_1_net_1_1_h_t_t_p_stream_factory>` with the default :ref:`URIStreamOpener <doxid-class_poco_1_1_u_r_i_stream_opener>` instance.

.. index:: pair: function; unregisterFactory
.. _doxid-class_poco_1_1_net_1_1_h_t_t_p_stream_factory_1a8db718915ec84d9f1718c77a2a3c3049:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	void
	unregisterFactory()

Unregisters the :ref:`HTTPStreamFactory <doxid-class_poco_1_1_net_1_1_h_t_t_p_stream_factory>` with the default :ref:`URIStreamOpener <doxid-class_poco_1_1_u_r_i_stream_opener>` instance.

