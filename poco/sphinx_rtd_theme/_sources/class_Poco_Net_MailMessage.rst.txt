.. index:: pair: class; Poco::Net::MailMessage
.. _doxid-class_poco_1_1_net_1_1_mail_message:

class Poco::Net::MailMessage
============================

.. toctree::
	:hidden:

	enum_Poco_Net_MailMessage_ContentDisposition.rst
	enum_Poco_Net_MailMessage_ContentTransferEncoding.rst
	struct_Poco_Net_MailMessage_Part.rst

Overview
~~~~~~~~

This class represents an e-mail message for use with the :ref:`SMTPClientSession <doxid-class_poco_1_1_net_1_1_s_m_t_p_client_session>` and POPClientSession classes. :ref:`More...<details-class_poco_1_1_net_1_1_mail_message>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <MailMessage.h>
	
	class MailMessage: public :ref:`Poco::Net::MessageHeader<doxid-class_poco_1_1_net_1_1_message_header>`
	{
	public:
		// typedefs
	
		typedef std::vector<:ref:`MailRecipient<doxid-class_poco_1_1_net_1_1_mail_recipient>`> :target:`Recipients<doxid-class_poco_1_1_net_1_1_mail_message_1aad7f256245f9d92f657ea6cd1ae28ee0>`;
		typedef std::vector<:ref:`Part<doxid-struct_poco_1_1_net_1_1_mail_message_1_1_part>`> :target:`PartVec<doxid-class_poco_1_1_net_1_1_mail_message_1a7912923ec1f14c5811c344fb317e93d7>`;

		// enums
	
		enum :ref:`ContentDisposition<doxid-class_poco_1_1_net_1_1_mail_message_1a0f031eb7b511d32fc24d2d4f575a5c99>`;
		enum :ref:`ContentTransferEncoding<doxid-class_poco_1_1_net_1_1_mail_message_1addba32716c61a2d538b406ce0165e640>`;

		// structs
	
		struct :ref:`Part<doxid-struct_poco_1_1_net_1_1_mail_message_1_1_part>`;

		// fields
	
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`HEADER_SUBJECT<doxid-class_poco_1_1_net_1_1_mail_message_1a34547f7ded96694466ee240885012128>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`HEADER_FROM<doxid-class_poco_1_1_net_1_1_mail_message_1acd012c91048b409a11ed96fbf69387f0>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`HEADER_TO<doxid-class_poco_1_1_net_1_1_mail_message_1a4ab9a033ba3ed5264afffa45a57d3e7a>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`HEADER_CC<doxid-class_poco_1_1_net_1_1_mail_message_1aee06712b04f4ef55569fb1939bfba941>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`HEADER_BCC<doxid-class_poco_1_1_net_1_1_mail_message_1a20be4bd2e17f3904b4d987fe96a694ce>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`HEADER_DATE<doxid-class_poco_1_1_net_1_1_mail_message_1a1d9c70ee4b5249fe4a45cc7aa7a24a04>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`HEADER_CONTENT_TYPE<doxid-class_poco_1_1_net_1_1_mail_message_1acad4855ee2bd613f7babd95da28fa1a6>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`HEADER_CONTENT_TRANSFER_ENCODING<doxid-class_poco_1_1_net_1_1_mail_message_1a219c19b0ff22ee5f06a1d84be9941da2>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`HEADER_CONTENT_DISPOSITION<doxid-class_poco_1_1_net_1_1_mail_message_1ad494b6e54bfe64ed94e560c6f319f298>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`HEADER_CONTENT_ID<doxid-class_poco_1_1_net_1_1_mail_message_1a1a2e12a06ebf9d0fb7edbe064dd945a5>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`HEADER_MIME_VERSION<doxid-class_poco_1_1_net_1_1_mail_message_1a5dc635d29f89a7b6a4ecef596af4d068>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`EMPTY_HEADER<doxid-class_poco_1_1_net_1_1_mail_message_1a0f8d26077bff0c1920713911d72917ab>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`TEXT_PLAIN<doxid-class_poco_1_1_net_1_1_mail_message_1a0d225b8b72158a8fb61bd7536138ad19>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`CTE_7BIT<doxid-class_poco_1_1_net_1_1_mail_message_1aa165bab66089fe11df51f76ef9f2a848>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`CTE_8BIT<doxid-class_poco_1_1_net_1_1_mail_message_1a788cda661681945caec9828d256889d4>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`CTE_QUOTED_PRINTABLE<doxid-class_poco_1_1_net_1_1_mail_message_1a700ce51c798e23fc4aed6806818ed135>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`CTE_BASE64<doxid-class_poco_1_1_net_1_1_mail_message_1a57fb45383b523375d38ac8f7654bafe4>`;

		// construction
	
		:ref:`MailMessage<doxid-class_poco_1_1_net_1_1_mail_message_1ac662ddd0900ba667a36d0ab5b86aef2a>`(:ref:`PartStoreFactory<doxid-class_poco_1_1_net_1_1_part_store_factory>`* pStoreFactory = 0);

		// methods
	
		void
		:ref:`addRecipient<doxid-class_poco_1_1_net_1_1_mail_message_1ae9b291a7f5c16507de90734a78c9dfbb>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`MailRecipient<doxid-class_poco_1_1_net_1_1_mail_recipient>`& recipient);
	
		void
		:ref:`setRecipients<doxid-class_poco_1_1_net_1_1_mail_message_1ac98ddd6e9bf4e92b085b51d68e5cff24>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Recipients<doxid-class_poco_1_1_net_1_1_mail_message_1aad7f256245f9d92f657ea6cd1ae28ee0>`& recipient);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Recipients<doxid-class_poco_1_1_net_1_1_mail_message_1aad7f256245f9d92f657ea6cd1ae28ee0>`&
		:ref:`recipients<doxid-class_poco_1_1_net_1_1_mail_message_1ad0a532e36dd2bf0ff5941d414bde42e7>`() const;
	
		void
		:ref:`setSubject<doxid-class_poco_1_1_net_1_1_mail_message_1ad63183dda188d266beb4e87271114fd3>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& subject);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`getSubject<doxid-class_poco_1_1_net_1_1_mail_message_1a024b7213473f94e6220c46c168e944c4>`() const;
	
		void
		:ref:`setSender<doxid-class_poco_1_1_net_1_1_mail_message_1ad2eefdde731e871c8c9503d28ecc3bb3>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& sender);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`getSender<doxid-class_poco_1_1_net_1_1_mail_message_1a0148f126ff942e9102ea795a9dc38375>`() const;
	
		void
		:ref:`setContent<doxid-class_poco_1_1_net_1_1_mail_message_1ae2c33fac5541ab9981d16e61f68376e7>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& content,
			:ref:`ContentTransferEncoding<doxid-class_poco_1_1_net_1_1_mail_message_1addba32716c61a2d538b406ce0165e640>` encoding = :ref:`ENCODING_QUOTED_PRINTABLE<doxid-class_poco_1_1_net_1_1_mail_message_1addba32716c61a2d538b406ce0165e640aecd9b53295d72fb468e40e67ac524d9d>`
			);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`getContent<doxid-class_poco_1_1_net_1_1_mail_message_1aa3bb56af3294b45bbd10c7a57aecd6ba>`() const;
	
		void
		:ref:`setContentType<doxid-class_poco_1_1_net_1_1_mail_message_1a2d3295245c2f38b98821f90531ebdd6a>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& mediaType);
	
		void
		:ref:`setContentType<doxid-class_poco_1_1_net_1_1_mail_message_1a1b306d1cbc666ae9452a46f4bc2fe555>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` MediaType& mediaType);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`getContentType<doxid-class_poco_1_1_net_1_1_mail_message_1a22c3141077fc4fa60441e1405d1589dd>`() const;
	
		void
		:ref:`setDate<doxid-class_poco_1_1_net_1_1_mail_message_1a93353754cb07f02334dd0f5a704271d7>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Timestamp<doxid-class_poco_1_1_timestamp>`& dateTime);
	
		:ref:`Poco::Timestamp<doxid-class_poco_1_1_timestamp>`
		:ref:`getDate<doxid-class_poco_1_1_net_1_1_mail_message_1a6b532008435e0c561567e8ecae493fbe>`() const;
	
		bool
		:ref:`isMultipart<doxid-class_poco_1_1_net_1_1_mail_message_1a1177687a08c26bc2511f7b764b7d84c9>`() const;
	
		void
		:target:`addPart<doxid-class_poco_1_1_net_1_1_mail_message_1af7ed062dc23a648ceb64756a3d6b9f44>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name,
			:ref:`PartSource<doxid-class_poco_1_1_net_1_1_part_source>`* pSource,
			:ref:`ContentDisposition<doxid-class_poco_1_1_net_1_1_mail_message_1a0f031eb7b511d32fc24d2d4f575a5c99>` disposition,
			:ref:`ContentTransferEncoding<doxid-class_poco_1_1_net_1_1_mail_message_1addba32716c61a2d538b406ce0165e640>` encoding
			);
	
		void
		:target:`addContent<doxid-class_poco_1_1_net_1_1_mail_message_1aa7b18009495d07aae60f5cd83a705cea>`(
			:ref:`PartSource<doxid-class_poco_1_1_net_1_1_part_source>`* pSource,
			:ref:`ContentTransferEncoding<doxid-class_poco_1_1_net_1_1_mail_message_1addba32716c61a2d538b406ce0165e640>` encoding = :ref:`ENCODING_QUOTED_PRINTABLE<doxid-class_poco_1_1_net_1_1_mail_message_1addba32716c61a2d538b406ce0165e640aecd9b53295d72fb468e40e67ac524d9d>`
			);
	
		void
		:target:`addAttachment<doxid-class_poco_1_1_net_1_1_mail_message_1a7278060049cd20d65c129cd52e94941e>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name,
			:ref:`PartSource<doxid-class_poco_1_1_net_1_1_part_source>`* pSource,
			:ref:`ContentTransferEncoding<doxid-class_poco_1_1_net_1_1_mail_message_1addba32716c61a2d538b406ce0165e640>` encoding = :ref:`ENCODING_BASE64<doxid-class_poco_1_1_net_1_1_mail_message_1addba32716c61a2d538b406ce0165e640a4f9aa89b296c9840857d04037d8d1ec2>`
			);
	
		:ref:`PartSource<doxid-class_poco_1_1_net_1_1_part_source>`*
		:target:`createPartStore<doxid-class_poco_1_1_net_1_1_mail_message_1a8126077ae72b0d410dcb092d43efce71>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& content,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& mediaType,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& filename = ""
			);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`PartVec<doxid-class_poco_1_1_net_1_1_mail_message_1a7912923ec1f14c5811c344fb317e93d7>`&
		:ref:`parts<doxid-class_poco_1_1_net_1_1_mail_message_1a17836f7ec009858e543ab94a4f8718bd>`() const;
	
		void
		:ref:`read<doxid-class_poco_1_1_net_1_1_mail_message_1a865e73b893badfd8530a2a27bf26f372>`(
			std::istream& istr,
			:ref:`PartHandler<doxid-class_poco_1_1_net_1_1_part_handler>`& handler
			);
	
		virtual
		void
		:ref:`read<doxid-class_poco_1_1_net_1_1_mail_message_1adab222b2492eec5a8033dcf33db8c779>`(std::istream& istr);
	
		virtual
		void
		:ref:`write<doxid-class_poco_1_1_net_1_1_mail_message_1abf9276ab339ecc127a192036c7efa543>`(std::ostream& ostr) const;
	
		static
		std::string
		:ref:`encodeWord<doxid-class_poco_1_1_net_1_1_mail_message_1a807c461f00cf15e513f910dd08fef414>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& text,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& charset = "UTF-8"
			);

	protected:
		// methods
	
		void
		:target:`makeMultipart<doxid-class_poco_1_1_net_1_1_mail_message_1a6ef67d724e0f9e6927827aaed67f4a9a>`();
	
		void
		:target:`writeHeader<doxid-class_poco_1_1_net_1_1_mail_message_1ad259d3af89c1ddaf78c3b92862377516>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`MessageHeader<doxid-class_poco_1_1_net_1_1_message_header>`& header,
			std::ostream& ostr
			) const;
	
		void
		:target:`writeMultipart<doxid-class_poco_1_1_net_1_1_mail_message_1ad217298b7ea257c3a831abddefff1c3d>`(
			:ref:`MessageHeader<doxid-class_poco_1_1_net_1_1_message_header>`& header,
			std::ostream& ostr
			) const;
	
		void
		:target:`writePart<doxid-class_poco_1_1_net_1_1_mail_message_1a0f7be5846c599429c5fdbeb94a3ce120>`(
			:ref:`MultipartWriter<doxid-class_poco_1_1_net_1_1_multipart_writer>`& writer,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Part<doxid-struct_poco_1_1_net_1_1_mail_message_1_1_part>`& part
			) const;
	
		void
		:target:`writeEncoded<doxid-class_poco_1_1_net_1_1_mail_message_1a825aa24bc7dd965ca1cae45857876a43>`(
			std::istream& istr,
			std::ostream& ostr,
			:ref:`ContentTransferEncoding<doxid-class_poco_1_1_net_1_1_mail_message_1addba32716c61a2d538b406ce0165e640>` encoding
			) const;
	
		void
		:target:`setRecipientHeaders<doxid-class_poco_1_1_net_1_1_mail_message_1ae16bab084dd04979d67d6164314fb565>`(:ref:`MessageHeader<doxid-class_poco_1_1_net_1_1_message_header>`& headers) const;
	
		void
		:target:`readHeader<doxid-class_poco_1_1_net_1_1_mail_message_1af23eef8d6682ceb0e0aa233820e93875>`(std::istream& istr);
	
		void
		:target:`readMultipart<doxid-class_poco_1_1_net_1_1_mail_message_1ad61b380a14af91c90641dcea38d5c464>`(
			std::istream& istr,
			:ref:`PartHandler<doxid-class_poco_1_1_net_1_1_part_handler>`& handler
			);
	
		void
		:target:`readPart<doxid-class_poco_1_1_net_1_1_mail_message_1a16263f44a64ff000379fbdf85d342d3e>`(
			std::istream& istr,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`MessageHeader<doxid-class_poco_1_1_net_1_1_message_header>`& header,
			:ref:`PartHandler<doxid-class_poco_1_1_net_1_1_part_handler>`& handler
			);
	
		void
		:target:`handlePart<doxid-class_poco_1_1_net_1_1_mail_message_1a784a8b52101402e8561798a08210bd4c>`(
			std::istream& istr,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`MessageHeader<doxid-class_poco_1_1_net_1_1_message_header>`& header,
			:ref:`PartHandler<doxid-class_poco_1_1_net_1_1_part_handler>`& handler
			);
	
		static
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:target:`contentTransferEncodingToString<doxid-class_poco_1_1_net_1_1_mail_message_1a5eea47887cc0f52980f98dbc4855987b>`(:ref:`ContentTransferEncoding<doxid-class_poco_1_1_net_1_1_mail_message_1addba32716c61a2d538b406ce0165e640>` encoding);
	
		static
		int
		:target:`lineLength<doxid-class_poco_1_1_net_1_1_mail_message_1a47809ffb651d81ce5385f4b020532ffc>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& str);
	
		static
		void
		:target:`appendRecipient<doxid-class_poco_1_1_net_1_1_mail_message_1ad97dcd96e20eec60b1078820332c4cbf>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`MailRecipient<doxid-class_poco_1_1_net_1_1_mail_recipient>`& recipient,
			std::string& str
			);
	};

Inherited Members
-----------------

.. ref-code-block:: cpp
	:class: doxyrest-overview-inherited-code-block

	public:
		// typedefs
	
		typedef :ref:`Poco::ListMap<doxid-class_poco_1_1_list_map>`<std::string, std::string> :ref:`HeaderMap<doxid-class_poco_1_1_net_1_1_name_value_collection_1a889018fb1c0aae12c1e7de4b47389a7e>`;
		typedef :ref:`HeaderMap::Iterator<doxid-class_poco_1_1_list_map_1ac24980819d69f5d97fa815fe37ed0eb3>` :ref:`Iterator<doxid-class_poco_1_1_net_1_1_name_value_collection_1ac919f49e1d364d95eea68af7e4eb1617>`;
		typedef :ref:`HeaderMap::ConstIterator<doxid-class_poco_1_1_list_map_1aa63760ba80d6b2762e692f244ff180eb>` :ref:`ConstIterator<doxid-class_poco_1_1_net_1_1_name_value_collection_1a61f0e090f5550e4e4f6629f5717ab92f>`;

		// methods
	
		:ref:`NameValueCollection<doxid-class_poco_1_1_net_1_1_name_value_collection>`&
		:ref:`operator=<doxid-class_poco_1_1_net_1_1_name_value_collection_1acdcc7227132ff791e43d09d751d294fb>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`NameValueCollection<doxid-class_poco_1_1_net_1_1_name_value_collection>`& nvc);
	
		void
		:ref:`swap<doxid-class_poco_1_1_net_1_1_name_value_collection_1a215af88f41d3f58765b65103bd760919>`(:ref:`NameValueCollection<doxid-class_poco_1_1_net_1_1_name_value_collection>`& nvc);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`operator[]<doxid-class_poco_1_1_net_1_1_name_value_collection_1a7ef53b6192a14918496819280d25bff6>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name) const;
	
		void
		:ref:`set<doxid-class_poco_1_1_net_1_1_name_value_collection_1a319a17ee26c18f9e83f8d6485104689d>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& value
			);
	
		void
		:ref:`add<doxid-class_poco_1_1_net_1_1_name_value_collection_1a76e89d818b51c20841e5665487b62819>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& value
			);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`get<doxid-class_poco_1_1_net_1_1_name_value_collection_1a5294bc8a258aa595a8cc65815e8d0fbb>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name) const;
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`get<doxid-class_poco_1_1_net_1_1_name_value_collection_1a45e26a4bf08146aedf3067bdc207faff>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& defaultValue
			) const;
	
		bool
		:ref:`has<doxid-class_poco_1_1_net_1_1_name_value_collection_1a43d15e0244fa45ccaa8ae003aee2b9b8>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name) const;
	
		:ref:`ConstIterator<doxid-class_poco_1_1_net_1_1_name_value_collection_1a61f0e090f5550e4e4f6629f5717ab92f>`
		:ref:`find<doxid-class_poco_1_1_net_1_1_name_value_collection_1a591bbb5552626f58bcf1d1c463476110>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name) const;
	
		:ref:`ConstIterator<doxid-class_poco_1_1_net_1_1_name_value_collection_1a61f0e090f5550e4e4f6629f5717ab92f>`
		:ref:`begin<doxid-class_poco_1_1_net_1_1_name_value_collection_1a5406b45214d097281ee156c37c70341a>`() const;
	
		:ref:`ConstIterator<doxid-class_poco_1_1_net_1_1_name_value_collection_1a61f0e090f5550e4e4f6629f5717ab92f>`
		:ref:`end<doxid-class_poco_1_1_net_1_1_name_value_collection_1aa17a41875ec189a312d7353227f3a37f>`() const;
	
		bool
		:ref:`empty<doxid-class_poco_1_1_net_1_1_name_value_collection_1a28746ec396b429539754ad62e0f3e181>`() const;
	
		std::size_t
		:ref:`size<doxid-class_poco_1_1_net_1_1_name_value_collection_1a74d1b4eaf947b93117eb1c870a683195>`() const;
	
		void
		:ref:`erase<doxid-class_poco_1_1_net_1_1_name_value_collection_1abd0275666a498fc251ef56acfe70a43a>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name);
	
		void
		:ref:`clear<doxid-class_poco_1_1_net_1_1_name_value_collection_1a2cb59fd68c3c27f7d50634a1849d64c4>`();
	
		:ref:`MessageHeader<doxid-class_poco_1_1_net_1_1_message_header>`&
		:ref:`operator=<doxid-class_poco_1_1_net_1_1_message_header_1a8eb761b5720dacd8672f91e707f6e0c6>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`MessageHeader<doxid-class_poco_1_1_net_1_1_message_header>`& messageHeader);
	
		virtual
		void
		:ref:`write<doxid-class_poco_1_1_net_1_1_message_header_1a17d364fb83f557d453465a33143ef220>`(std::ostream& ostr) const;
	
		virtual
		void
		:ref:`read<doxid-class_poco_1_1_net_1_1_message_header_1aabf5802666bb656970cb2a44bd5f2e57>`(std::istream& istr);
	
		int
		:ref:`getFieldLimit<doxid-class_poco_1_1_net_1_1_message_header_1a90c47c2992a6444acb38f4333af6c014>`() const;
	
		void
		:ref:`setFieldLimit<doxid-class_poco_1_1_net_1_1_message_header_1a6bc78e56e2faa12781407fe2ef1f39f8>`(int limit);
	
		bool
		:ref:`hasToken<doxid-class_poco_1_1_net_1_1_message_header_1afc391d288b7d829ac47b6c3dbfff9e98>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& fieldName,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& token
			) const;
	
		static
		void
		:ref:`splitElements<doxid-class_poco_1_1_net_1_1_message_header_1a669e1ac2c689e9d7d454e54868ffb80b>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& s,
			std::vector<std::string>& elements,
			bool ignoreEmpty = true
			);
	
		static
		void
		:ref:`splitParameters<doxid-class_poco_1_1_net_1_1_message_header_1a73da407031c4cd73d62de3f52d10a675>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& s,
			std::string& value,
			:ref:`NameValueCollection<doxid-class_poco_1_1_net_1_1_name_value_collection>`& parameters
			);
	
		static
		void
		:ref:`splitParameters<doxid-class_poco_1_1_net_1_1_message_header_1af1a5c9177b17e6691ecb501a2e8bd4db>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string::const_iterator& begin,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string::const_iterator& end,
			:ref:`NameValueCollection<doxid-class_poco_1_1_net_1_1_name_value_collection>`& parameters
			);
	
		static
		void
		:ref:`quote<doxid-class_poco_1_1_net_1_1_message_header_1a54a24159534eb2122c91fde66af2533e>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& value,
			std::string& result,
			bool allowSpace = false
			);

.. _details-class_poco_1_1_net_1_1_mail_message:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

This class represents an e-mail message for use with the :ref:`SMTPClientSession <doxid-class_poco_1_1_net_1_1_s_m_t_p_client_session>` and POPClientSession classes.

:ref:`MailMessage <doxid-class_poco_1_1_net_1_1_mail_message>` supports both old-style plain text messages, as well as MIME multipart mail messages with attachments.

For multi-part messages, the following content transfer encodings are supported: 7bit, 8bit, quoted-printable and base64.

Construction
------------

.. index:: pair: function; MailMessage
.. _doxid-class_poco_1_1_net_1_1_mail_message_1ac662ddd0900ba667a36d0ab5b86aef2a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	MailMessage(:ref:`PartStoreFactory<doxid-class_poco_1_1_net_1_1_part_store_factory>`* pStoreFactory = 0)

Creates an empty :ref:`MailMessage <doxid-class_poco_1_1_net_1_1_mail_message>`.

If pStoreFactory is not null, message attachments will be handled by the object created by the factory. Most common reason is to temporarily save attachments to the file system in order to avoid potential memory exhaustion when attachment files are very large.

Methods
-------

.. index:: pair: function; addRecipient
.. _doxid-class_poco_1_1_net_1_1_mail_message_1ae9b291a7f5c16507de90734a78c9dfbb:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	addRecipient(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`MailRecipient<doxid-class_poco_1_1_net_1_1_mail_recipient>`& recipient)

Adds a recipient for the message.

.. index:: pair: function; setRecipients
.. _doxid-class_poco_1_1_net_1_1_mail_message_1ac98ddd6e9bf4e92b085b51d68e5cff24:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setRecipients(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Recipients<doxid-class_poco_1_1_net_1_1_mail_message_1aad7f256245f9d92f657ea6cd1ae28ee0>`& recipient)

Clears existing and sets new recipient list for the message.

.. index:: pair: function; recipients
.. _doxid-class_poco_1_1_net_1_1_mail_message_1ad0a532e36dd2bf0ff5941d414bde42e7:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Recipients<doxid-class_poco_1_1_net_1_1_mail_message_1aad7f256245f9d92f657ea6cd1ae28ee0>`&
	recipients() const

Returns the recipients of the message.

.. index:: pair: function; setSubject
.. _doxid-class_poco_1_1_net_1_1_mail_message_1ad63183dda188d266beb4e87271114fd3:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setSubject(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& subject)

Sets the subject of the message.

The subject must not contain any non-ASCII characters. To include non-ASCII characters in the subject, use RFC 2047 word encoding (see :ref:`encodeWord() <doxid-class_poco_1_1_net_1_1_mail_message_1a807c461f00cf15e513f910dd08fef414>`).

.. index:: pair: function; getSubject
.. _doxid-class_poco_1_1_net_1_1_mail_message_1a024b7213473f94e6220c46c168e944c4:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	getSubject() const

Returns the subject of the message.

.. index:: pair: function; setSender
.. _doxid-class_poco_1_1_net_1_1_mail_message_1ad2eefdde731e871c8c9503d28ecc3bb3:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setSender(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& sender)

Sets the sender of the message (which ends up in the From header field).

The sender must either be a valid email address, or a real name followed by an email address enclosed in < and >.

The sender must not contain any non-ASCII characters. To include non-ASCII characters in the sender, use RFC 2047 word encoding (see :ref:`encodeWord() <doxid-class_poco_1_1_net_1_1_mail_message_1a807c461f00cf15e513f910dd08fef414>`).

.. index:: pair: function; getSender
.. _doxid-class_poco_1_1_net_1_1_mail_message_1a0148f126ff942e9102ea795a9dc38375:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	getSender() const

Returns the sender of the message (taken from the From header field).

.. index:: pair: function; setContent
.. _doxid-class_poco_1_1_net_1_1_mail_message_1ae2c33fac5541ab9981d16e61f68376e7:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setContent(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& content,
		:ref:`ContentTransferEncoding<doxid-class_poco_1_1_net_1_1_mail_message_1addba32716c61a2d538b406ce0165e640>` encoding = :ref:`ENCODING_QUOTED_PRINTABLE<doxid-class_poco_1_1_net_1_1_mail_message_1addba32716c61a2d538b406ce0165e640aecd9b53295d72fb468e40e67ac524d9d>`
		)

Sets the content of the mail message.

If the content transfer encoding is ENCODING_7BIT or ENCODING_8BIT, the content string must be formatted according to the rules of an internet email message.

The message will be sent as a single-part message.

Note that single CR or LF characters as line delimiters must not be used. Content lines always should be terminated with a proper CRLF sequence.

.. index:: pair: function; getContent
.. _doxid-class_poco_1_1_net_1_1_mail_message_1aa3bb56af3294b45bbd10c7a57aecd6ba:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	getContent() const

Returns the content of the mail message.

A content will only be returned for single-part messages. The content of multi-part mail messages will be reported through the registered :ref:`PartHandler <doxid-class_poco_1_1_net_1_1_part_handler>`.

.. index:: pair: function; setContentType
.. _doxid-class_poco_1_1_net_1_1_mail_message_1a2d3295245c2f38b98821f90531ebdd6a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setContentType(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& mediaType)

Sets the content type for the message.

.. index:: pair: function; setContentType
.. _doxid-class_poco_1_1_net_1_1_mail_message_1a1b306d1cbc666ae9452a46f4bc2fe555:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setContentType(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` MediaType& mediaType)

Sets the content type for the message.

.. index:: pair: function; getContentType
.. _doxid-class_poco_1_1_net_1_1_mail_message_1a22c3141077fc4fa60441e1405d1589dd:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	getContentType() const

Returns the content type for the message.

.. index:: pair: function; setDate
.. _doxid-class_poco_1_1_net_1_1_mail_message_1a93353754cb07f02334dd0f5a704271d7:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setDate(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Timestamp<doxid-class_poco_1_1_timestamp>`& dateTime)

Sets the Date header to the given date/time value.

.. index:: pair: function; getDate
.. _doxid-class_poco_1_1_net_1_1_mail_message_1a6b532008435e0c561567e8ecae493fbe:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`Poco::Timestamp<doxid-class_poco_1_1_timestamp>`
	getDate() const

Returns the value of the Date header.

.. index:: pair: function; isMultipart
.. _doxid-class_poco_1_1_net_1_1_mail_message_1a1177687a08c26bc2511f7b764b7d84c9:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	isMultipart() const

Returns true iff the message is a multipart message.

.. index:: pair: function; parts
.. _doxid-class_poco_1_1_net_1_1_mail_message_1a17836f7ec009858e543ab94a4f8718bd:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`PartVec<doxid-class_poco_1_1_net_1_1_mail_message_1a7912923ec1f14c5811c344fb317e93d7>`&
	parts() const

Returns const reference to the vector containing part stores.

.. index:: pair: function; read
.. _doxid-class_poco_1_1_net_1_1_mail_message_1a865e73b893badfd8530a2a27bf26f372:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	read(
		std::istream& istr,
		:ref:`PartHandler<doxid-class_poco_1_1_net_1_1_part_handler>`& handler
		)

Reads the :ref:`MailMessage <doxid-class_poco_1_1_net_1_1_mail_message>` from the given input stream.

If the message has multiple parts, the parts are reported to the :ref:`PartHandler <doxid-class_poco_1_1_net_1_1_part_handler>`. If the message is not a multi-part message, the content is stored in a string available by calling :ref:`getContent() <doxid-class_poco_1_1_net_1_1_mail_message_1aa3bb56af3294b45bbd10c7a57aecd6ba>`.

.. index:: pair: function; read
.. _doxid-class_poco_1_1_net_1_1_mail_message_1adab222b2492eec5a8033dcf33db8c779:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	read(std::istream& istr)

Reads the :ref:`MailMessage <doxid-class_poco_1_1_net_1_1_mail_message>` from the given input stream.

The raw message (including all MIME parts) is stored in a string and available by calling :ref:`getContent() <doxid-class_poco_1_1_net_1_1_mail_message_1aa3bb56af3294b45bbd10c7a57aecd6ba>`.

.. index:: pair: function; write
.. _doxid-class_poco_1_1_net_1_1_mail_message_1abf9276ab339ecc127a192036c7efa543:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	write(std::ostream& ostr) const

Writes the mail message to the given output stream.

.. index:: pair: function; encodeWord
.. _doxid-class_poco_1_1_net_1_1_mail_message_1a807c461f00cf15e513f910dd08fef414:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	std::string
	encodeWord(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& text,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& charset = "UTF-8"
		)

If the given string contains non-ASCII characters, encodes the given string using RFC 2047 "Q" word encoding.

The given text must already be encoded in the character set given in charset (default is UTF-8).

Returns the encoded string, or the original string if it consists only of ASCII characters.

