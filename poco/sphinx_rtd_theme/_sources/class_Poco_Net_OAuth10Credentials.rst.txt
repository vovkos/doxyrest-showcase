.. index:: pair: class; Poco::Net::OAuth10Credentials
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials:

class Poco::Net::OAuth10Credentials
===================================

.. toctree::
	:hidden:

	enum_Poco_Net_OAuth10Credentials_SignatureMethod.rst

Overview
~~~~~~~~

This class implements OAuth 1.0A authentication for HTTP requests, according to RFC 5849. :ref:`More...<details-class_poco_1_1_net_1_1_o_auth10_credentials>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <OAuth10Credentials.h>
	
	class OAuth10Credentials
	{
	public:
		// enums
	
		enum :ref:`SignatureMethod<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a3736245c00618e4a7b90f1bd2b21b280>`;

		// fields
	
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`SCHEME<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a0c7d129470897b35fee228f6819d827a>`;

		// construction
	
		:ref:`OAuth10Credentials<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1ab0ad1efd4be335d204472ce434064090>`();
	
		:ref:`OAuth10Credentials<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a3d4a62c3c956f6288424d68db93e26b4>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& consumerKey,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& consumerSecret
			);
	
		:ref:`OAuth10Credentials<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a2057fc71d30ac696e7cbd0ffec6a0b50>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& consumerKey,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& consumerSecret,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& token,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& tokenSecret
			);
	
		:ref:`OAuth10Credentials<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a7c03a98498659931ee72007df9c67921>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request);

		// methods
	
		void
		:ref:`setConsumerKey<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1ab07b185cca59926ce8ac26d2715b6543>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& consumerKey);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`getConsumerKey<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a646725fe85ac78a341915e2830256e9f>`() const;
	
		void
		:ref:`setConsumerSecret<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a2d19f9113ba376048f4c21b51838fc24>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& consumerSecret);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`getConsumerSecret<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1ad6bb736c51b0402a3641b383c5ca0234>`() const;
	
		void
		:ref:`setToken<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a1256b311bd9b48e8d807f1fe202e8614>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& token);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`getToken<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a272a5cfe247217d9b32a57827ca15d1e>`() const;
	
		void
		:ref:`setTokenSecret<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a9505cdd92da934c7269727838bc934c5>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& tokenSecret);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`getTokenSecret<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a97b627000eebda336973cf4f960291dd>`() const;
	
		void
		:ref:`setRealm<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a7d1021cc9c374137eebe8d0ca1147486>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& realm);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`getRealm<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a14aa57be01a47204abf0949fb87a6d5c>`() const;
	
		void
		:ref:`setCallback<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a96f3ac50b364ed689e4406e2ae019a6d>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& uri);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`getCallback<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a493c7b98538ac9060947a208d6e1cf3d>`() const;
	
		void
		:ref:`authenticate<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a952c94d71c321d95a82e3f90a0151c7a>`(
			:ref:`HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::URI<doxid-class_poco_1_1_u_r_i>`& uri,
			:ref:`SignatureMethod<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a3736245c00618e4a7b90f1bd2b21b280>` method = :ref:`SIGN_HMAC_SHA1<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a3736245c00618e4a7b90f1bd2b21b280a44f4b99ca4d5153038ebf951d7cd6c20>`
			);
	
		void
		:ref:`authenticate<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1ae1d994189c6ce7061fd3280b7538b97f>`(
			:ref:`HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::URI<doxid-class_poco_1_1_u_r_i>`& uri,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Net::HTMLForm<doxid-class_poco_1_1_net_1_1_h_t_m_l_form>`& params,
			:ref:`SignatureMethod<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a3736245c00618e4a7b90f1bd2b21b280>` method = :ref:`SIGN_HMAC_SHA1<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a3736245c00618e4a7b90f1bd2b21b280a44f4b99ca4d5153038ebf951d7cd6c20>`
			);
	
		bool
		:ref:`verify<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a73d8fcd7842a224fdf4e3ec0f0276cb0>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::URI<doxid-class_poco_1_1_u_r_i>`& uri
			);
	
		bool
		:ref:`verify<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a664a66deb1038e7f479fe7104f3a6606>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::URI<doxid-class_poco_1_1_u_r_i>`& uri,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Net::HTMLForm<doxid-class_poco_1_1_net_1_1_h_t_m_l_form>`& params
			);
	
		void
		:ref:`nonceAndTimestampForTesting<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a863fc3e2e63d6bdf55b1ccbf2eb79f25>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& nonce,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& timestamp
			);

	protected:
		// methods
	
		void
		:ref:`signPlaintext<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a39f42e6dcfc688717a374ea71b122e47>`(:ref:`Poco::Net::HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request) const;
	
		void
		:ref:`signHMACSHA1<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a400bded51d99e44b42c8a2091b92cabf>`(
			:ref:`Poco::Net::HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& uri,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Net::HTMLForm<doxid-class_poco_1_1_net_1_1_h_t_m_l_form>`& params
			) const;
	
		std::string
		:ref:`createNonce<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1ab4b2023350391e1e8bdf5c0ba2d9967c>`() const;
	
		std::string
		:ref:`createSignature<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a418d3aa66612f790e91c48c5bfc26049>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Net::HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& uri,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Net::HTMLForm<doxid-class_poco_1_1_net_1_1_h_t_m_l_form>`& params,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& nonce,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& timestamp
			) const;
	
		static
		std::string
		:ref:`percentEncode<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1ae07b94f61937cf5b957862a5968a2a01>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& str);
	};
.. _details-class_poco_1_1_net_1_1_o_auth10_credentials:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

This class implements OAuth 1.0A authentication for HTTP requests, according to RFC 5849.

Only PLAINTEXT and HMAC-SHA1 signature methods are supported. The RSA-SHA1 signature method is not supported.

The :ref:`OAuth10Credentials <doxid-class_poco_1_1_net_1_1_o_auth10_credentials>` can be used to sign a client request, as well as to verify the signature of a request on the server.

To sign a client request, using a known consumer (client) key, consumer (client) secret, OAuth token and token secret:

.. ref-code-block:: cpp

	1. Create an OAuth10Credentials object using all four credentials, either using
	   the four argument constructor, or by using the default constructor and setting
	   the credentials using the setter methods.
	2. Create a URI containing the full request URI.
	3. Create an appropriate HTTPRequest object.
	4. Optionally, create a HTMLForm object containing additional parameters to sign.
	5. Sign the request by calling authenticate(). This will add an OAuth
	   Authorization header to the request.
	6. Send the request using a HTTPClientSession.

To request the OAuth request token from a server, using only the consumer (client) key and consumer (client) secret:

.. ref-code-block:: cpp

	1. Create an OAuth10Credentials object using the two consumer credentials, either using
	   the two argument constructor, or by using the default constructor and setting
	   the credentials using the setter methods.
	2. Specify the callback URI using setCallback().
	3. Create a URI containing the full request URI to obtain the token.
	4. Create an appropriate HTTPRequest object.
	5. Sign the request by calling authenticate(). This will add an OAuth
	   Authorization header to the request.
	6. Send the request using a HTTPClientSession.
	7. The response will contain the request token and request token secret.
	   These can be extracted from the response body using a HTMLForm object.

Requesting the access token and secret (temporary credentials) from the server is analogous to signing a client request using consumer key, consumer secret, request token and request token secret. The server response will contain the access token and access token secret, which can again be extracted from the response body using a :ref:`HTMLForm <doxid-class_poco_1_1_net_1_1_h_t_m_l_form>` object.

To verify a request on the server:

.. ref-code-block:: cpp

	1. Create an OAuth10Credentials object using the constructor taking a
	   HTTPRequest object. This will extract the consumer key and token (if
	   provided).
	2. Provide the consumer secret and token secret (if required) matching the
	   consumer key and token to the OAuth10Credentials object using the 
	   setter methods.
	3. Create an URI object containing the full request URI.
	4. Call verify() to verify the signature.
	5. If verification was successful, and the request was a request for
	   a request (temporary) token, call getCallback() to
	   obtain the callback URI provided by the client.

Construction
------------

.. index:: pair: function; OAuth10Credentials
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1ab0ad1efd4be335d204472ce434064090:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	OAuth10Credentials()

Creates an empty :ref:`OAuth10Credentials <doxid-class_poco_1_1_net_1_1_o_auth10_credentials>` object.

.. index:: pair: function; OAuth10Credentials
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a3d4a62c3c956f6288424d68db93e26b4:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	OAuth10Credentials(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& consumerKey,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& consumerSecret
		)

Creates an :ref:`OAuth10Credentials <doxid-class_poco_1_1_net_1_1_o_auth10_credentials>` object with the given consumer key and consumer secret.

The token and tokenSecret will be left empty.

.. index:: pair: function; OAuth10Credentials
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a2057fc71d30ac696e7cbd0ffec6a0b50:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	OAuth10Credentials(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& consumerKey,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& consumerSecret,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& token,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& tokenSecret
		)

Creates an :ref:`OAuth10Credentials <doxid-class_poco_1_1_net_1_1_o_auth10_credentials>` object with the given consumer key and consumer secret, as well as token and token secret.

.. index:: pair: function; OAuth10Credentials
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a7c03a98498659931ee72007df9c67921:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	OAuth10Credentials(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request)

Creates an :ref:`OAuth10Credentials <doxid-class_poco_1_1_net_1_1_o_auth10_credentials>` object from a :ref:`HTTPRequest <doxid-class_poco_1_1_net_1_1_h_t_t_p_request>` object.

Extracts consumer key and token (if available) from the Authorization header.

Throws a NotAuthenticatedException if the request does not contain OAuth 1.0 credentials.

Methods
-------

.. index:: pair: function; setConsumerKey
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1ab07b185cca59926ce8ac26d2715b6543:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setConsumerKey(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& consumerKey)

Sets the consumer key.

.. index:: pair: function; getConsumerKey
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a646725fe85ac78a341915e2830256e9f:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	getConsumerKey() const

Returns the consumer key.

.. index:: pair: function; setConsumerSecret
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a2d19f9113ba376048f4c21b51838fc24:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setConsumerSecret(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& consumerSecret)

Sets the consumer secret.

.. index:: pair: function; getConsumerSecret
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1ad6bb736c51b0402a3641b383c5ca0234:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	getConsumerSecret() const

Returns the consumer secret.

.. index:: pair: function; setToken
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a1256b311bd9b48e8d807f1fe202e8614:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setToken(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& token)

Sets the token.

.. index:: pair: function; getToken
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a272a5cfe247217d9b32a57827ca15d1e:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	getToken() const

Returns the token.

.. index:: pair: function; setTokenSecret
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a9505cdd92da934c7269727838bc934c5:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setTokenSecret(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& tokenSecret)

Sets the token.

.. index:: pair: function; getTokenSecret
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a97b627000eebda336973cf4f960291dd:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	getTokenSecret() const

Returns the token secret.

.. index:: pair: function; setRealm
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a7d1021cc9c374137eebe8d0ca1147486:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setRealm(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& realm)

Sets the optional realm to be included in the Authorization header.

.. index:: pair: function; getRealm
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a14aa57be01a47204abf0949fb87a6d5c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	getRealm() const

Returns the optional realm to be included in the Authorization header.

.. index:: pair: function; setCallback
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a96f3ac50b364ed689e4406e2ae019a6d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setCallback(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& uri)

Sets the callback :ref:`URI <doxid-class_poco_1_1_u_r_i>`.

.. index:: pair: function; getCallback
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a493c7b98538ac9060947a208d6e1cf3d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	getCallback() const

Returns the callback :ref:`URI <doxid-class_poco_1_1_u_r_i>`.

.. index:: pair: function; authenticate
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a952c94d71c321d95a82e3f90a0151c7a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	authenticate(
		:ref:`HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::URI<doxid-class_poco_1_1_u_r_i>`& uri,
		:ref:`SignatureMethod<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a3736245c00618e4a7b90f1bd2b21b280>` method = :ref:`SIGN_HMAC_SHA1<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a3736245c00618e4a7b90f1bd2b21b280a44f4b99ca4d5153038ebf951d7cd6c20>`
		)

Adds an OAuth 1.0A Authentication header to the given request, using the given signature method.

.. index:: pair: function; authenticate
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1ae1d994189c6ce7061fd3280b7538b97f:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	authenticate(
		:ref:`HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::URI<doxid-class_poco_1_1_u_r_i>`& uri,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Net::HTMLForm<doxid-class_poco_1_1_net_1_1_h_t_m_l_form>`& params,
		:ref:`SignatureMethod<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a3736245c00618e4a7b90f1bd2b21b280>` method = :ref:`SIGN_HMAC_SHA1<doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a3736245c00618e4a7b90f1bd2b21b280a44f4b99ca4d5153038ebf951d7cd6c20>`
		)

Adds an OAuth 1.0A Authentication header to the given request, using the given signature method.

.. index:: pair: function; verify
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a73d8fcd7842a224fdf4e3ec0f0276cb0:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	verify(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::URI<doxid-class_poco_1_1_u_r_i>`& uri
		)

Verifies the signature of the given request.

The consumer key, consumer secret, token and token secret must have been set.

Returns true if the signature is valid, otherwise false.

Throws a NotAuthenticatedException if the request does not contain OAuth credentials, or in case of an unsupported OAuth version or signature method.

.. index:: pair: function; verify
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a664a66deb1038e7f479fe7104f3a6606:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	verify(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::URI<doxid-class_poco_1_1_u_r_i>`& uri,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Net::HTMLForm<doxid-class_poco_1_1_net_1_1_h_t_m_l_form>`& params
		)

Verifies the signature of the given request.

The consumer key, consumer secret, token and token secret must have been set.

Returns true if the signature is valid, otherwise false.

Throws a NotAuthenticatedException if the request does not contain OAuth credentials, or in case of an unsupported OAuth version or signature method.

.. index:: pair: function; nonceAndTimestampForTesting
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a863fc3e2e63d6bdf55b1ccbf2eb79f25:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	nonceAndTimestampForTesting(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& nonce,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& timestamp
		)

Sets the nonce and timestamp to a wellknown value.

For use by testsuite only, to test the signature algorithm with wellknown inputs.

In normal operation, the nonce is a random value computed by :ref:`createNonce() <doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1ab4b2023350391e1e8bdf5c0ba2d9967c>` and the timestamp is taken from the system time.

.. index:: pair: function; signPlaintext
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a39f42e6dcfc688717a374ea71b122e47:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	signPlaintext(:ref:`Poco::Net::HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request) const

Signs the given HTTP request according to OAuth 1.0A PLAINTEXT signature method.

.. index:: pair: function; signHMACSHA1
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a400bded51d99e44b42c8a2091b92cabf:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	signHMACSHA1(
		:ref:`Poco::Net::HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& uri,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Net::HTMLForm<doxid-class_poco_1_1_net_1_1_h_t_m_l_form>`& params
		) const

Signs the given HTTP request according to OAuth 1.0A HMAC-SHA1 signature method.

.. index:: pair: function; createNonce
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1ab4b2023350391e1e8bdf5c0ba2d9967c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	std::string
	createNonce() const

Creates a nonce, which is basically a Base64-encoded 32 character random string, with non-alphanumeric characters removed.

.. index:: pair: function; createSignature
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1a418d3aa66612f790e91c48c5bfc26049:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	std::string
	createSignature(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Net::HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& uri,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Net::HTMLForm<doxid-class_poco_1_1_net_1_1_h_t_m_l_form>`& params,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& nonce,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& timestamp
		) const

Creates a OAuth signature for the given request and its parameters, according to `https://dev.twitter.com/docs/auth/creating-signature <https://dev.twitter.com/docs/auth/creating-signature>`__.

.. index:: pair: function; percentEncode
.. _doxid-class_poco_1_1_net_1_1_o_auth10_credentials_1ae07b94f61937cf5b957862a5968a2a01:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	std::string
	percentEncode(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& str)

Percent-encodes the given string according to Twitter API's rules, given in `https://dev.twitter.com/docs/auth/percent-encoding-parameters <https://dev.twitter.com/docs/auth/percent-encoding-parameters>`__.

