.. index:: pair: class; Poco::Net::OAuth20Credentials
.. _doxid-class_poco_1_1_net_1_1_o_auth20_credentials:

class Poco::Net::OAuth20Credentials
===================================

.. toctree::
	:hidden:

Overview
~~~~~~~~

This class implements OAuth 2.0 authentication for HTTP requests, via Bearer tokens in the Authorization header, according to RFC 6749 and RFC 6750. :ref:`More...<details-class_poco_1_1_net_1_1_o_auth20_credentials>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <OAuth20Credentials.h>
	
	class OAuth20Credentials
	{
	public:
		// fields
	
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`SCHEME<doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1a8a15c17b4d0ba5c7c6691adecb7ed0a5>`;

		// construction
	
		:ref:`OAuth20Credentials<doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1ae57309f5dc675f4d48f6645d7bb45d06>`();
		:ref:`OAuth20Credentials<doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1a288590d384a21f948be9d04a3eac34aa>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& bearerToken);
	
		:ref:`OAuth20Credentials<doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1a55f67b0a531a69b586c4de3315771fdc>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& bearerToken,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& scheme
			);
	
		:ref:`OAuth20Credentials<doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1a9787ea5f5489e11652282cc795d3a50b>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request);
	
		:ref:`OAuth20Credentials<doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1ae1159b2424ba9ce55438b6ad13e10cfd>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& scheme
			);

		// methods
	
		void
		:ref:`setBearerToken<doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1a15ef4147f3f97f506c7e38c648a86c1e>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& bearerToken);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`getBearerToken<doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1ae3b657deea475ecbb6306c58dbdb16f7>`() const;
	
		void
		:ref:`setScheme<doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1a32ff8b0d82332c5346d866244269fad9>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& scheme);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`getScheme<doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1a44443e017ace837bb026394ad6cbdc23>`() const;
	
		void
		:ref:`authenticate<doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1a4747627648320f5eba59c6ca64747c3d>`(:ref:`HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request);

	protected:
		// methods
	
		void
		:ref:`extractBearerToken<doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1a45559ed2696c54f7db1a76e3c87b1a82>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request);
	};
.. _details-class_poco_1_1_net_1_1_o_auth20_credentials:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

This class implements OAuth 2.0 authentication for HTTP requests, via Bearer tokens in the Authorization header, according to RFC 6749 and RFC 6750.

To add an Authorization header containing a bearer token to a :ref:`HTTPRequest <doxid-class_poco_1_1_net_1_1_h_t_t_p_request>` object, create an :ref:`OAuth20Credentials <doxid-class_poco_1_1_net_1_1_o_auth20_credentials>` object with the bearer token and call :ref:`authenticate() <doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1a4747627648320f5eba59c6ca64747c3d>`.

The bearer token can also be extracted from a :ref:`HTTPRequest <doxid-class_poco_1_1_net_1_1_h_t_t_p_request>` by creating the :ref:`OAuth20Credentials <doxid-class_poco_1_1_net_1_1_o_auth20_credentials>` object with a :ref:`HTTPRequest <doxid-class_poco_1_1_net_1_1_h_t_t_p_request>` object containing a "Bearer" Authorization header and calling :ref:`getBearerToken() <doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1ae3b657deea475ecbb6306c58dbdb16f7>`.

The authorization header scheme can be changed from "Bearer" to a custom value. For example, GitHub uses the "token" scheme.

Construction
------------

.. index:: pair: function; OAuth20Credentials
.. _doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1ae57309f5dc675f4d48f6645d7bb45d06:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	OAuth20Credentials()

Creates an empty :ref:`OAuth20Credentials <doxid-class_poco_1_1_net_1_1_o_auth20_credentials>` object.

.. index:: pair: function; OAuth20Credentials
.. _doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1a288590d384a21f948be9d04a3eac34aa:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	OAuth20Credentials(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& bearerToken)

Creates an :ref:`OAuth20Credentials <doxid-class_poco_1_1_net_1_1_o_auth20_credentials>` object with the given bearer token.

.. index:: pair: function; OAuth20Credentials
.. _doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1a55f67b0a531a69b586c4de3315771fdc:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	OAuth20Credentials(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& bearerToken,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& scheme
		)

Creates an :ref:`OAuth20Credentials <doxid-class_poco_1_1_net_1_1_o_auth20_credentials>` object with the given bearer token and authorization scheme, which overrides the default scheme ("Bearer").

This is useful for services like GitHub, which use "token" as scheme.

.. index:: pair: function; OAuth20Credentials
.. _doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1a9787ea5f5489e11652282cc795d3a50b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	OAuth20Credentials(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request)

Creates an :ref:`OAuth20Credentials <doxid-class_poco_1_1_net_1_1_o_auth20_credentials>` object from a :ref:`HTTPRequest <doxid-class_poco_1_1_net_1_1_h_t_t_p_request>` object.

Extracts bearer token from the Authorization header, which must use the "Bearer" authorization scheme.

Throws a NotAuthenticatedException if the request does not contain a bearer token in the Authorization header.

.. index:: pair: function; OAuth20Credentials
.. _doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1ae1159b2424ba9ce55438b6ad13e10cfd:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	OAuth20Credentials(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& scheme
		)

Creates an :ref:`OAuth20Credentials <doxid-class_poco_1_1_net_1_1_o_auth20_credentials>` object from a :ref:`HTTPRequest <doxid-class_poco_1_1_net_1_1_h_t_t_p_request>` object.

Extracts bearer token from the Authorization header, which must use the given authorization scheme.

Throws a NotAuthenticatedException if the request does not contain a bearer token in the Authorization header.

Methods
-------

.. index:: pair: function; setBearerToken
.. _doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1a15ef4147f3f97f506c7e38c648a86c1e:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setBearerToken(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& bearerToken)

Sets the bearer token.

.. index:: pair: function; getBearerToken
.. _doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1ae3b657deea475ecbb6306c58dbdb16f7:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	getBearerToken() const

Returns the bearer token.

.. index:: pair: function; setScheme
.. _doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1a32ff8b0d82332c5346d866244269fad9:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setScheme(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& scheme)

Sets the Authorization header scheme.

.. index:: pair: function; getScheme
.. _doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1a44443e017ace837bb026394ad6cbdc23:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	getScheme() const

Returns the Authorization header scheme.

.. index:: pair: function; authenticate
.. _doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1a4747627648320f5eba59c6ca64747c3d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	authenticate(:ref:`HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request)

Adds an Authorization header containing the bearer token to the :ref:`HTTPRequest <doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`.

.. index:: pair: function; extractBearerToken
.. _doxid-class_poco_1_1_net_1_1_o_auth20_credentials_1a45559ed2696c54f7db1a76e3c87b1a82:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	extractBearerToken(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`HTTPRequest<doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`& request)

Extracts the bearer token from the :ref:`HTTPRequest <doxid-class_poco_1_1_net_1_1_h_t_t_p_request>`.

