.. index:: pair: class; Poco::Net::RemoteSyslogListener
.. _doxid-class_poco_1_1_net_1_1_remote_syslog_listener:

class Poco::Net::RemoteSyslogListener
=====================================

.. toctree::
	:hidden:

Overview
~~~~~~~~

:ref:`RemoteSyslogListener <doxid-class_poco_1_1_net_1_1_remote_syslog_listener>` implements listening for syslog messages sent over UDP, according to RFC 5424 "The Syslog Protocol" and RFC 5426 "Transmission of syslog messages over UDP". :ref:`More...<details-class_poco_1_1_net_1_1_remote_syslog_listener>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <RemoteSyslogListener.h>
	
	class RemoteSyslogListener: public :ref:`Poco::SplitterChannel<doxid-class_poco_1_1_splitter_channel>`
	{
	public:
		// fields
	
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`PROP_PORT<doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1a21ec2ab7629d3dcdbe2dd6104561bef9>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`PROP_THREADS<doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1ae0d3616a7f62fda533f3ae2393f8a74d>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`LOG_PROP_APP<doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1a69888318df6c9fefba75a4cf0171e9a4>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`LOG_PROP_HOST<doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1a6b20e7f6df9c02a0c488c2027ed4a288>`;

		// construction
	
		:ref:`RemoteSyslogListener<doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1aba4b349a06fbd90954d2319ce5321f4b>`();
		:ref:`RemoteSyslogListener<doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1a96ea6c9ec5b9741f584cbae28389db19>`(Poco::UInt16 port);
	
		:ref:`RemoteSyslogListener<doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1a6976b0478efabbe1f92090275b1af6e3>`(
			Poco::UInt16 port,
			int threads
			);

		// methods
	
		virtual
		void
		:ref:`setProperty<doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1a03fafd917c8b5f0940729c4e7cc7df57>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& value
			);
	
		virtual
		std::string
		:ref:`getProperty<doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1a5a070f02adf5436d8d61cee0246a600b>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name) const;
	
		virtual
		void
		:ref:`open<doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1a786d96b7c5576cdbd33b9e02fe85bff8>`();
	
		virtual
		void
		:ref:`close<doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1a1751f04b7c984e8961ec6b9ae4481427>`();
	
		void
		:ref:`processMessage<doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1a95b2a2faa2f3b6522d45fb25e084b33a>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& messageText);
	
		void
		:ref:`enqueueMessage<doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1a0033eb7f606bf4a75e53d6c26c935252>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& messageText,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Net::SocketAddress<doxid-class_poco_1_1_net_1_1_socket_address>`& senderAddress
			);
	
		static
		void
		:ref:`registerChannel<doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1a06b28f3494b5d3bc3f504e3c87ee52d0>`();
	};

Inherited Members
-----------------

.. ref-code-block:: cpp
	:class: doxyrest-overview-inherited-code-block

	public:
		// methods
	
		virtual
		void
		:ref:`setProperty<doxid-class_poco_1_1_configurable_1ae31289819bd01f4a1bda0be67144d5bf>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& value
			) = 0;
	
		virtual
		std::string
		:ref:`getProperty<doxid-class_poco_1_1_configurable_1a565940a99f096c005743a68040ca5e25>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name) const = 0;
	
		void
		:ref:`duplicate<doxid-class_poco_1_1_ref_counted_object_1a13296da57127169ed0709b3dde86bf0d>`() const;
	
		void
		:ref:`release<doxid-class_poco_1_1_ref_counted_object_1a14bf204923a6ba4b97df6f8fdb9deb72>`() const;
	
		int
		:ref:`referenceCount<doxid-class_poco_1_1_ref_counted_object_1a45b62ccd833bcb06055399c2d889eb35>`() const;
	
		virtual
		void
		:ref:`open<doxid-class_poco_1_1_channel_1aef60226200d2e287068a62d9af5a4f6e>`();
	
		virtual
		void
		:ref:`close<doxid-class_poco_1_1_channel_1a2056a173f804c51411942649bd4d6408>`();
	
		virtual
		void
		:ref:`log<doxid-class_poco_1_1_channel_1aeafdcc5ce2e0e38d96f15a60a563da4e>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Message<doxid-class_poco_1_1_message>`& msg) = 0;
	
		virtual
		void
		:ref:`setProperty<doxid-class_poco_1_1_channel_1a67c2a274e476745b902ced03fb485c6e>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& value
			);
	
		virtual
		std::string
		:ref:`getProperty<doxid-class_poco_1_1_channel_1a187321f59674dfde457599885a4f6ec0>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name) const;
	
		void
		:ref:`addChannel<doxid-class_poco_1_1_splitter_channel_1a84809fef594d920c47fb3df1411e7ce2>`(:ref:`Channel<doxid-class_poco_1_1_channel>`* pChannel);
	
		void
		:ref:`removeChannel<doxid-class_poco_1_1_splitter_channel_1a5025fdd12dae9e15a2af90d0c6e93da9>`(:ref:`Channel<doxid-class_poco_1_1_channel>`* pChannel);
	
		virtual
		void
		:ref:`log<doxid-class_poco_1_1_splitter_channel_1afe2c7b266faea535387d3fb928b4e5b7>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Message<doxid-class_poco_1_1_message>`& msg);
	
		virtual
		void
		:ref:`setProperty<doxid-class_poco_1_1_splitter_channel_1ab95fe91e054b42a77975c10335b588d0>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& value
			);
	
		virtual
		void
		:ref:`close<doxid-class_poco_1_1_splitter_channel_1aeae8ef6e64f6a3a130cb6e33ef8458b6>`();
	
		int
		:ref:`count<doxid-class_poco_1_1_splitter_channel_1a3d61f0bfdea956bc4a8e317b0d40d266>`() const;

.. _details-class_poco_1_1_net_1_1_remote_syslog_listener:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

:ref:`RemoteSyslogListener <doxid-class_poco_1_1_net_1_1_remote_syslog_listener>` implements listening for syslog messages sent over UDP, according to RFC 5424 "The Syslog Protocol" and RFC 5426 "Transmission of syslog messages over UDP".

In addition, :ref:`RemoteSyslogListener <doxid-class_poco_1_1_net_1_1_remote_syslog_listener>` also supports the "old" BSD syslog protocol, as described in RFC 3164.

The :ref:`RemoteSyslogListener <doxid-class_poco_1_1_net_1_1_remote_syslog_listener>` is a subclass of :ref:`Poco::SplitterChannel <doxid-class_poco_1_1_splitter_channel>`. Every received log message is sent to the channels registered with :ref:`addChannel() <doxid-class_poco_1_1_splitter_channel_1a84809fef594d920c47fb3df1411e7ce2>` or the "channel" property.

:ref:`Poco::Message <doxid-class_poco_1_1_message>` objects created by :ref:`RemoteSyslogListener <doxid-class_poco_1_1_net_1_1_remote_syslog_listener>` will have the following named parameters:

.. ref-code-block:: cpp

	- addr: IP address of the host/interface sending the message.
	- host: host name; only for "new" syslog messages.
	- app:  application name; only for "new" syslog messages.

Construction
------------

.. index:: pair: function; RemoteSyslogListener
.. _doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1aba4b349a06fbd90954d2319ce5321f4b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	RemoteSyslogListener()

Creates the :ref:`RemoteSyslogListener <doxid-class_poco_1_1_net_1_1_remote_syslog_listener>`.

.. index:: pair: function; RemoteSyslogListener
.. _doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1a96ea6c9ec5b9741f584cbae28389db19:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	RemoteSyslogListener(Poco::UInt16 port)

Creates the :ref:`RemoteSyslogListener <doxid-class_poco_1_1_net_1_1_remote_syslog_listener>`, listening on the given port number.

.. index:: pair: function; RemoteSyslogListener
.. _doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1a6976b0478efabbe1f92090275b1af6e3:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	RemoteSyslogListener(
		Poco::UInt16 port,
		int threads
		)

Creates the :ref:`RemoteSyslogListener <doxid-class_poco_1_1_net_1_1_remote_syslog_listener>`, listening on the given port number and using the number of threads for message processing.

Methods
-------

.. index:: pair: function; setProperty
.. _doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1a03fafd917c8b5f0940729c4e7cc7df57:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	setProperty(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& value
		)

Sets the property with the given value.

The following properties are supported:

.. ref-code-block:: cpp

	* port: The UDP port number where to listen for UDP packets
	  containing syslog messages. If 0 is specified, does not
	  listen for UDP messages.
	* threads: The number of parser threads processing
	  received syslog messages. Defaults to 1. A maximum
	  of 16 threads is supported.

.. index:: pair: function; getProperty
.. _doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1a5a070f02adf5436d8d61cee0246a600b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	std::string
	getProperty(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name) const

Returns the value of the property with the given name.

.. index:: pair: function; open
.. _doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1a786d96b7c5576cdbd33b9e02fe85bff8:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	open()

Starts the listener.

.. index:: pair: function; close
.. _doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1a1751f04b7c984e8961ec6b9ae4481427:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	close()

Stops the listener.

.. index:: pair: function; processMessage
.. _doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1a95b2a2faa2f3b6522d45fb25e084b33a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	processMessage(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& messageText)

Parses a single line of text containing a syslog message and sends it down the filter chain.

.. index:: pair: function; enqueueMessage
.. _doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1a0033eb7f606bf4a75e53d6c26c935252:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	enqueueMessage(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& messageText,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Net::SocketAddress<doxid-class_poco_1_1_net_1_1_socket_address>`& senderAddress
		)

Enqueues a single line of text containing a syslog message for asynchronous processing by a parser thread.

.. index:: pair: function; registerChannel
.. _doxid-class_poco_1_1_net_1_1_remote_syslog_listener_1a06b28f3494b5d3bc3f504e3c87ee52d0:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	void
	registerChannel()

Registers the channel with the global :ref:`LoggingFactory <doxid-class_poco_1_1_logging_factory>`.

