.. index:: pair: class; Poco::Net::Socket
.. _doxid-class_poco_1_1_net_1_1_socket:

class Poco::Net::Socket
=======================

.. toctree::
	:hidden:

	enum_Poco_Net_Socket_SelectMode.rst

Overview
~~~~~~~~

:ref:`Socket <doxid-class_poco_1_1_net_1_1_socket>` is the common base class for :ref:`StreamSocket <doxid-class_poco_1_1_net_1_1_stream_socket>`, :ref:`ServerSocket <doxid-class_poco_1_1_net_1_1_server_socket>`, :ref:`DatagramSocket <doxid-class_poco_1_1_net_1_1_datagram_socket>` and other socket classes. :ref:`More...<details-class_poco_1_1_net_1_1_socket>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <Socket.h>
	
	class Socket
	{
	public:
		// typedefs
	
		typedef std::vector<Socket> :target:`SocketList<doxid-class_poco_1_1_net_1_1_socket_1a315ed5b3dc1d380eaa8a7ac72c249dfe>`;

		// enums
	
		enum :ref:`SelectMode<doxid-class_poco_1_1_net_1_1_socket_1a4f2719a7b9af7039b8081636e5e2fc67>`;

		// construction
	
		:ref:`Socket<doxid-class_poco_1_1_net_1_1_socket_1a988b274bd25f95b35e4efe67c75402e4>`();
		:ref:`Socket<doxid-class_poco_1_1_net_1_1_socket_1a1de53613620462c200615cfaa69a5f55>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Socket& socket);

		// methods
	
		Socket&
		:ref:`operator=<doxid-class_poco_1_1_net_1_1_socket_1af9a8696aa734348dc92fe9ae048651af>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Socket& socket);
	
		bool
		:ref:`operator==<doxid-class_poco_1_1_net_1_1_socket_1a380e206bef3f6861e175384a93d23516>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Socket& socket) const;
	
		bool
		:ref:`operator!=<doxid-class_poco_1_1_net_1_1_socket_1ae08fbe96cfea9be3e9d51e2708110867>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Socket& socket) const;
	
		bool
		:ref:`operator<<doxid-class_poco_1_1_net_1_1_socket_1a606f0afdfaea73d9b34c4b4f778dcb44>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Socket& socket) const;
	
		bool
		:ref:`operator<=<doxid-class_poco_1_1_net_1_1_socket_1a0c807b51985702536be2afe8ccdfc3fb>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Socket& socket) const;
	
		bool
		:ref:`operator><doxid-class_poco_1_1_net_1_1_socket_1aa2210ca68e5ffa16388f414af3fe580d>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Socket& socket) const;
	
		bool
		:ref:`operator>=<doxid-class_poco_1_1_net_1_1_socket_1a2f3ae39578712d7e06c5c8b545d1b9fe>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Socket& socket) const;
	
		void
		:ref:`close<doxid-class_poco_1_1_net_1_1_socket_1ab29f65f9263a1cc48e641b1e41134ff1>`();
	
		bool
		:ref:`poll<doxid-class_poco_1_1_net_1_1_socket_1ad2cf208c0ce3eb1bcc50ca8c27d24e4a>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`& timeout,
			int mode
			) const;
	
		int
		:ref:`available<doxid-class_poco_1_1_net_1_1_socket_1afbe4bee1dc9e37420606c2be412debb9>`() const;
	
		void
		:ref:`setSendBufferSize<doxid-class_poco_1_1_net_1_1_socket_1a473e73c78a3bbe6161d7e7c2894b7439>`(int size);
	
		int
		:ref:`getSendBufferSize<doxid-class_poco_1_1_net_1_1_socket_1a0b5ffad8ea21959c02464355a4b3b0bd>`() const;
	
		void
		:ref:`setReceiveBufferSize<doxid-class_poco_1_1_net_1_1_socket_1a146d6b42a2f70b8cdbc6c06e4b076225>`(int size);
	
		int
		:ref:`getReceiveBufferSize<doxid-class_poco_1_1_net_1_1_socket_1aac068c66d2c67fb1847c9dd1ecdfa07a>`() const;
	
		void
		:ref:`setSendTimeout<doxid-class_poco_1_1_net_1_1_socket_1a69fd0e82469d36929f91d96d63dade89>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`& timeout);
	
		:ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`
		:ref:`getSendTimeout<doxid-class_poco_1_1_net_1_1_socket_1ae1d0b997da5324b52e1cdd7e2d884811>`() const;
	
		void
		:ref:`setReceiveTimeout<doxid-class_poco_1_1_net_1_1_socket_1a9f9001c54738af42b93fe11f132e0801>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`& timeout);
	
		:ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`
		:ref:`getReceiveTimeout<doxid-class_poco_1_1_net_1_1_socket_1ab1921d3c58dc490f6a4e1ade6cd25fc1>`() const;
	
		void
		:ref:`setOption<doxid-class_poco_1_1_net_1_1_socket_1a3d1aa81a141d1f1b3bfb071f036b0fa6>`(
			int level,
			int option,
			int value
			);
	
		void
		:ref:`setOption<doxid-class_poco_1_1_net_1_1_socket_1a83379bf3c0e5f86e1d8fee194fb0ee23>`(
			int level,
			int option,
			unsigned value
			);
	
		void
		:ref:`setOption<doxid-class_poco_1_1_net_1_1_socket_1a3b0cd6b667345d18ba14b5ee129bc644>`(
			int level,
			int option,
			unsigned char value
			);
	
		void
		:ref:`setOption<doxid-class_poco_1_1_net_1_1_socket_1a30441a67011a6c4035b98c74bab91a7e>`(
			int level,
			int option,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`& value
			);
	
		void
		:ref:`setOption<doxid-class_poco_1_1_net_1_1_socket_1a91514c913493a3fe54351e44ed83ec50>`(
			int level,
			int option,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`IPAddress<doxid-class_poco_1_1_net_1_1_i_p_address>`& value
			);
	
		void
		:ref:`getOption<doxid-class_poco_1_1_net_1_1_socket_1ad1f11bb29b991646aab5bffedd373aa2>`(
			int level,
			int option,
			int& value
			) const;
	
		void
		:ref:`getOption<doxid-class_poco_1_1_net_1_1_socket_1a7240a4349e2a12c19ed0a75f3120a349>`(
			int level,
			int option,
			unsigned& value
			) const;
	
		void
		:ref:`getOption<doxid-class_poco_1_1_net_1_1_socket_1a95730d6c5f4fbcad02e0870438f89b68>`(
			int level,
			int option,
			unsigned char& value
			) const;
	
		void
		:ref:`getOption<doxid-class_poco_1_1_net_1_1_socket_1a151742e2e524654ba8d390d67097d8cf>`(
			int level,
			int option,
			:ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`& value
			) const;
	
		void
		:ref:`getOption<doxid-class_poco_1_1_net_1_1_socket_1a16d19cd8e3d6b32044bd0c1e6b5319c9>`(
			int level,
			int option,
			:ref:`IPAddress<doxid-class_poco_1_1_net_1_1_i_p_address>`& value
			) const;
	
		void
		:ref:`setLinger<doxid-class_poco_1_1_net_1_1_socket_1a170d9415f6ecfc7fd700ede78190dabd>`(
			bool on,
			int seconds
			);
	
		void
		:ref:`getLinger<doxid-class_poco_1_1_net_1_1_socket_1aa6be0f597bddc2568514f9d7d6e3424c>`(
			bool& on,
			int& seconds
			) const;
	
		void
		:ref:`setNoDelay<doxid-class_poco_1_1_net_1_1_socket_1af9c5034912615b98ec8430d4c50cb6bd>`(bool flag);
	
		bool
		:ref:`getNoDelay<doxid-class_poco_1_1_net_1_1_socket_1a038c8e59c05cff6b5ea5998486465055>`() const;
	
		void
		:ref:`setKeepAlive<doxid-class_poco_1_1_net_1_1_socket_1a765cf373854d78ee2736b807a495863b>`(bool flag);
	
		bool
		:ref:`getKeepAlive<doxid-class_poco_1_1_net_1_1_socket_1a3de1a81d36c55c49ed6979997eef3b2d>`() const;
	
		void
		:ref:`setReuseAddress<doxid-class_poco_1_1_net_1_1_socket_1aa72a6f98d0962f419ec1f2f9c65499fb>`(bool flag);
	
		bool
		:ref:`getReuseAddress<doxid-class_poco_1_1_net_1_1_socket_1a1c5465897c9ddb84a32f758144491ef2>`() const;
	
		void
		:ref:`setReusePort<doxid-class_poco_1_1_net_1_1_socket_1aef394e0d07fb5581d3d87aa324f87508>`(bool flag);
	
		bool
		:ref:`getReusePort<doxid-class_poco_1_1_net_1_1_socket_1acc77c06b00b05ce7797dbfe49ac76b2c>`() const;
	
		void
		:ref:`setOOBInline<doxid-class_poco_1_1_net_1_1_socket_1ab1fd49a609cb99272db395eaffdef9a3>`(bool flag);
	
		bool
		:ref:`getOOBInline<doxid-class_poco_1_1_net_1_1_socket_1a0bbbca3e0d50b2c8ec6c8205c57f2268>`() const;
	
		void
		:ref:`setBlocking<doxid-class_poco_1_1_net_1_1_socket_1ac134ebb19caac648ecf010f750f5daf1>`(bool flag);
	
		bool
		:ref:`getBlocking<doxid-class_poco_1_1_net_1_1_socket_1aada554cc9847d3e1da9b29567b5c4ad4>`() const;
	
		:ref:`SocketAddress<doxid-class_poco_1_1_net_1_1_socket_address>`
		:ref:`address<doxid-class_poco_1_1_net_1_1_socket_1a4d09afdbb03e7235e1453c2354bc7972>`() const;
	
		:ref:`SocketAddress<doxid-class_poco_1_1_net_1_1_socket_address>`
		:ref:`peerAddress<doxid-class_poco_1_1_net_1_1_socket_1a54a140a6a3e2107e828d01b25096b040>`() const;
	
		:ref:`SocketImpl<doxid-class_poco_1_1_net_1_1_socket_impl>`*
		:ref:`impl<doxid-class_poco_1_1_net_1_1_socket_1aedb94763d83874e7294fcf9d056288ad>`() const;
	
		bool
		:ref:`secure<doxid-class_poco_1_1_net_1_1_socket_1a5e1fb2fd8fc7b70f3c34e8f6371bdd63>`() const;
	
		void
		:ref:`init<doxid-class_poco_1_1_net_1_1_socket_1a3b2019a38bdfe6a4744a690f4f4ca9d0>`(int af);
	
		static
		int
		:ref:`select<doxid-class_poco_1_1_net_1_1_socket_1a4b64fe1fc3848e6dec346b49f0708248>`(
			:ref:`SocketList<doxid-class_poco_1_1_net_1_1_socket_1a315ed5b3dc1d380eaa8a7ac72c249dfe>`& readList,
			:ref:`SocketList<doxid-class_poco_1_1_net_1_1_socket_1a315ed5b3dc1d380eaa8a7ac72c249dfe>`& writeList,
			:ref:`SocketList<doxid-class_poco_1_1_net_1_1_socket_1a315ed5b3dc1d380eaa8a7ac72c249dfe>`& exceptList,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`& timeout
			);
	
		static
		bool
		:ref:`supportsIPv4<doxid-class_poco_1_1_net_1_1_socket_1a9984aca97d4457ba8978c1a69192ad5f>`();
	
		static
		bool
		:ref:`supportsIPv6<doxid-class_poco_1_1_net_1_1_socket_1af705fd05a2f647ebbe0faee274668a9f>`();

	protected:
		// construction
	
		:ref:`Socket<doxid-class_poco_1_1_net_1_1_socket_1ae343b47730e38b73dd936432b8da8edc>`(:ref:`SocketImpl<doxid-class_poco_1_1_net_1_1_socket_impl>`* pImpl);

		// methods
	
		poco_socket_t
		:ref:`sockfd<doxid-class_poco_1_1_net_1_1_socket_1a00217abc6aed61f8accb03c8239727a1>`() const;
	};

	// direct descendants

	class :ref:`DatagramSocket<doxid-class_poco_1_1_net_1_1_datagram_socket>`;
	class :ref:`ICMPSocket<doxid-class_poco_1_1_net_1_1_i_c_m_p_socket>`;
	class :ref:`RawSocket<doxid-class_poco_1_1_net_1_1_raw_socket>`;
	class :ref:`ServerSocket<doxid-class_poco_1_1_net_1_1_server_socket>`;
	class :ref:`StreamSocket<doxid-class_poco_1_1_net_1_1_stream_socket>`;
.. _details-class_poco_1_1_net_1_1_socket:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

:ref:`Socket <doxid-class_poco_1_1_net_1_1_socket>` is the common base class for :ref:`StreamSocket <doxid-class_poco_1_1_net_1_1_stream_socket>`, :ref:`ServerSocket <doxid-class_poco_1_1_net_1_1_server_socket>`, :ref:`DatagramSocket <doxid-class_poco_1_1_net_1_1_datagram_socket>` and other socket classes.

It provides operations common to all socket types.

Construction
------------

.. index:: pair: function; Socket
.. _doxid-class_poco_1_1_net_1_1_socket_1a988b274bd25f95b35e4efe67c75402e4:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Socket()

Creates an uninitialized socket.

.. index:: pair: function; Socket
.. _doxid-class_poco_1_1_net_1_1_socket_1a1de53613620462c200615cfaa69a5f55:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Socket(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Socket& socket)

Copy constructor.

Attaches the :ref:`SocketImpl <doxid-class_poco_1_1_net_1_1_socket_impl>` from the other socket and increments the reference count of the :ref:`SocketImpl <doxid-class_poco_1_1_net_1_1_socket_impl>`.

.. index:: pair: function; Socket
.. _doxid-class_poco_1_1_net_1_1_socket_1ae343b47730e38b73dd936432b8da8edc:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Socket(:ref:`SocketImpl<doxid-class_poco_1_1_net_1_1_socket_impl>`* pImpl)

Creates the :ref:`Socket <doxid-class_poco_1_1_net_1_1_socket>` and attaches the given :ref:`SocketImpl <doxid-class_poco_1_1_net_1_1_socket_impl>`.

The socket takes ownership of the :ref:`SocketImpl <doxid-class_poco_1_1_net_1_1_socket_impl>`.

Methods
-------

.. index:: pair: function; operator=
.. _doxid-class_poco_1_1_net_1_1_socket_1af9a8696aa734348dc92fe9ae048651af:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Socket&
	operator=(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Socket& socket)

Assignment operator.

Releases the socket's :ref:`SocketImpl <doxid-class_poco_1_1_net_1_1_socket_impl>` and attaches the :ref:`SocketImpl <doxid-class_poco_1_1_net_1_1_socket_impl>` from the other socket and increments the reference count of the :ref:`SocketImpl <doxid-class_poco_1_1_net_1_1_socket_impl>`.

.. index:: pair: function; operator==
.. _doxid-class_poco_1_1_net_1_1_socket_1a380e206bef3f6861e175384a93d23516:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	operator==(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Socket& socket) const

Returns true if both sockets share the same :ref:`SocketImpl <doxid-class_poco_1_1_net_1_1_socket_impl>`, false otherwise.

.. index:: pair: function; operator!=
.. _doxid-class_poco_1_1_net_1_1_socket_1ae08fbe96cfea9be3e9d51e2708110867:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	operator!=(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Socket& socket) const

Returns false if both sockets share the same :ref:`SocketImpl <doxid-class_poco_1_1_net_1_1_socket_impl>`, true otherwise.

.. index:: pair: function; operator<
.. _doxid-class_poco_1_1_net_1_1_socket_1a606f0afdfaea73d9b34c4b4f778dcb44:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	operator<(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Socket& socket) const

Compares the :ref:`SocketImpl <doxid-class_poco_1_1_net_1_1_socket_impl>` pointers.

.. index:: pair: function; operator<=
.. _doxid-class_poco_1_1_net_1_1_socket_1a0c807b51985702536be2afe8ccdfc3fb:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	operator<=(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Socket& socket) const

Compares the :ref:`SocketImpl <doxid-class_poco_1_1_net_1_1_socket_impl>` pointers.

.. index:: pair: function; operator>
.. _doxid-class_poco_1_1_net_1_1_socket_1aa2210ca68e5ffa16388f414af3fe580d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	operator>(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Socket& socket) const

Compares the :ref:`SocketImpl <doxid-class_poco_1_1_net_1_1_socket_impl>` pointers.

.. index:: pair: function; operator>=
.. _doxid-class_poco_1_1_net_1_1_socket_1a2f3ae39578712d7e06c5c8b545d1b9fe:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	operator>=(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Socket& socket) const

Compares the :ref:`SocketImpl <doxid-class_poco_1_1_net_1_1_socket_impl>` pointers.

.. index:: pair: function; close
.. _doxid-class_poco_1_1_net_1_1_socket_1ab29f65f9263a1cc48e641b1e41134ff1:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	close()

Closes the socket.

.. index:: pair: function; poll
.. _doxid-class_poco_1_1_net_1_1_socket_1ad2cf208c0ce3eb1bcc50ca8c27d24e4a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	poll(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`& timeout,
		int mode
		) const

Determines the status of the socket, using a call to :ref:`poll() <doxid-class_poco_1_1_net_1_1_socket_1ad2cf208c0ce3eb1bcc50ca8c27d24e4a>` or :ref:`select() <doxid-class_poco_1_1_net_1_1_socket_1a4b64fe1fc3848e6dec346b49f0708248>`.

The mode argument is constructed by combining the values of the SelectMode enumeration.

Returns true if the next operation corresponding to mode will not block, false otherwise.

.. index:: pair: function; available
.. _doxid-class_poco_1_1_net_1_1_socket_1afbe4bee1dc9e37420606c2be412debb9:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	int
	available() const

Returns the number of bytes available that can be read without causing the socket to block.

.. index:: pair: function; setSendBufferSize
.. _doxid-class_poco_1_1_net_1_1_socket_1a473e73c78a3bbe6161d7e7c2894b7439:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setSendBufferSize(int size)

Sets the size of the send buffer.

.. index:: pair: function; getSendBufferSize
.. _doxid-class_poco_1_1_net_1_1_socket_1a0b5ffad8ea21959c02464355a4b3b0bd:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	int
	getSendBufferSize() const

Returns the size of the send buffer.

The returned value may be different than the value previously set with :ref:`setSendBufferSize() <doxid-class_poco_1_1_net_1_1_socket_1a473e73c78a3bbe6161d7e7c2894b7439>`, as the system is free to adjust the value.

.. index:: pair: function; setReceiveBufferSize
.. _doxid-class_poco_1_1_net_1_1_socket_1a146d6b42a2f70b8cdbc6c06e4b076225:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setReceiveBufferSize(int size)

Sets the size of the receive buffer.

.. index:: pair: function; getReceiveBufferSize
.. _doxid-class_poco_1_1_net_1_1_socket_1aac068c66d2c67fb1847c9dd1ecdfa07a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	int
	getReceiveBufferSize() const

Returns the size of the receive buffer.

The returned value may be different than the value previously set with :ref:`setReceiveBufferSize() <doxid-class_poco_1_1_net_1_1_socket_1a146d6b42a2f70b8cdbc6c06e4b076225>`, as the system is free to adjust the value.

.. index:: pair: function; setSendTimeout
.. _doxid-class_poco_1_1_net_1_1_socket_1a69fd0e82469d36929f91d96d63dade89:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setSendTimeout(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`& timeout)

Sets the send timeout for the socket.

.. index:: pair: function; getSendTimeout
.. _doxid-class_poco_1_1_net_1_1_socket_1ae1d0b997da5324b52e1cdd7e2d884811:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`
	getSendTimeout() const

Returns the send timeout for the socket.

The returned timeout may be different than the timeout previously set with :ref:`setSendTimeout() <doxid-class_poco_1_1_net_1_1_socket_1a69fd0e82469d36929f91d96d63dade89>`, as the system is free to adjust the value.

.. index:: pair: function; setReceiveTimeout
.. _doxid-class_poco_1_1_net_1_1_socket_1a9f9001c54738af42b93fe11f132e0801:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setReceiveTimeout(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`& timeout)

Sets the send timeout for the socket.

On systems that do not support SO_RCVTIMEO, a workaround using :ref:`poll() <doxid-class_poco_1_1_net_1_1_socket_1ad2cf208c0ce3eb1bcc50ca8c27d24e4a>` is provided.

.. index:: pair: function; getReceiveTimeout
.. _doxid-class_poco_1_1_net_1_1_socket_1ab1921d3c58dc490f6a4e1ade6cd25fc1:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`
	getReceiveTimeout() const

Returns the receive timeout for the socket.

The returned timeout may be different than the timeout previously set with :ref:`getReceiveTimeout() <doxid-class_poco_1_1_net_1_1_socket_1ab1921d3c58dc490f6a4e1ade6cd25fc1>`, as the system is free to adjust the value.

.. index:: pair: function; setOption
.. _doxid-class_poco_1_1_net_1_1_socket_1a3d1aa81a141d1f1b3bfb071f036b0fa6:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setOption(
		int level,
		int option,
		int value
		)

Sets the socket option specified by level and option to the given integer value.

.. index:: pair: function; setOption
.. _doxid-class_poco_1_1_net_1_1_socket_1a83379bf3c0e5f86e1d8fee194fb0ee23:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setOption(
		int level,
		int option,
		unsigned value
		)

Sets the socket option specified by level and option to the given integer value.

.. index:: pair: function; setOption
.. _doxid-class_poco_1_1_net_1_1_socket_1a3b0cd6b667345d18ba14b5ee129bc644:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setOption(
		int level,
		int option,
		unsigned char value
		)

Sets the socket option specified by level and option to the given integer value.

.. index:: pair: function; setOption
.. _doxid-class_poco_1_1_net_1_1_socket_1a30441a67011a6c4035b98c74bab91a7e:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setOption(
		int level,
		int option,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`& value
		)

Sets the socket option specified by level and option to the given time value.

.. index:: pair: function; setOption
.. _doxid-class_poco_1_1_net_1_1_socket_1a91514c913493a3fe54351e44ed83ec50:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setOption(
		int level,
		int option,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`IPAddress<doxid-class_poco_1_1_net_1_1_i_p_address>`& value
		)

Sets the socket option specified by level and option to the given time value.

.. index:: pair: function; getOption
.. _doxid-class_poco_1_1_net_1_1_socket_1ad1f11bb29b991646aab5bffedd373aa2:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	getOption(
		int level,
		int option,
		int& value
		) const

Returns the value of the socket option specified by level and option.

.. index:: pair: function; getOption
.. _doxid-class_poco_1_1_net_1_1_socket_1a7240a4349e2a12c19ed0a75f3120a349:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	getOption(
		int level,
		int option,
		unsigned& value
		) const

Returns the value of the socket option specified by level and option.

.. index:: pair: function; getOption
.. _doxid-class_poco_1_1_net_1_1_socket_1a95730d6c5f4fbcad02e0870438f89b68:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	getOption(
		int level,
		int option,
		unsigned char& value
		) const

Returns the value of the socket option specified by level and option.

.. index:: pair: function; getOption
.. _doxid-class_poco_1_1_net_1_1_socket_1a151742e2e524654ba8d390d67097d8cf:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	getOption(
		int level,
		int option,
		:ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`& value
		) const

Returns the value of the socket option specified by level and option.

.. index:: pair: function; getOption
.. _doxid-class_poco_1_1_net_1_1_socket_1a16d19cd8e3d6b32044bd0c1e6b5319c9:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	getOption(
		int level,
		int option,
		:ref:`IPAddress<doxid-class_poco_1_1_net_1_1_i_p_address>`& value
		) const

Returns the value of the socket option specified by level and option.

.. index:: pair: function; setLinger
.. _doxid-class_poco_1_1_net_1_1_socket_1a170d9415f6ecfc7fd700ede78190dabd:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setLinger(
		bool on,
		int seconds
		)

Sets the value of the SO_LINGER socket option.

.. index:: pair: function; getLinger
.. _doxid-class_poco_1_1_net_1_1_socket_1aa6be0f597bddc2568514f9d7d6e3424c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	getLinger(
		bool& on,
		int& seconds
		) const

Returns the value of the SO_LINGER socket option.

.. index:: pair: function; setNoDelay
.. _doxid-class_poco_1_1_net_1_1_socket_1af9c5034912615b98ec8430d4c50cb6bd:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setNoDelay(bool flag)

Sets the value of the TCP_NODELAY socket option.

.. index:: pair: function; getNoDelay
.. _doxid-class_poco_1_1_net_1_1_socket_1a038c8e59c05cff6b5ea5998486465055:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	getNoDelay() const

Returns the value of the TCP_NODELAY socket option.

.. index:: pair: function; setKeepAlive
.. _doxid-class_poco_1_1_net_1_1_socket_1a765cf373854d78ee2736b807a495863b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setKeepAlive(bool flag)

Sets the value of the SO_KEEPALIVE socket option.

.. index:: pair: function; getKeepAlive
.. _doxid-class_poco_1_1_net_1_1_socket_1a3de1a81d36c55c49ed6979997eef3b2d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	getKeepAlive() const

Returns the value of the SO_KEEPALIVE socket option.

.. index:: pair: function; setReuseAddress
.. _doxid-class_poco_1_1_net_1_1_socket_1aa72a6f98d0962f419ec1f2f9c65499fb:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setReuseAddress(bool flag)

Sets the value of the SO_REUSEADDR socket option.

.. index:: pair: function; getReuseAddress
.. _doxid-class_poco_1_1_net_1_1_socket_1a1c5465897c9ddb84a32f758144491ef2:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	getReuseAddress() const

Returns the value of the SO_REUSEADDR socket option.

.. index:: pair: function; setReusePort
.. _doxid-class_poco_1_1_net_1_1_socket_1aef394e0d07fb5581d3d87aa324f87508:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setReusePort(bool flag)

Sets the value of the SO_REUSEPORT socket option.

Does nothing if the socket implementation does not support SO_REUSEPORT.

.. index:: pair: function; getReusePort
.. _doxid-class_poco_1_1_net_1_1_socket_1acc77c06b00b05ce7797dbfe49ac76b2c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	getReusePort() const

Returns the value of the SO_REUSEPORT socket option.

Returns false if the socket implementation does not support SO_REUSEPORT.

.. index:: pair: function; setOOBInline
.. _doxid-class_poco_1_1_net_1_1_socket_1ab1fd49a609cb99272db395eaffdef9a3:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setOOBInline(bool flag)

Sets the value of the SO_OOBINLINE socket option.

.. index:: pair: function; getOOBInline
.. _doxid-class_poco_1_1_net_1_1_socket_1a0bbbca3e0d50b2c8ec6c8205c57f2268:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	getOOBInline() const

Returns the value of the SO_OOBINLINE socket option.

.. index:: pair: function; setBlocking
.. _doxid-class_poco_1_1_net_1_1_socket_1ac134ebb19caac648ecf010f750f5daf1:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setBlocking(bool flag)

Sets the socket in blocking mode if flag is true, disables blocking mode if flag is false.

.. index:: pair: function; getBlocking
.. _doxid-class_poco_1_1_net_1_1_socket_1aada554cc9847d3e1da9b29567b5c4ad4:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	getBlocking() const

Returns the blocking mode of the socket.

This method will only work if the blocking modes of the socket are changed via the setBlocking method!

.. index:: pair: function; address
.. _doxid-class_poco_1_1_net_1_1_socket_1a4d09afdbb03e7235e1453c2354bc7972:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SocketAddress<doxid-class_poco_1_1_net_1_1_socket_address>`
	address() const

Returns the IP address and port number of the socket.

.. index:: pair: function; peerAddress
.. _doxid-class_poco_1_1_net_1_1_socket_1a54a140a6a3e2107e828d01b25096b040:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SocketAddress<doxid-class_poco_1_1_net_1_1_socket_address>`
	peerAddress() const

Returns the IP address and port number of the peer socket.

.. index:: pair: function; impl
.. _doxid-class_poco_1_1_net_1_1_socket_1aedb94763d83874e7294fcf9d056288ad:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`SocketImpl<doxid-class_poco_1_1_net_1_1_socket_impl>`*
	impl() const

Returns the :ref:`SocketImpl <doxid-class_poco_1_1_net_1_1_socket_impl>` for this socket.

.. index:: pair: function; secure
.. _doxid-class_poco_1_1_net_1_1_socket_1a5e1fb2fd8fc7b70f3c34e8f6371bdd63:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	secure() const

Returns true iff the socket's connection is secure (using SSL or TLS).

.. index:: pair: function; init
.. _doxid-class_poco_1_1_net_1_1_socket_1a3b2019a38bdfe6a4744a690f4f4ca9d0:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	init(int af)

Creates the underlying system socket for the given address family.

Normally, this method should not be called directly, as socket creation will be handled automatically. There are a few situations where calling this method after creation of the :ref:`Socket <doxid-class_poco_1_1_net_1_1_socket>` object makes sense. One example is setting a socket option before calling bind() on a :ref:`ServerSocket <doxid-class_poco_1_1_net_1_1_server_socket>`.

.. index:: pair: function; select
.. _doxid-class_poco_1_1_net_1_1_socket_1a4b64fe1fc3848e6dec346b49f0708248:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	int
	select(
		:ref:`SocketList<doxid-class_poco_1_1_net_1_1_socket_1a315ed5b3dc1d380eaa8a7ac72c249dfe>`& readList,
		:ref:`SocketList<doxid-class_poco_1_1_net_1_1_socket_1a315ed5b3dc1d380eaa8a7ac72c249dfe>`& writeList,
		:ref:`SocketList<doxid-class_poco_1_1_net_1_1_socket_1a315ed5b3dc1d380eaa8a7ac72c249dfe>`& exceptList,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`& timeout
		)

Determines the status of one or more sockets, using a call to :ref:`select() <doxid-class_poco_1_1_net_1_1_socket_1a4b64fe1fc3848e6dec346b49f0708248>`.

ReadList contains the list of sockets which should be checked for readability.

WriteList contains the list of sockets which should be checked for writeability.

ExceptList contains a list of sockets which should be checked for a pending error.

Returns the number of sockets ready.

After return,

.. ref-code-block:: cpp

	* readList contains those sockets ready for reading,
	* writeList contains those sockets ready for writing,
	* exceptList contains those sockets with a pending error.

If the total number of sockets passed in readList, writeList and exceptList is zero, :ref:`select() <doxid-class_poco_1_1_net_1_1_socket_1a4b64fe1fc3848e6dec346b49f0708248>` will return immediately and the return value will be 0.

If one of the sockets passed to :ref:`select() <doxid-class_poco_1_1_net_1_1_socket_1a4b64fe1fc3848e6dec346b49f0708248>` is closed while :ref:`select() <doxid-class_poco_1_1_net_1_1_socket_1a4b64fe1fc3848e6dec346b49f0708248>` runs, select will return immediately. However, the closed socket will not be included in any list. In this case, the return value may be greater than the sum of all sockets in all list.

.. index:: pair: function; supportsIPv4
.. _doxid-class_poco_1_1_net_1_1_socket_1a9984aca97d4457ba8978c1a69192ad5f:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	bool
	supportsIPv4()

Returns true if the system supports IPv4.

.. index:: pair: function; supportsIPv6
.. _doxid-class_poco_1_1_net_1_1_socket_1af705fd05a2f647ebbe0faee274668a9f:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	bool
	supportsIPv6()

Returns true if the system supports IPv6.

.. index:: pair: function; sockfd
.. _doxid-class_poco_1_1_net_1_1_socket_1a00217abc6aed61f8accb03c8239727a1:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	poco_socket_t
	sockfd() const

Returns the socket descriptor for this socket.

