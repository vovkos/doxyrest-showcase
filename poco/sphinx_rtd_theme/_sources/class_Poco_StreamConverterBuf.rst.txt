.. index:: pair: class; Poco::StreamConverterBuf
.. _doxid-class_poco_1_1_stream_converter_buf:

class Poco::StreamConverterBuf
==============================

.. toctree::
	:hidden:

Overview
~~~~~~~~

A StreamConverter converts streams from one encoding (inEncoding) into another (outEncoding). :ref:`More...<details-class_poco_1_1_stream_converter_buf>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <StreamConverter.h>
	
	class StreamConverterBuf: public :ref:`Poco::BasicUnbufferedStreamBuf<doxid-class_poco_1_1_basic_unbuffered_stream_buf>`
	{
	public:
		// construction
	
		:ref:`StreamConverterBuf<doxid-class_poco_1_1_stream_converter_buf_1a48011e4c0ab31daf41f4c16625ff04ce>`(
			std::istream& istr,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`TextEncoding<doxid-class_poco_1_1_text_encoding>`& inEncoding,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`TextEncoding<doxid-class_poco_1_1_text_encoding>`& outEncoding,
			int defaultChar = '?'
			);
	
		:ref:`StreamConverterBuf<doxid-class_poco_1_1_stream_converter_buf_1a335ec269902aa279c66f05189c79128c>`(
			std::ostream& ostr,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`TextEncoding<doxid-class_poco_1_1_text_encoding>`& inEncoding,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`TextEncoding<doxid-class_poco_1_1_text_encoding>`& outEncoding,
			int defaultChar = '?'
			);

		// methods
	
		int
		:ref:`errors<doxid-class_poco_1_1_stream_converter_buf_1a7777ec2e41c5c5e5ca97ae3b5171ecac>`() const;

	protected:
		// methods
	
		virtual
		int
		:target:`readFromDevice<doxid-class_poco_1_1_stream_converter_buf_1afef5151952dde0e7967b1f0c8ba12c63>`();
	
		int
		:target:`writeToDevice<doxid-class_poco_1_1_stream_converter_buf_1a90e1fc5d083b067e0bfddf9997b4c46c>`(char c);
	};

Inherited Members
-----------------

.. ref-code-block:: cpp
	:class: doxyrest-overview-inherited-code-block

	public:
		// methods
	
		virtual
		:ref:`int_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1af4ed13f581184a5758933d22d83ed58e>`
		:ref:`overflow<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1a383786cdc9ee1858c2be846a6bb95eb5>`(:ref:`int_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1af4ed13f581184a5758933d22d83ed58e>` c);
	
		virtual
		:ref:`int_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1af4ed13f581184a5758933d22d83ed58e>`
		:ref:`underflow<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1a6a1ec03bd68ac0d7d0b690df307548c3>`();
	
		virtual
		:ref:`int_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1af4ed13f581184a5758933d22d83ed58e>`
		:ref:`uflow<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1ac9bdf1db12470b9213e598b6a697a1c8>`();
	
		virtual
		:ref:`int_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1af4ed13f581184a5758933d22d83ed58e>`
		:ref:`pbackfail<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1a25fb7df73df7f7e51fcdf520af0e9c0c>`(:ref:`int_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1af4ed13f581184a5758933d22d83ed58e>` c);
	
		virtual
		std::streamsize
		:ref:`xsgetn<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1ab637da26331962c509da9050b9eb3d6f>`(
			:ref:`char_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1ae1adb26f3babc92ffa99d19d260486dd>`* p,
			std::streamsize count
			);

	protected:
		// typedefs
	
		typedef std::basic_streambuf<ch, tr> :ref:`Base<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1a8d4e5dd8a6723d41cf27e864804335c3>`;
		typedef std::basic_ios<ch, tr> :ref:`IOS<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1af4fc862b52cd539e16848d4e6e7c1375>`;
		typedef ch :ref:`char_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1ae1adb26f3babc92ffa99d19d260486dd>`;
		typedef tr :ref:`char_traits<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1a92ac446a28fe6bda224f89a836db052f>`;
		typedef Base::int_type :ref:`int_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1af4ed13f581184a5758933d22d83ed58e>`;
		typedef Base::pos_type :ref:`pos_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1a7ff4716397c4aa1a590431c31c98db79>`;
		typedef Base::off_type :ref:`off_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1a6b0ee0a102317c7d40e4af00994a7007>`;
		typedef IOS::openmode :ref:`openmode<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1a338f2102e31674bb03238208165ba872>`;

		// methods
	
		static
		:ref:`int_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1af4ed13f581184a5758933d22d83ed58e>`
		:ref:`charToInt<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1a2071547aeb7e1813ec16232c3bc5abe4>`(:ref:`char_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1ae1adb26f3babc92ffa99d19d260486dd>` c);

.. _details-class_poco_1_1_stream_converter_buf:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

A StreamConverter converts streams from one encoding (inEncoding) into another (outEncoding).

If a character cannot be represented in outEncoding, defaultChar is used instead. If a byte sequence is not valid in inEncoding, defaultChar is used instead and the encoding error count is incremented.

Construction
------------

.. index:: pair: function; StreamConverterBuf
.. _doxid-class_poco_1_1_stream_converter_buf_1a48011e4c0ab31daf41f4c16625ff04ce:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	StreamConverterBuf(
		std::istream& istr,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`TextEncoding<doxid-class_poco_1_1_text_encoding>`& inEncoding,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`TextEncoding<doxid-class_poco_1_1_text_encoding>`& outEncoding,
		int defaultChar = '?'
		)

Creates the :ref:`StreamConverterBuf <doxid-class_poco_1_1_stream_converter_buf>` and connects it to the given input stream.

.. index:: pair: function; StreamConverterBuf
.. _doxid-class_poco_1_1_stream_converter_buf_1a335ec269902aa279c66f05189c79128c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	StreamConverterBuf(
		std::ostream& ostr,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`TextEncoding<doxid-class_poco_1_1_text_encoding>`& inEncoding,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`TextEncoding<doxid-class_poco_1_1_text_encoding>`& outEncoding,
		int defaultChar = '?'
		)

Creates the :ref:`StreamConverterBuf <doxid-class_poco_1_1_stream_converter_buf>` and connects it to the given output stream.

Methods
-------

.. index:: pair: function; errors
.. _doxid-class_poco_1_1_stream_converter_buf_1a7777ec2e41c5c5e5ca97ae3b5171ecac:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	int
	errors() const

Returns the number of encoding errors encountered.

