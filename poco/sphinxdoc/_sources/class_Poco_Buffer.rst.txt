.. index:: pair: class; Poco::Buffer
.. _doxid-class_poco_1_1_buffer:

template class Poco::Buffer
===========================

.. toctree::
	:hidden:

Overview
~~~~~~~~

A buffer class that allocates a buffer of a given type and size in the constructor and deallocates the buffer in the destructor. :ref:`More...<details-class_poco_1_1_buffer>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <Buffer.h>
	
	template <class T>
	class Buffer
	{
	public:
		// construction
	
		:target:`Buffer<doxid-class_poco_1_1_buffer_1a4da6084fca5266954acb66379cdd1b6a>`(std::size_t capacity);
	
		:ref:`Buffer<doxid-class_poco_1_1_buffer_1a3a1c69b51e3c721a32643e85cb506e49>`(
			T* pMem,
			std::size_t length
			);
	
		:ref:`Buffer<doxid-class_poco_1_1_buffer_1a43b6944393006ff0989b7efad9c9861d>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` T* pMem,
			std::size_t length
			);
	
		:ref:`Buffer<doxid-class_poco_1_1_buffer_1a0ca52cc6a879d7bd56f90742908e1363>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Buffer& other);

		// methods
	
		Buffer&
		:ref:`operator=<doxid-class_poco_1_1_buffer_1a3994b65db75f30f6b7b8e302efffe594>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Buffer& other);
	
		void
		:ref:`resize<doxid-class_poco_1_1_buffer_1a9221bf6cc68adc719b5e08fc5bc1746b>`(
			std::size_t newCapacity,
			bool preserveContent = true
			);
	
		void
		:ref:`setCapacity<doxid-class_poco_1_1_buffer_1a567b880bf64fa0a6e920882ad29378d1>`(
			std::size_t newCapacity,
			bool preserveContent = true
			);
	
		void
		:ref:`assign<doxid-class_poco_1_1_buffer_1a7abe1569a2583b7817f5bcc310503373>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` T* buf,
			std::size_t sz
			);
	
		void
		:ref:`append<doxid-class_poco_1_1_buffer_1a9849719bd541b068bd0c73ef6b99768a>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` T* buf,
			std::size_t sz
			);
	
		void
		:ref:`append<doxid-class_poco_1_1_buffer_1addfd6fa532c7319275578632651e5bb9>`(T val);
	
		void
		:ref:`append<doxid-class_poco_1_1_buffer_1ad55aa1b10bcfb10fd701c953ef5df600>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Buffer& buf);
	
		std::size_t
		:ref:`capacity<doxid-class_poco_1_1_buffer_1a51aef3f47696c79518bef6a573a8355e>`() const;
	
		std::size_t
		:ref:`capacityBytes<doxid-class_poco_1_1_buffer_1a51688a0fa8523dfe146b5a94d4ec24be>`() const;
	
		void
		:ref:`swap<doxid-class_poco_1_1_buffer_1af4a60fd4c56e373c8e9c44bfa494dc91>`(Buffer& other);
	
		bool
		:ref:`operator==<doxid-class_poco_1_1_buffer_1a3d248a9f87f248188f0fb6d1af89927b>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Buffer& other) const;
	
		bool
		:ref:`operator!=<doxid-class_poco_1_1_buffer_1a8f15d8522bf055541941533b2d7946b0>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Buffer& other) const;
	
		void
		:ref:`clear<doxid-class_poco_1_1_buffer_1aac3a043a2e67769f8edaaa31f334f086>`();
	
		std::size_t
		:ref:`size<doxid-class_poco_1_1_buffer_1aa4f0e083d588549daca41e7012798b3f>`() const;
	
		std::size_t
		:ref:`sizeBytes<doxid-class_poco_1_1_buffer_1a3e86996cdd8ddd7ed4ff8546f2129def>`() const;
	
		T*
		:ref:`begin<doxid-class_poco_1_1_buffer_1a9a3ae9f4ebf9cf667bd9f413afc0f75f>`();
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` T*
		:ref:`begin<doxid-class_poco_1_1_buffer_1a8e1c90b717de2d2153abaf764e0a1b7f>`() const;
	
		T*
		:ref:`end<doxid-class_poco_1_1_buffer_1aa3aa019f262b9d8014e62d2dbe27fbb9>`();
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` T*
		:ref:`end<doxid-class_poco_1_1_buffer_1af1808675e0605c34e5fa640a1fa0277a>`() const;
	
		bool
		:ref:`empty<doxid-class_poco_1_1_buffer_1ab52d9ccbd264c219b7ef8ce09041c5da>`() const;
	
		T&
		:target:`operator[]<doxid-class_poco_1_1_buffer_1ac6c2bc5e331cb99f0a17a84362362d62>`(std::size_t index);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` T&
		:target:`operator[]<doxid-class_poco_1_1_buffer_1a19caf98ea2ef25153992aa5e67eba850>`(std::size_t index) const;
	};
.. _details-class_poco_1_1_buffer:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

A buffer class that allocates a buffer of a given type and size in the constructor and deallocates the buffer in the destructor.

This class is useful everywhere where a temporary buffer is needed.

Construction
------------

.. index:: pair: function; Buffer
.. _doxid-class_poco_1_1_buffer_1a3a1c69b51e3c721a32643e85cb506e49:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Buffer(
		T* pMem,
		std::size_t length
		)

Creates the :ref:`Buffer <doxid-class_poco_1_1_buffer>`.

Length argument specifies the length of the supplied memory pointed to by pMem in the number of elements of type T. Supplied pointer is considered blank and not owned by :ref:`Buffer <doxid-class_poco_1_1_buffer>`, so in this case :ref:`Buffer <doxid-class_poco_1_1_buffer>` only acts as a wrapper around externally supplied (and lifetime-managed) memory.

.. index:: pair: function; Buffer
.. _doxid-class_poco_1_1_buffer_1a43b6944393006ff0989b7efad9c9861d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Buffer(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` T* pMem,
		std::size_t length
		)

Creates and allocates the :ref:`Buffer <doxid-class_poco_1_1_buffer>`; copies the contents of the supplied memory into the buffer.

Length argument specifies the length of the supplied memory pointed to by pMem in the number of elements of type T.

.. index:: pair: function; Buffer
.. _doxid-class_poco_1_1_buffer_1a0ca52cc6a879d7bd56f90742908e1363:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Buffer(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Buffer& other)

Copy constructor.

Methods
-------

.. index:: pair: function; operator=
.. _doxid-class_poco_1_1_buffer_1a3994b65db75f30f6b7b8e302efffe594:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Buffer&
	operator=(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Buffer& other)

Assignment operator.

.. index:: pair: function; resize
.. _doxid-class_poco_1_1_buffer_1a9221bf6cc68adc719b5e08fc5bc1746b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	resize(
		std::size_t newCapacity,
		bool preserveContent = true
		)

Resizes the buffer capacity and size.

If preserveContent is true, the content of the old buffer is copied over to the new buffer. The new capacity can be larger or smaller than the current one; if it is smaller, capacity will remain intact. Size will always be set to the new capacity.

.. ref-code-block:: cpp



Buffers only wrapping externally owned storage can not be resized. If resize is attempted on those, IllegalAccessException is thrown.

.. index:: pair: function; setCapacity
.. _doxid-class_poco_1_1_buffer_1a567b880bf64fa0a6e920882ad29378d1:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setCapacity(
		std::size_t newCapacity,
		bool preserveContent = true
		)

Sets the buffer capacity.

If preserveContent is true, the content of the old buffer is copied over to the new buffer. The new capacity can be larger or smaller than the current one; size will be set to the new capacity only if new capacity is smaller than the current size, otherwise it will remain intact.

Buffers only wrapping externally owned storage can not be resized. If resize is attempted on those, IllegalAccessException is thrown.

.. index:: pair: function; assign
.. _doxid-class_poco_1_1_buffer_1a7abe1569a2583b7817f5bcc310503373:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	assign(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` T* buf,
		std::size_t sz
		)

Assigns the argument buffer to this buffer.

If necessary, resizes the buffer.

.. index:: pair: function; append
.. _doxid-class_poco_1_1_buffer_1a9849719bd541b068bd0c73ef6b99768a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	append(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` T* buf,
		std::size_t sz
		)

Resizes this buffer and appends the argument buffer.

.. index:: pair: function; append
.. _doxid-class_poco_1_1_buffer_1addfd6fa532c7319275578632651e5bb9:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	append(T val)

Resizes this buffer by one element and appends the argument value.

.. index:: pair: function; append
.. _doxid-class_poco_1_1_buffer_1ad55aa1b10bcfb10fd701c953ef5df600:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	append(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Buffer& buf)

Resizes this buffer and appends the argument buffer.

.. index:: pair: function; capacity
.. _doxid-class_poco_1_1_buffer_1a51aef3f47696c79518bef6a573a8355e:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	std::size_t
	capacity() const

Returns the allocated memory size in elements.

.. index:: pair: function; capacityBytes
.. _doxid-class_poco_1_1_buffer_1a51688a0fa8523dfe146b5a94d4ec24be:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	std::size_t
	capacityBytes() const

Returns the allocated memory size in bytes.

.. index:: pair: function; swap
.. _doxid-class_poco_1_1_buffer_1af4a60fd4c56e373c8e9c44bfa494dc91:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	swap(Buffer& other)

Swaps the buffer with another one.

.. index:: pair: function; operator==
.. _doxid-class_poco_1_1_buffer_1a3d248a9f87f248188f0fb6d1af89927b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	operator==(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Buffer& other) const

Compare operator.

.. index:: pair: function; operator!=
.. _doxid-class_poco_1_1_buffer_1a8f15d8522bf055541941533b2d7946b0:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	operator!=(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Buffer& other) const

Compare operator.

.. index:: pair: function; clear
.. _doxid-class_poco_1_1_buffer_1aac3a043a2e67769f8edaaa31f334f086:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	clear()

Sets the contents of the buffer to zero.

.. index:: pair: function; size
.. _doxid-class_poco_1_1_buffer_1aa4f0e083d588549daca41e7012798b3f:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	std::size_t
	size() const

Returns the used size of the buffer in elements.

.. index:: pair: function; sizeBytes
.. _doxid-class_poco_1_1_buffer_1a3e86996cdd8ddd7ed4ff8546f2129def:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	std::size_t
	sizeBytes() const

Returns the used size of the buffer in bytes.

.. index:: pair: function; begin
.. _doxid-class_poco_1_1_buffer_1a9a3ae9f4ebf9cf667bd9f413afc0f75f:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	T*
	begin()

Returns a pointer to the beginning of the buffer.

.. index:: pair: function; begin
.. _doxid-class_poco_1_1_buffer_1a8e1c90b717de2d2153abaf764e0a1b7f:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` T*
	begin() const

Returns a pointer to the beginning of the buffer.

.. index:: pair: function; end
.. _doxid-class_poco_1_1_buffer_1aa3aa019f262b9d8014e62d2dbe27fbb9:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	T*
	end()

Returns a pointer to end of the buffer.

.. index:: pair: function; end
.. _doxid-class_poco_1_1_buffer_1af1808675e0605c34e5fa640a1fa0277a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` T*
	end() const

Returns a pointer to the end of the buffer.

.. index:: pair: function; empty
.. _doxid-class_poco_1_1_buffer_1ab52d9ccbd264c219b7ef8ce09041c5da:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	empty() const

Return true if buffer is empty.

