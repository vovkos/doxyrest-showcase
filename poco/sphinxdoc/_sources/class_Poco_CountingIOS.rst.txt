.. index:: pair: class; Poco::CountingIOS
.. _doxid-class_poco_1_1_counting_i_o_s:

class Poco::CountingIOS
=======================

.. toctree::
	:hidden:

Overview
~~~~~~~~

The base class for :ref:`CountingInputStream <doxid-class_poco_1_1_counting_input_stream>` and :ref:`CountingOutputStream <doxid-class_poco_1_1_counting_output_stream>`. :ref:`More...<details-class_poco_1_1_counting_i_o_s>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <CountingStream.h>
	
	class CountingIOS: public ios
	{
	public:
		// construction
	
		:ref:`CountingIOS<doxid-class_poco_1_1_counting_i_o_s_1a3476bab4fa7f9f17d275b038477c03b2>`();
		:ref:`CountingIOS<doxid-class_poco_1_1_counting_i_o_s_1a066ec13486fa5d9127ba296694b9ec8e>`(std::istream& istr);
		:ref:`CountingIOS<doxid-class_poco_1_1_counting_i_o_s_1a5f147373f2f4f162b9a2d94a66aa8b90>`(std::ostream& ostr);

		// methods
	
		int
		:ref:`chars<doxid-class_poco_1_1_counting_i_o_s_1a805e2a41a29e3ea772e49c6220d98945>`() const;
	
		int
		:ref:`lines<doxid-class_poco_1_1_counting_i_o_s_1a4ec837e6378f6ff3f63f5f9be5d0d4ef>`() const;
	
		int
		:ref:`pos<doxid-class_poco_1_1_counting_i_o_s_1af51e61346bf5d9a40034c96f2c474986>`() const;
	
		void
		:ref:`reset<doxid-class_poco_1_1_counting_i_o_s_1a3a0f728a63de20bec9e63a481e3e0482>`();
	
		void
		:ref:`setCurrentLineNumber<doxid-class_poco_1_1_counting_i_o_s_1abb3936849fabbd46d72f846838ec721c>`(int line);
	
		int
		:ref:`getCurrentLineNumber<doxid-class_poco_1_1_counting_i_o_s_1ae538741b9a8a263293f4be1232806aa8>`() const;
	
		void
		:ref:`addChars<doxid-class_poco_1_1_counting_i_o_s_1aec44d3d92f298b6f04572a44d86b18a6>`(int chars);
	
		void
		:ref:`addLines<doxid-class_poco_1_1_counting_i_o_s_1a9decbb4b6a4fb662d9cbe8a6bc2bd5c2>`(int lines);
	
		void
		:ref:`addPos<doxid-class_poco_1_1_counting_i_o_s_1a3756e68491cbbe4e0f433e5598088700>`(int pos);
	
		:ref:`CountingStreamBuf<doxid-class_poco_1_1_counting_stream_buf>`*
		:ref:`rdbuf<doxid-class_poco_1_1_counting_i_o_s_1a37b379f76607bdb6fcb61cdc7c8042d6>`();

	protected:
		// fields
	
		:ref:`CountingStreamBuf<doxid-class_poco_1_1_counting_stream_buf>` :target:`_buf<doxid-class_poco_1_1_counting_i_o_s_1a5fc0d6f1ae751de91aae68860fdca0d6>`;
	};

	// direct descendants

	class :ref:`CountingInputStream<doxid-class_poco_1_1_counting_input_stream>`;
	class :ref:`CountingOutputStream<doxid-class_poco_1_1_counting_output_stream>`;
.. _details-class_poco_1_1_counting_i_o_s:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

The base class for :ref:`CountingInputStream <doxid-class_poco_1_1_counting_input_stream>` and :ref:`CountingOutputStream <doxid-class_poco_1_1_counting_output_stream>`.

This class is needed to ensure the correct initialization order of the stream buffer and base classes.

Construction
------------

.. index:: pair: function; CountingIOS
.. _doxid-class_poco_1_1_counting_i_o_s_1a3476bab4fa7f9f17d275b038477c03b2:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	CountingIOS()

Creates the basic stream and leaves it unconnected.

.. index:: pair: function; CountingIOS
.. _doxid-class_poco_1_1_counting_i_o_s_1a066ec13486fa5d9127ba296694b9ec8e:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	CountingIOS(std::istream& istr)

Creates the basic stream and connects it to the given input stream.

.. index:: pair: function; CountingIOS
.. _doxid-class_poco_1_1_counting_i_o_s_1a5f147373f2f4f162b9a2d94a66aa8b90:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	CountingIOS(std::ostream& ostr)

Creates the basic stream and connects it to the given output stream.

Methods
-------

.. index:: pair: function; chars
.. _doxid-class_poco_1_1_counting_i_o_s_1a805e2a41a29e3ea772e49c6220d98945:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	int
	chars() const

Returns the total number of characters.

.. index:: pair: function; lines
.. _doxid-class_poco_1_1_counting_i_o_s_1a4ec837e6378f6ff3f63f5f9be5d0d4ef:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	int
	lines() const

Returns the total number of lines.

.. index:: pair: function; pos
.. _doxid-class_poco_1_1_counting_i_o_s_1af51e61346bf5d9a40034c96f2c474986:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	int
	pos() const

Returns the number of characters on the current line.

.. index:: pair: function; reset
.. _doxid-class_poco_1_1_counting_i_o_s_1a3a0f728a63de20bec9e63a481e3e0482:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	reset()

Resets all counters.

.. index:: pair: function; setCurrentLineNumber
.. _doxid-class_poco_1_1_counting_i_o_s_1abb3936849fabbd46d72f846838ec721c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setCurrentLineNumber(int line)

Sets the current line number.

This is mainly useful when parsing C/C++ preprocessed source code containing #line directives.

.. index:: pair: function; getCurrentLineNumber
.. _doxid-class_poco_1_1_counting_i_o_s_1ae538741b9a8a263293f4be1232806aa8:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	int
	getCurrentLineNumber() const

Returns the current line number (same as :ref:`lines() <doxid-class_poco_1_1_counting_i_o_s_1a4ec837e6378f6ff3f63f5f9be5d0d4ef>`).

.. index:: pair: function; addChars
.. _doxid-class_poco_1_1_counting_i_o_s_1aec44d3d92f298b6f04572a44d86b18a6:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	addChars(int chars)

Add to the total number of characters.

.. index:: pair: function; addLines
.. _doxid-class_poco_1_1_counting_i_o_s_1a9decbb4b6a4fb662d9cbe8a6bc2bd5c2:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	addLines(int lines)

Add to the total number of lines.

.. index:: pair: function; addPos
.. _doxid-class_poco_1_1_counting_i_o_s_1a3756e68491cbbe4e0f433e5598088700:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	addPos(int pos)

Add to the number of characters on the current line.

.. index:: pair: function; rdbuf
.. _doxid-class_poco_1_1_counting_i_o_s_1a37b379f76607bdb6fcb61cdc7c8042d6:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`CountingStreamBuf<doxid-class_poco_1_1_counting_stream_buf>`*
	rdbuf()

Returns a pointer to the underlying streambuf.

