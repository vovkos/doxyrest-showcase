.. index:: pair: class; Poco::CountingStreamBuf
.. _doxid-class_poco_1_1_counting_stream_buf:

class Poco::CountingStreamBuf
=============================

.. toctree::
	:hidden:

Overview
~~~~~~~~

This stream buffer counts all characters and lines going through it. :ref:`More...<details-class_poco_1_1_counting_stream_buf>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <CountingStream.h>
	
	class CountingStreamBuf: public :ref:`Poco::BasicUnbufferedStreamBuf<doxid-class_poco_1_1_basic_unbuffered_stream_buf>`
	{
	public:
		// construction
	
		:ref:`CountingStreamBuf<doxid-class_poco_1_1_counting_stream_buf_1ab2714dbdb2483b60e19954d0db9ef56a>`();
		:ref:`CountingStreamBuf<doxid-class_poco_1_1_counting_stream_buf_1a1d3c0699ddca6cd40defdd7e909311ea>`(std::istream& istr);
		:ref:`CountingStreamBuf<doxid-class_poco_1_1_counting_stream_buf_1a8930735662a626dbcea06dae39673905>`(std::ostream& ostr);

		// methods
	
		int
		:ref:`chars<doxid-class_poco_1_1_counting_stream_buf_1adf22db13969c83cd76a70be8ed649645>`() const;
	
		int
		:ref:`lines<doxid-class_poco_1_1_counting_stream_buf_1af47e72169d0ab700d0b53c7c8394176e>`() const;
	
		int
		:ref:`pos<doxid-class_poco_1_1_counting_stream_buf_1a51fde0ee9ef05aa9d7b90863f180ade1>`() const;
	
		void
		:ref:`reset<doxid-class_poco_1_1_counting_stream_buf_1ae5840b04e916ab6ff57cd59d17b26d2a>`();
	
		void
		:ref:`setCurrentLineNumber<doxid-class_poco_1_1_counting_stream_buf_1a9d60f3198e4ed6903b9bd796e8a31679>`(int line);
	
		int
		:ref:`getCurrentLineNumber<doxid-class_poco_1_1_counting_stream_buf_1ae146bcddaae4a5a2fb58c38281d793a4>`() const;
	
		void
		:ref:`addChars<doxid-class_poco_1_1_counting_stream_buf_1a4af126ddbe0d619d5b37252999f9c7b8>`(int chars);
	
		void
		:ref:`addLines<doxid-class_poco_1_1_counting_stream_buf_1a90847a68e5f0d36f3670aaffcd9c427a>`(int lines);
	
		void
		:ref:`addPos<doxid-class_poco_1_1_counting_stream_buf_1a0bb5b2937eaee6d110cf23c0e73ceea0>`(int pos);

	protected:
		// methods
	
		virtual
		int
		:target:`readFromDevice<doxid-class_poco_1_1_counting_stream_buf_1a751c197e925d648bdb0e5cf1051cc03b>`();
	
		int
		:target:`writeToDevice<doxid-class_poco_1_1_counting_stream_buf_1aec3f2dc4ab64d48a40a77b0f47865d03>`(char c);
	};

Inherited Members
-----------------

.. ref-code-block:: cpp
	:class: doxyrest-overview-inherited-code-block

	public:
		// methods
	
		virtual
		:ref:`int_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1af4ed13f581184a5758933d22d83ed58e>`
		:ref:`overflow<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1a383786cdc9ee1858c2be846a6bb95eb5>`(:ref:`int_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1af4ed13f581184a5758933d22d83ed58e>` c);
	
		virtual
		:ref:`int_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1af4ed13f581184a5758933d22d83ed58e>`
		:ref:`underflow<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1a6a1ec03bd68ac0d7d0b690df307548c3>`();
	
		virtual
		:ref:`int_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1af4ed13f581184a5758933d22d83ed58e>`
		:ref:`uflow<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1ac9bdf1db12470b9213e598b6a697a1c8>`();
	
		virtual
		:ref:`int_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1af4ed13f581184a5758933d22d83ed58e>`
		:ref:`pbackfail<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1a25fb7df73df7f7e51fcdf520af0e9c0c>`(:ref:`int_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1af4ed13f581184a5758933d22d83ed58e>` c);
	
		virtual
		std::streamsize
		:ref:`xsgetn<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1ab637da26331962c509da9050b9eb3d6f>`(
			:ref:`char_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1ae1adb26f3babc92ffa99d19d260486dd>`* p,
			std::streamsize count
			);

	protected:
		// typedefs
	
		typedef std::basic_streambuf<ch, tr> :ref:`Base<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1a8d4e5dd8a6723d41cf27e864804335c3>`;
		typedef std::basic_ios<ch, tr> :ref:`IOS<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1af4fc862b52cd539e16848d4e6e7c1375>`;
		typedef ch :ref:`char_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1ae1adb26f3babc92ffa99d19d260486dd>`;
		typedef tr :ref:`char_traits<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1a92ac446a28fe6bda224f89a836db052f>`;
		typedef Base::int_type :ref:`int_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1af4ed13f581184a5758933d22d83ed58e>`;
		typedef Base::pos_type :ref:`pos_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1a7ff4716397c4aa1a590431c31c98db79>`;
		typedef Base::off_type :ref:`off_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1a6b0ee0a102317c7d40e4af00994a7007>`;
		typedef IOS::openmode :ref:`openmode<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1a338f2102e31674bb03238208165ba872>`;

		// methods
	
		static
		:ref:`int_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1af4ed13f581184a5758933d22d83ed58e>`
		:ref:`charToInt<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1a2071547aeb7e1813ec16232c3bc5abe4>`(:ref:`char_type<doxid-class_poco_1_1_basic_unbuffered_stream_buf_1ae1adb26f3babc92ffa99d19d260486dd>` c);

.. _details-class_poco_1_1_counting_stream_buf:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

This stream buffer counts all characters and lines going through it.

Construction
------------

.. index:: pair: function; CountingStreamBuf
.. _doxid-class_poco_1_1_counting_stream_buf_1ab2714dbdb2483b60e19954d0db9ef56a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	CountingStreamBuf()

Creates an unconnected :ref:`CountingStreamBuf <doxid-class_poco_1_1_counting_stream_buf>`.

.. index:: pair: function; CountingStreamBuf
.. _doxid-class_poco_1_1_counting_stream_buf_1a1d3c0699ddca6cd40defdd7e909311ea:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	CountingStreamBuf(std::istream& istr)

Creates the :ref:`CountingStreamBuf <doxid-class_poco_1_1_counting_stream_buf>` and connects it to the given input stream.

.. index:: pair: function; CountingStreamBuf
.. _doxid-class_poco_1_1_counting_stream_buf_1a8930735662a626dbcea06dae39673905:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	CountingStreamBuf(std::ostream& ostr)

Creates the :ref:`CountingStreamBuf <doxid-class_poco_1_1_counting_stream_buf>` and connects it to the given output stream.

Methods
-------

.. index:: pair: function; chars
.. _doxid-class_poco_1_1_counting_stream_buf_1adf22db13969c83cd76a70be8ed649645:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	int
	chars() const

Returns the total number of characters.

.. index:: pair: function; lines
.. _doxid-class_poco_1_1_counting_stream_buf_1af47e72169d0ab700d0b53c7c8394176e:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	int
	lines() const

Returns the total number of lines.

.. index:: pair: function; pos
.. _doxid-class_poco_1_1_counting_stream_buf_1a51fde0ee9ef05aa9d7b90863f180ade1:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	int
	pos() const

Returns the number of characters on the current line.

.. index:: pair: function; reset
.. _doxid-class_poco_1_1_counting_stream_buf_1ae5840b04e916ab6ff57cd59d17b26d2a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	reset()

Resets all counters.

.. index:: pair: function; setCurrentLineNumber
.. _doxid-class_poco_1_1_counting_stream_buf_1a9d60f3198e4ed6903b9bd796e8a31679:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setCurrentLineNumber(int line)

Sets the current line number.

This is mainly useful when parsing C/C++ preprocessed source code containing #line directives.

.. index:: pair: function; getCurrentLineNumber
.. _doxid-class_poco_1_1_counting_stream_buf_1ae146bcddaae4a5a2fb58c38281d793a4:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	int
	getCurrentLineNumber() const

Returns the current line number (same as :ref:`lines() <doxid-class_poco_1_1_counting_stream_buf_1af47e72169d0ab700d0b53c7c8394176e>`).

.. index:: pair: function; addChars
.. _doxid-class_poco_1_1_counting_stream_buf_1a4af126ddbe0d619d5b37252999f9c7b8:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	addChars(int chars)

Add to the total number of characters.

.. index:: pair: function; addLines
.. _doxid-class_poco_1_1_counting_stream_buf_1a90847a68e5f0d36f3670aaffcd9c427a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	addLines(int lines)

Add to the total number of lines.

.. index:: pair: function; addPos
.. _doxid-class_poco_1_1_counting_stream_buf_1a0bb5b2937eaee6d110cf23c0e73ceea0:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	addPos(int pos)

Add to the number of characters on the current line.

