.. index:: pair: class; Poco::DateTimeParser
.. _doxid-class_poco_1_1_date_time_parser:

class Poco::DateTimeParser
==========================

.. toctree::
	:hidden:

Overview
~~~~~~~~

This class provides a method for parsing dates and times from strings. :ref:`More...<details-class_poco_1_1_date_time_parser>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <DateTimeParser.h>
	
	class DateTimeParser
	{
	public:
		// methods
	
		static
		void
		:ref:`parse<doxid-class_poco_1_1_date_time_parser_1a8c972887ecd999a75952bd5f20200308>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& fmt,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& str,
			:ref:`DateTime<doxid-class_poco_1_1_date_time>`& dateTime,
			int& timeZoneDifferential
			);
	
		static
		:ref:`DateTime<doxid-class_poco_1_1_date_time>`
		:ref:`parse<doxid-class_poco_1_1_date_time_parser_1aeb37a932717916b762486cf4edf0487a>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& fmt,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& str,
			int& timeZoneDifferential
			);
	
		static
		bool
		:ref:`tryParse<doxid-class_poco_1_1_date_time_parser_1abf44d15b6a7bcabb231ed5899c9d9ea5>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& fmt,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& str,
			:ref:`DateTime<doxid-class_poco_1_1_date_time>`& dateTime,
			int& timeZoneDifferential
			);
	
		static
		void
		:ref:`parse<doxid-class_poco_1_1_date_time_parser_1a4ea4edd9b45400f95e0c4785e2d954e6>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& str,
			:ref:`DateTime<doxid-class_poco_1_1_date_time>`& dateTime,
			int& timeZoneDifferential
			);
	
		static
		:ref:`DateTime<doxid-class_poco_1_1_date_time>`
		:ref:`parse<doxid-class_poco_1_1_date_time_parser_1ace97ab4f001bf735b6a61fc253b6568c>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& str,
			int& timeZoneDifferential
			);
	
		static
		bool
		:ref:`tryParse<doxid-class_poco_1_1_date_time_parser_1aa7cace5e346d0b114b1c9be70feb76a2>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& str,
			:ref:`DateTime<doxid-class_poco_1_1_date_time>`& dateTime,
			int& timeZoneDifferential
			);
	
		static
		int
		:ref:`parseMonth<doxid-class_poco_1_1_date_time_parser_1a8a1768b25f3c8479897284ae0a27d441>`(
			std::string::const_iterator& it,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string::const_iterator& end
			);
	
		static
		int
		:ref:`parseDayOfWeek<doxid-class_poco_1_1_date_time_parser_1a43a29d335912c840b946b0628c59a994>`(
			std::string::const_iterator& it,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string::const_iterator& end
			);

	protected:
		// methods
	
		static
		int
		:target:`parseTZD<doxid-class_poco_1_1_date_time_parser_1add82a70ccfa1dfb35aac48b234fa7893>`(
			std::string::const_iterator& it,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string::const_iterator& end
			);
	
		static
		int
		:target:`parseAMPM<doxid-class_poco_1_1_date_time_parser_1a8ec16bfbb96eb207c054d3b083de6e19>`(
			std::string::const_iterator& it,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string::const_iterator& end,
			int hour
			);
	};
.. _details-class_poco_1_1_date_time_parser:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

This class provides a method for parsing dates and times from strings.

All parsing methods do their best to parse a meaningful result, even from malformed input strings.

The returned :ref:`DateTime <doxid-class_poco_1_1_date_time>` will always contain a time in the same timezone as the time in the string. Call :ref:`DateTime::makeUTC() <doxid-class_poco_1_1_date_time_1a1f5d855964cdc75f8a60235191d2bfc1>` with the timeZoneDifferential returned by :ref:`parse() <doxid-class_poco_1_1_date_time_parser_1a8c972887ecd999a75952bd5f20200308>` to convert the :ref:`DateTime <doxid-class_poco_1_1_date_time>` to UTC.

Note: When parsing a time in 12-hour (AM/PM) format, the hour (h) must be parsed before the AM/PM designator (a, A), otherwise the AM/PM designator will be ignored.

See the :ref:`DateTimeFormatter <doxid-class_poco_1_1_date_time_formatter>` class for a list of supported format specifiers. In addition to the format specifiers supported by :ref:`DateTimeFormatter <doxid-class_poco_1_1_date_time_formatter>`, an additional specifier is supported: r will parse a year given by either two or four digits. Years 69-00 are interpreted in the 20th century (1969-2000), years 01-68 in the 21th century (2001-2068).

Note that in the current implementation all characters other than format specifiers in the format string are ignored/not matched against the date/time string. This may lead to non-error results even with nonsense input strings. This may change in a future version to a more strict behavior. If more strict format validation of date/time strings is required, a regular expression could be used for initial validation, before passing the string to :ref:`DateTimeParser <doxid-class_poco_1_1_date_time_parser>`.

Methods
-------

.. index:: pair: function; parse
.. _doxid-class_poco_1_1_date_time_parser_1a8c972887ecd999a75952bd5f20200308:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	void
	parse(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& fmt,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& str,
		:ref:`DateTime<doxid-class_poco_1_1_date_time>`& dateTime,
		int& timeZoneDifferential
		)

Parses a date and time in the given format from the given string.

Throws a SyntaxException if the string cannot be successfully parsed. Please see :ref:`DateTimeFormatter::format() <doxid-class_poco_1_1_date_time_formatter_1a0d95acbf4a5bc6e7c370a16da6fd1a06>` for a description of the format string. Class :ref:`DateTimeFormat <doxid-class_poco_1_1_date_time_format>` defines format strings for various standard date/time formats.

.. index:: pair: function; parse
.. _doxid-class_poco_1_1_date_time_parser_1aeb37a932717916b762486cf4edf0487a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	:ref:`DateTime<doxid-class_poco_1_1_date_time>`
	parse(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& fmt,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& str,
		int& timeZoneDifferential
		)

Parses a date and time in the given format from the given string.

Throws a SyntaxException if the string cannot be successfully parsed. Please see :ref:`DateTimeFormatter::format() <doxid-class_poco_1_1_date_time_formatter_1a0d95acbf4a5bc6e7c370a16da6fd1a06>` for a description of the format string. Class :ref:`DateTimeFormat <doxid-class_poco_1_1_date_time_format>` defines format strings for various standard date/time formats.

.. index:: pair: function; tryParse
.. _doxid-class_poco_1_1_date_time_parser_1abf44d15b6a7bcabb231ed5899c9d9ea5:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	bool
	tryParse(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& fmt,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& str,
		:ref:`DateTime<doxid-class_poco_1_1_date_time>`& dateTime,
		int& timeZoneDifferential
		)

Parses a date and time in the given format from the given string.

Returns true if the string has been successfully parsed, false otherwise. Please see :ref:`DateTimeFormatter::format() <doxid-class_poco_1_1_date_time_formatter_1a0d95acbf4a5bc6e7c370a16da6fd1a06>` for a description of the format string. Class :ref:`DateTimeFormat <doxid-class_poco_1_1_date_time_format>` defines format strings for various standard date/time formats.

.. index:: pair: function; parse
.. _doxid-class_poco_1_1_date_time_parser_1a4ea4edd9b45400f95e0c4785e2d954e6:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	void
	parse(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& str,
		:ref:`DateTime<doxid-class_poco_1_1_date_time>`& dateTime,
		int& timeZoneDifferential
		)

Parses a date and time from the given dateTime string.

Before parsing, the method examines the dateTime string for a known date/time format. Throws a SyntaxException if the string cannot be successfully parsed. Please see :ref:`DateTimeFormatter::format() <doxid-class_poco_1_1_date_time_formatter_1a0d95acbf4a5bc6e7c370a16da6fd1a06>` for a description of the format string. Class :ref:`DateTimeFormat <doxid-class_poco_1_1_date_time_format>` defines format strings for various standard date/time formats.

.. index:: pair: function; parse
.. _doxid-class_poco_1_1_date_time_parser_1ace97ab4f001bf735b6a61fc253b6568c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	:ref:`DateTime<doxid-class_poco_1_1_date_time>`
	parse(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& str,
		int& timeZoneDifferential
		)

Parses a date and time from the given dateTime string.

Before parsing, the method examines the dateTime string for a known date/time format. Please see :ref:`DateTimeFormatter::format() <doxid-class_poco_1_1_date_time_formatter_1a0d95acbf4a5bc6e7c370a16da6fd1a06>` for a description of the format string. Class :ref:`DateTimeFormat <doxid-class_poco_1_1_date_time_format>` defines format strings for various standard date/time formats.

.. index:: pair: function; tryParse
.. _doxid-class_poco_1_1_date_time_parser_1aa7cace5e346d0b114b1c9be70feb76a2:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	bool
	tryParse(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& str,
		:ref:`DateTime<doxid-class_poco_1_1_date_time>`& dateTime,
		int& timeZoneDifferential
		)

Parses a date and time from the given dateTime string.

Before parsing, the method examines the dateTime string for a known date/time format. Please see :ref:`DateTimeFormatter::format() <doxid-class_poco_1_1_date_time_formatter_1a0d95acbf4a5bc6e7c370a16da6fd1a06>` for a description of the format string. Class :ref:`DateTimeFormat <doxid-class_poco_1_1_date_time_format>` defines format strings for various standard date/time formats.

.. index:: pair: function; parseMonth
.. _doxid-class_poco_1_1_date_time_parser_1a8a1768b25f3c8479897284ae0a27d441:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	int
	parseMonth(
		std::string::const_iterator& it,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string::const_iterator& end
		)

Tries to interpret the given range as a month name.

The range must be at least three characters long. Returns the month number (1 .. 12) if the month name is valid. Otherwise throws a SyntaxException.

.. index:: pair: function; parseDayOfWeek
.. _doxid-class_poco_1_1_date_time_parser_1a43a29d335912c840b946b0628c59a994:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	int
	parseDayOfWeek(
		std::string::const_iterator& it,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string::const_iterator& end
		)

Tries to interpret the given range as a weekday name.

The range must be at least three characters long. Returns the weekday number (0 .. 6, where 0 = Synday, 1 = Monday, etc.) if the weekday name is valid. Otherwise throws a SyntaxException.

