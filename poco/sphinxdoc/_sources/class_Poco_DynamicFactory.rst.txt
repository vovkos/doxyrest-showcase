.. index:: pair: class; Poco::DynamicFactory
.. _doxid-class_poco_1_1_dynamic_factory:

template class Poco::DynamicFactory
===================================

.. toctree::
	:hidden:

Overview
~~~~~~~~

A factory that creates objects by class name. :ref:`More...<details-class_poco_1_1_dynamic_factory>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <DynamicFactory.h>
	
	template <class Base>
	class DynamicFactory
	{
	public:
		// typedefs
	
		typedef :ref:`AbstractInstantiator<doxid-class_poco_1_1_abstract_instantiator>`<Base> :target:`AbstractFactory<doxid-class_poco_1_1_dynamic_factory_1a05c897901d795bf1053bddc15f6ab928>`;

		// methods
	
		Base*
		:ref:`createInstance<doxid-class_poco_1_1_dynamic_factory_1a6da542eb45ebb4d1a7961a068f7b5ebf>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& className) const;
	
		template <class C>
		void
		:ref:`registerClass<doxid-class_poco_1_1_dynamic_factory_1ac40a218060ecbea42e8c41c6a09623fc>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& className);
	
		void
		:ref:`registerClass<doxid-class_poco_1_1_dynamic_factory_1a53b85fc61d2bb045d6e48ad04a376b99>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& className,
			:ref:`AbstractFactory<doxid-class_poco_1_1_dynamic_factory_1a05c897901d795bf1053bddc15f6ab928>`* pAbstractFactory
			);
	
		void
		:ref:`unregisterClass<doxid-class_poco_1_1_dynamic_factory_1aa7ce2bce7e060e314767e83d3007e1a0>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& className);
	
		bool
		:ref:`isClass<doxid-class_poco_1_1_dynamic_factory_1a3633f64578d432f5358e21a571a40c9b>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& className) const;
	};
.. _details-class_poco_1_1_dynamic_factory:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

A factory that creates objects by class name.

Construction
------------

.. _doxid-class_poco_1_1_dynamic_factory_1a2f5ccbf2ab7bbeeeba04ec34c7e9b74d:
.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	~DynamicFactory()

Destroys the :ref:`DynamicFactory <doxid-class_poco_1_1_dynamic_factory>` and deletes the instantiators for all registered classes.

Methods
-------

.. index:: pair: function; createInstance
.. _doxid-class_poco_1_1_dynamic_factory_1a6da542eb45ebb4d1a7961a068f7b5ebf:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Base*
	createInstance(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& className) const

Creates a new instance of the class with the given name.

The class must have been registered with registerClass. If the class name is unknown, a NotFoundException is thrown.

.. index:: pair: function; registerClass
.. _doxid-class_poco_1_1_dynamic_factory_1ac40a218060ecbea42e8c41c6a09623fc:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class C>
	void
	registerClass(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& className)

Registers the instantiator for the given class with the :ref:`DynamicFactory <doxid-class_poco_1_1_dynamic_factory>`.

The :ref:`DynamicFactory <doxid-class_poco_1_1_dynamic_factory>` takes ownership of the instantiator and deletes it when it's no longer used. If the class has already been registered, an ExistsException is thrown and the instantiator is deleted.

.. index:: pair: function; registerClass
.. _doxid-class_poco_1_1_dynamic_factory_1a53b85fc61d2bb045d6e48ad04a376b99:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	registerClass(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& className,
		:ref:`AbstractFactory<doxid-class_poco_1_1_dynamic_factory_1a05c897901d795bf1053bddc15f6ab928>`* pAbstractFactory
		)

Registers the instantiator for the given class with the :ref:`DynamicFactory <doxid-class_poco_1_1_dynamic_factory>`.

The :ref:`DynamicFactory <doxid-class_poco_1_1_dynamic_factory>` takes ownership of the instantiator and deletes it when it's no longer used. If the class has already been registered, an ExistsException is thrown and the instantiator is deleted.

.. index:: pair: function; unregisterClass
.. _doxid-class_poco_1_1_dynamic_factory_1aa7ce2bce7e060e314767e83d3007e1a0:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	unregisterClass(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& className)

Unregisters the given class and deletes the instantiator for the class.

Throws a NotFoundException if the class has not been registered.

.. index:: pair: function; isClass
.. _doxid-class_poco_1_1_dynamic_factory_1a3633f64578d432f5358e21a571a40c9b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	isClass(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& className) const

Returns true iff the given class has been registered.

