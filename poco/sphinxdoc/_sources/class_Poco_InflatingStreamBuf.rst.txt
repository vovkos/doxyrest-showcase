.. index:: pair: class; Poco::InflatingStreamBuf
.. _doxid-class_poco_1_1_inflating_stream_buf:

class Poco::InflatingStreamBuf
==============================

.. toctree::
	:hidden:

	enum_Poco_InflatingStreamBuf_StreamType.rst

Overview
~~~~~~~~

This is the streambuf class used by :ref:`InflatingInputStream <doxid-class_poco_1_1_inflating_input_stream>` and :ref:`InflatingOutputStream <doxid-class_poco_1_1_inflating_output_stream>`. :ref:`More...<details-class_poco_1_1_inflating_stream_buf>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <InflatingStream.h>
	
	class InflatingStreamBuf: public :ref:`Poco::BasicBufferedStreamBuf<doxid-class_poco_1_1_basic_buffered_stream_buf>`
	{
	public:
		// enums
	
		enum :ref:`StreamType<doxid-class_poco_1_1_inflating_stream_buf_1a7678081659f4d69ff0fcd2a80388ea7b>`;

		// construction
	
		:ref:`InflatingStreamBuf<doxid-class_poco_1_1_inflating_stream_buf_1a423e88cf36faa361516aff7c829f4c49>`(
			std::istream& istr,
			:ref:`StreamType<doxid-class_poco_1_1_inflating_stream_buf_1a7678081659f4d69ff0fcd2a80388ea7b>` type
			);
	
		:ref:`InflatingStreamBuf<doxid-class_poco_1_1_inflating_stream_buf_1a3d6a5643fc20b9d03373b932704ff6b9>`(
			std::istream& istr,
			int windowBits
			);
	
		:ref:`InflatingStreamBuf<doxid-class_poco_1_1_inflating_stream_buf_1a96beaa1df2097bae9e8e7b461b25a445>`(
			std::ostream& ostr,
			:ref:`StreamType<doxid-class_poco_1_1_inflating_stream_buf_1a7678081659f4d69ff0fcd2a80388ea7b>` type
			);
	
		:ref:`InflatingStreamBuf<doxid-class_poco_1_1_inflating_stream_buf_1a11ada94dad0d202557b72b3ab62e7962>`(
			std::ostream& ostr,
			int windowBits
			);

		// methods
	
		int
		:ref:`close<doxid-class_poco_1_1_inflating_stream_buf_1a407f572893f12db2e246db629a82e3d3>`();
	
		void
		:ref:`reset<doxid-class_poco_1_1_inflating_stream_buf_1ae6ee7fd0fed2dcccbaa377df478c2d2c>`();

	protected:
		// methods
	
		int
		:target:`readFromDevice<doxid-class_poco_1_1_inflating_stream_buf_1acd3f7c61764b793ece9aa228aa377752>`(
			char* buffer,
			std::streamsize length
			);
	
		int
		:target:`writeToDevice<doxid-class_poco_1_1_inflating_stream_buf_1a2448370d8f978c394eebb5fe2e292d4b>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` char* buffer,
			std::streamsize length
			);
	
		virtual
		int
		:target:`sync<doxid-class_poco_1_1_inflating_stream_buf_1ae0e7a562233dbc865481f325c5aadf29>`();
	};

Inherited Members
-----------------

.. ref-code-block:: cpp
	:class: doxyrest-overview-inherited-code-block

	public:
		// methods
	
		virtual
		:ref:`int_type<doxid-class_poco_1_1_basic_buffered_stream_buf_1a072f33e9ac6888c8a6b2d070eae5e5cf>`
		:ref:`overflow<doxid-class_poco_1_1_basic_buffered_stream_buf_1a9f5a4894c3ac9bc10dc59510b53dd0ba>`(:ref:`int_type<doxid-class_poco_1_1_basic_buffered_stream_buf_1a072f33e9ac6888c8a6b2d070eae5e5cf>` c);
	
		virtual
		:ref:`int_type<doxid-class_poco_1_1_basic_buffered_stream_buf_1a072f33e9ac6888c8a6b2d070eae5e5cf>`
		:ref:`underflow<doxid-class_poco_1_1_basic_buffered_stream_buf_1a42e3db1d6f8e787e9b8c600a161bd6e5>`();
	
		virtual
		int
		:ref:`sync<doxid-class_poco_1_1_basic_buffered_stream_buf_1a5b7ffded1b2b978a22e6fda28384d586>`();

	protected:
		// typedefs
	
		typedef std::basic_streambuf<ch, tr> :ref:`Base<doxid-class_poco_1_1_basic_buffered_stream_buf_1aa9cc2e9468255cfb474b0419f03c921e>`;
		typedef std::basic_ios<ch, tr> :ref:`IOS<doxid-class_poco_1_1_basic_buffered_stream_buf_1a3ec782fb6e54d710b61552732c29c0ba>`;
		typedef ch :ref:`char_type<doxid-class_poco_1_1_basic_buffered_stream_buf_1a3ffc84f456738a0c3e782d25bd26300b>`;
		typedef tr :ref:`char_traits<doxid-class_poco_1_1_basic_buffered_stream_buf_1a41a097acbe8eb77b1242ce05d6df8c82>`;
		typedef ba :ref:`Allocator<doxid-class_poco_1_1_basic_buffered_stream_buf_1a77faf57bc04132587d933c079c86500a>`;
		typedef Base::int_type :ref:`int_type<doxid-class_poco_1_1_basic_buffered_stream_buf_1a072f33e9ac6888c8a6b2d070eae5e5cf>`;
		typedef Base::pos_type :ref:`pos_type<doxid-class_poco_1_1_basic_buffered_stream_buf_1a70dc41a1ea74ba986a72745ae67a060c>`;
		typedef Base::off_type :ref:`off_type<doxid-class_poco_1_1_basic_buffered_stream_buf_1a831be32e1663d6bd8c9a648995685171>`;
		typedef IOS::openmode :ref:`openmode<doxid-class_poco_1_1_basic_buffered_stream_buf_1accf972e7f04ea1c832f488d99d342cdd>`;

		// methods
	
		void
		:ref:`setMode<doxid-class_poco_1_1_basic_buffered_stream_buf_1a4bbf0cb1ae9b966563dd08d19ab6b5b2>`(:ref:`openmode<doxid-class_poco_1_1_basic_buffered_stream_buf_1accf972e7f04ea1c832f488d99d342cdd>` mode);
	
		:ref:`openmode<doxid-class_poco_1_1_basic_buffered_stream_buf_1accf972e7f04ea1c832f488d99d342cdd>`
		:ref:`getMode<doxid-class_poco_1_1_basic_buffered_stream_buf_1a79db3d098616089edc9d64a0816dcfcf>`() const;

.. _details-class_poco_1_1_inflating_stream_buf:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

This is the streambuf class used by :ref:`InflatingInputStream <doxid-class_poco_1_1_inflating_input_stream>` and :ref:`InflatingOutputStream <doxid-class_poco_1_1_inflating_output_stream>`.

The actual work is delegated to zlib (see `http://zlib.net <http://zlib.net>`__). Both zlib (deflate) streams and gzip streams are supported. Output streams should always call :ref:`close() <doxid-class_poco_1_1_inflating_stream_buf_1a407f572893f12db2e246db629a82e3d3>` to ensure proper completion of decompression.

Construction
------------

.. index:: pair: function; InflatingStreamBuf
.. _doxid-class_poco_1_1_inflating_stream_buf_1a423e88cf36faa361516aff7c829f4c49:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	InflatingStreamBuf(
		std::istream& istr,
		:ref:`StreamType<doxid-class_poco_1_1_inflating_stream_buf_1a7678081659f4d69ff0fcd2a80388ea7b>` type
		)

Creates an :ref:`InflatingStreamBuf <doxid-class_poco_1_1_inflating_stream_buf>` for expanding the compressed data read from the give input stream.

.. index:: pair: function; InflatingStreamBuf
.. _doxid-class_poco_1_1_inflating_stream_buf_1a3d6a5643fc20b9d03373b932704ff6b9:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	InflatingStreamBuf(
		std::istream& istr,
		int windowBits
		)

Creates an :ref:`InflatingStreamBuf <doxid-class_poco_1_1_inflating_stream_buf>` for expanding the compressed data read from the given input stream.

Please refer to the zlib documentation of :ref:`inflateInit2() <doxid-zlib_8h_1a611fc206e69f34e812ca8b590982fdd5>` for a description of the windowBits parameter.

.. index:: pair: function; InflatingStreamBuf
.. _doxid-class_poco_1_1_inflating_stream_buf_1a96beaa1df2097bae9e8e7b461b25a445:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	InflatingStreamBuf(
		std::ostream& ostr,
		:ref:`StreamType<doxid-class_poco_1_1_inflating_stream_buf_1a7678081659f4d69ff0fcd2a80388ea7b>` type
		)

Creates an :ref:`InflatingStreamBuf <doxid-class_poco_1_1_inflating_stream_buf>` for expanding the compressed data passed through and forwarding it to the given output stream.

.. index:: pair: function; InflatingStreamBuf
.. _doxid-class_poco_1_1_inflating_stream_buf_1a11ada94dad0d202557b72b3ab62e7962:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	InflatingStreamBuf(
		std::ostream& ostr,
		int windowBits
		)

Creates an :ref:`InflatingStreamBuf <doxid-class_poco_1_1_inflating_stream_buf>` for expanding the compressed data passed through and forwarding it to the given output stream.

Please refer to the zlib documentation of :ref:`inflateInit2() <doxid-zlib_8h_1a611fc206e69f34e812ca8b590982fdd5>` for a description of the windowBits parameter.

Methods
-------

.. index:: pair: function; close
.. _doxid-class_poco_1_1_inflating_stream_buf_1a407f572893f12db2e246db629a82e3d3:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	int
	close()

Finishes up the stream.

Must be called when inflating to an output stream.

.. index:: pair: function; reset
.. _doxid-class_poco_1_1_inflating_stream_buf_1ae6ee7fd0fed2dcccbaa377df478c2d2c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	reset()

Resets the stream buffer.

