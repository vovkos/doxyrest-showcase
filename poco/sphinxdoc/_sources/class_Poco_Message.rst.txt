.. index:: pair: class; Poco::Message
.. _doxid-class_poco_1_1_message:

class Poco::Message
===================

.. toctree::
	:hidden:

	enum_Poco_Message_Priority.rst

Overview
~~~~~~~~

This class represents a log message that is sent through a chain of log channels. :ref:`More...<details-class_poco_1_1_message>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <Message.h>
	
	class Message
	{
	public:
		// enums
	
		enum :ref:`Priority<doxid-class_poco_1_1_message_1ac4aacd725373e5e45cf7c06554a3e259>`;

		// construction
	
		:ref:`Message<doxid-class_poco_1_1_message_1a385978886842fe35a930ea7588a990d9>`();
	
		:ref:`Message<doxid-class_poco_1_1_message_1a23830952daee7df626d86d7fdb5cd4ae>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& source,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& text,
			:ref:`Priority<doxid-class_poco_1_1_message_1ac4aacd725373e5e45cf7c06554a3e259>` prio
			);
	
		:ref:`Message<doxid-class_poco_1_1_message_1a75a9684ac9fed6df2298ca112a59e7d1>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& source,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& text,
			:ref:`Priority<doxid-class_poco_1_1_message_1ac4aacd725373e5e45cf7c06554a3e259>` prio,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` char* file,
			int line
			);
	
		:ref:`Message<doxid-class_poco_1_1_message_1a7561a0ef387fda072538f3d559684eba>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Message& msg);
	
		:ref:`Message<doxid-class_poco_1_1_message_1a93133fb6e1ba708c7645609e718b2126>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Message& msg,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& text
			);

		// methods
	
		Message&
		:ref:`operator=<doxid-class_poco_1_1_message_1aebd89384296babf37d4a31b7aef351aa>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Message& msg);
	
		void
		:ref:`swap<doxid-class_poco_1_1_message_1ac71236efe3d521f11c38510961f0b485>`(Message& msg);
	
		void
		:ref:`setSource<doxid-class_poco_1_1_message_1aa81ac0dff6ec586e671cc028814d20dd>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& src);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`getSource<doxid-class_poco_1_1_message_1a297c96b919a53e2daee93a7b70505fa1>`() const;
	
		void
		:ref:`setText<doxid-class_poco_1_1_message_1a8f2f6cfdf19f31a1eeaeaee7e409f0aa>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& text);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`getText<doxid-class_poco_1_1_message_1ad74e81c9260de0217dd74ba5a2237c92>`() const;
	
		void
		:ref:`setPriority<doxid-class_poco_1_1_message_1a524a2cdeb92ed20a2d323c985f11be55>`(:ref:`Priority<doxid-class_poco_1_1_message_1ac4aacd725373e5e45cf7c06554a3e259>` prio);
	
		:ref:`Priority<doxid-class_poco_1_1_message_1ac4aacd725373e5e45cf7c06554a3e259>`
		:ref:`getPriority<doxid-class_poco_1_1_message_1a6af5f1f380108135b169d78ba65641eb>`() const;
	
		void
		:ref:`setTime<doxid-class_poco_1_1_message_1a148a35d67be8b454021630092ee4baf7>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Timestamp<doxid-class_poco_1_1_timestamp>`& time);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Timestamp<doxid-class_poco_1_1_timestamp>`&
		:ref:`getTime<doxid-class_poco_1_1_message_1aa25571547d983291bb327b2f4a0ab757>`() const;
	
		void
		:ref:`setThread<doxid-class_poco_1_1_message_1ae56ea7b148735bb270ff8fb324d4ba52>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& thread);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`getThread<doxid-class_poco_1_1_message_1a8d205cdded59ac9f92ef50add558a7ad>`() const;
	
		void
		:ref:`setTid<doxid-class_poco_1_1_message_1a7eb6764aa59bd03b44ed8044d04b3e65>`(long pid);
	
		long
		:ref:`getTid<doxid-class_poco_1_1_message_1a7efca5ebf53a5d357eca7160c480724b>`() const;
	
		void
		:ref:`setPid<doxid-class_poco_1_1_message_1ab83e5ebdf5f85d4790c9279a1386899d>`(long pid);
	
		long
		:ref:`getPid<doxid-class_poco_1_1_message_1acd72ff2e0b9ba7003a820ce57c18f595>`() const;
	
		void
		:ref:`setSourceFile<doxid-class_poco_1_1_message_1a370396fdb269d3a3d3f899d22b794008>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` char* file);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` char*
		:ref:`getSourceFile<doxid-class_poco_1_1_message_1aeeab9eb31c0dca865a40361067dd8c5c>`() const;
	
		void
		:ref:`setSourceLine<doxid-class_poco_1_1_message_1a273c6d681e760496f0a7a56c11eb72cb>`(int line);
	
		int
		:ref:`getSourceLine<doxid-class_poco_1_1_message_1a9e9ca3a5661959dce6cf2010ea6f1bf5>`() const;
	
		bool
		:ref:`has<doxid-class_poco_1_1_message_1a9a6bfbda28ac5e5098ac7498dc1b48ee>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& param) const;
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`get<doxid-class_poco_1_1_message_1a4f94b6cc73b0eb3a66ad6afc0e3735f3>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& param) const;
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`get<doxid-class_poco_1_1_message_1af4d4f1ffabece406555a7d2671a1c4c3>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& param,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& defaultValue
			) const;
	
		void
		:ref:`set<doxid-class_poco_1_1_message_1a4c4810bed87cf04f332c18fd7e862fb0>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& param,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& value
			);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`operator[]<doxid-class_poco_1_1_message_1a9da7060a4aa987d126338162008776e4>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& param) const;
	
		std::string&
		:ref:`operator[]<doxid-class_poco_1_1_message_1a314104bdc2c4341bd6c5748d5deb0a24>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& param);

	protected:
		// typedefs
	
		typedef std::map<std::string, std::string> :target:`StringMap<doxid-class_poco_1_1_message_1aead8dcdf6464d9f067bbb140302225ac>`;

		// methods
	
		void
		:target:`init<doxid-class_poco_1_1_message_1a1b2a33b3e4eb7490f493693535a785df>`();
	};
.. _details-class_poco_1_1_message:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

This class represents a log message that is sent through a chain of log channels.

A :ref:`Message <doxid-class_poco_1_1_message>` contains a priority denoting the severity of the message, a source describing its origin, a text describing its meaning, the time of its creation, and an identifier of the process and thread that created the message.

Optionally a :ref:`Message <doxid-class_poco_1_1_message>` can also contain the source file path and line number of the statement generating the message.

A :ref:`Message <doxid-class_poco_1_1_message>` can also contain any number of named parameters that contain additional information about the event that caused the message.

Construction
------------

.. index:: pair: function; Message
.. _doxid-class_poco_1_1_message_1a385978886842fe35a930ea7588a990d9:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Message()

Creates an empty :ref:`Message <doxid-class_poco_1_1_message>`.

The thread and process ids are set.

.. index:: pair: function; Message
.. _doxid-class_poco_1_1_message_1a23830952daee7df626d86d7fdb5cd4ae:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Message(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& source,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& text,
		:ref:`Priority<doxid-class_poco_1_1_message_1ac4aacd725373e5e45cf7c06554a3e259>` prio
		)

Creates a :ref:`Message <doxid-class_poco_1_1_message>` with the given source, text and priority.

The thread and process ids are set.

.. index:: pair: function; Message
.. _doxid-class_poco_1_1_message_1a75a9684ac9fed6df2298ca112a59e7d1:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Message(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& source,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& text,
		:ref:`Priority<doxid-class_poco_1_1_message_1ac4aacd725373e5e45cf7c06554a3e259>` prio,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` char* file,
		int line
		)

Creates a :ref:`Message <doxid-class_poco_1_1_message>` with the given source, text, priority, source file path and line.

The source file path must be a static string with a lifetime that's at least the lifetime of the message object (the string is not copied internally). Usually, this will be the path string obtained from the **FILE** macro.

The thread and process ids are set.

.. index:: pair: function; Message
.. _doxid-class_poco_1_1_message_1a7561a0ef387fda072538f3d559684eba:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Message(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Message& msg)

Creates a :ref:`Message <doxid-class_poco_1_1_message>` by copying another one.

.. index:: pair: function; Message
.. _doxid-class_poco_1_1_message_1a93133fb6e1ba708c7645609e718b2126:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Message(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Message& msg,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& text
		)

Creates a :ref:`Message <doxid-class_poco_1_1_message>` by copying all but the text from another message.

Methods
-------

.. index:: pair: function; operator=
.. _doxid-class_poco_1_1_message_1aebd89384296babf37d4a31b7aef351aa:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Message&
	operator=(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Message& msg)

Assignment operator.

.. index:: pair: function; swap
.. _doxid-class_poco_1_1_message_1ac71236efe3d521f11c38510961f0b485:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	swap(Message& msg)

Swaps the message with another one.

.. index:: pair: function; setSource
.. _doxid-class_poco_1_1_message_1aa81ac0dff6ec586e671cc028814d20dd:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setSource(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& src)

Sets the source of the message.

.. index:: pair: function; getSource
.. _doxid-class_poco_1_1_message_1a297c96b919a53e2daee93a7b70505fa1:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	getSource() const

Returns the source of the message.

.. index:: pair: function; setText
.. _doxid-class_poco_1_1_message_1a8f2f6cfdf19f31a1eeaeaee7e409f0aa:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setText(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& text)

Sets the text of the message.

.. index:: pair: function; getText
.. _doxid-class_poco_1_1_message_1ad74e81c9260de0217dd74ba5a2237c92:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	getText() const

Returns the text of the message.

.. index:: pair: function; setPriority
.. _doxid-class_poco_1_1_message_1a524a2cdeb92ed20a2d323c985f11be55:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setPriority(:ref:`Priority<doxid-class_poco_1_1_message_1ac4aacd725373e5e45cf7c06554a3e259>` prio)

Sets the priority of the message.

.. index:: pair: function; getPriority
.. _doxid-class_poco_1_1_message_1a6af5f1f380108135b169d78ba65641eb:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`Priority<doxid-class_poco_1_1_message_1ac4aacd725373e5e45cf7c06554a3e259>`
	getPriority() const

Returns the priority of the message.

.. index:: pair: function; setTime
.. _doxid-class_poco_1_1_message_1a148a35d67be8b454021630092ee4baf7:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setTime(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Timestamp<doxid-class_poco_1_1_timestamp>`& time)

Sets the time of the message.

.. index:: pair: function; getTime
.. _doxid-class_poco_1_1_message_1aa25571547d983291bb327b2f4a0ab757:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Timestamp<doxid-class_poco_1_1_timestamp>`&
	getTime() const

Returns the time of the message.

.. index:: pair: function; setThread
.. _doxid-class_poco_1_1_message_1ae56ea7b148735bb270ff8fb324d4ba52:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setThread(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& thread)

Sets the thread identifier for the message.

.. index:: pair: function; getThread
.. _doxid-class_poco_1_1_message_1a8d205cdded59ac9f92ef50add558a7ad:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	getThread() const

Returns the thread identifier for the message.

.. index:: pair: function; setTid
.. _doxid-class_poco_1_1_message_1a7eb6764aa59bd03b44ed8044d04b3e65:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setTid(long pid)

Sets the numeric thread identifier for the message.

.. index:: pair: function; getTid
.. _doxid-class_poco_1_1_message_1a7efca5ebf53a5d357eca7160c480724b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	long
	getTid() const

Returns the numeric thread identifier for the message.

.. index:: pair: function; setPid
.. _doxid-class_poco_1_1_message_1ab83e5ebdf5f85d4790c9279a1386899d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setPid(long pid)

Sets the process identifier for the message.

.. index:: pair: function; getPid
.. _doxid-class_poco_1_1_message_1acd72ff2e0b9ba7003a820ce57c18f595:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	long
	getPid() const

Returns the process identifier for the message.

.. index:: pair: function; setSourceFile
.. _doxid-class_poco_1_1_message_1a370396fdb269d3a3d3f899d22b794008:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setSourceFile(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` char* file)

Sets the source file path of the statement generating the log message.

:ref:`File <doxid-class_poco_1_1_file>` must be a static string, such as the value of the **FILE** macro. The string is not copied internally for performance reasons.

.. index:: pair: function; getSourceFile
.. _doxid-class_poco_1_1_message_1aeeab9eb31c0dca865a40361067dd8c5c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` char*
	getSourceFile() const

Returns the source file path of the code creating the message.

May be 0 if not set.

.. index:: pair: function; setSourceLine
.. _doxid-class_poco_1_1_message_1a273c6d681e760496f0a7a56c11eb72cb:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setSourceLine(int line)

Sets the source file line of the statement generating the log message.

This is usually the result of the **LINE** macro.

.. index:: pair: function; getSourceLine
.. _doxid-class_poco_1_1_message_1a9e9ca3a5661959dce6cf2010ea6f1bf5:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	int
	getSourceLine() const

Returns the source file line of the statement generating the log message.

May be 0 if not set.

.. index:: pair: function; has
.. _doxid-class_poco_1_1_message_1a9a6bfbda28ac5e5098ac7498dc1b48ee:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	has(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& param) const

Returns true if a parameter with the given name exists.

.. index:: pair: function; get
.. _doxid-class_poco_1_1_message_1a4f94b6cc73b0eb3a66ad6afc0e3735f3:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	get(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& param) const

Returns a const reference to the value of the parameter with the given name.

Throws a NotFoundException if the parameter does not exist.

.. index:: pair: function; get
.. _doxid-class_poco_1_1_message_1af4d4f1ffabece406555a7d2671a1c4c3:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	get(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& param,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& defaultValue
		) const

Returns a const reference to the value of the parameter with the given name.

If the parameter with the given name does not exist, then defaultValue is returned.

.. index:: pair: function; set
.. _doxid-class_poco_1_1_message_1a4c4810bed87cf04f332c18fd7e862fb0:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	set(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& param,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& value
		)

Sets the value for a parameter.

If the parameter does not exist, then it is created.

.. index:: pair: function; operator[]
.. _doxid-class_poco_1_1_message_1a9da7060a4aa987d126338162008776e4:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	operator[](:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& param) const

Returns a const reference to the value of the parameter with the given name.

Throws a NotFoundException if the parameter does not exist.

.. index:: pair: function; operator[]
.. _doxid-class_poco_1_1_message_1a314104bdc2c4341bd6c5748d5deb0a24:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	std::string&
	operator[](:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& param)

Returns a reference to the value of the parameter with the given name.

This can be used to set the parameter's value. If the parameter does not exist, it is created with an empty string value.

