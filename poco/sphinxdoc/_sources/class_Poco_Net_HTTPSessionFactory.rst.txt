.. index:: pair: class; Poco::Net::HTTPSessionFactory
.. _doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory:

class Poco::Net::HTTPSessionFactory
===================================

.. toctree::
	:hidden:

	struct_Poco_Net_HTTPSessionFactory_InstantiatorInfo.rst

Overview
~~~~~~~~

A factory for :ref:`HTTPClientSession <doxid-class_poco_1_1_net_1_1_h_t_t_p_client_session>` objects. :ref:`More...<details-class_poco_1_1_net_1_1_h_t_t_p_session_factory>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <HTTPSessionFactory.h>
	
	class HTTPSessionFactory
	{
	public:
		// structs
	
		struct :ref:`InstantiatorInfo<doxid-struct_poco_1_1_net_1_1_h_t_t_p_session_factory_1_1_instantiator_info>`;

		// construction
	
		:ref:`HTTPSessionFactory<doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1a0c0879af8c794f97834e771ed84065c9>`();
	
		:ref:`HTTPSessionFactory<doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1a9e925b3e1afdcb96b5522ebcada920e3>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& proxyHost,
			Poco::UInt16 proxyPort
			);

		// methods
	
		void
		:ref:`registerProtocol<doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1adb868fd1435fcb495402228b66c9edd0>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& protocol,
			:ref:`HTTPSessionInstantiator<doxid-class_poco_1_1_net_1_1_h_t_t_p_session_instantiator>`* pSessionInstantiator
			);
	
		void
		:ref:`unregisterProtocol<doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1a07e94b70457a473a446eeee60293a77c>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& protocol);
	
		bool
		:ref:`supportsProtocol<doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1a8d5beb4d03099ef92d46ea3c31b012bf>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& protocol);
	
		:ref:`HTTPClientSession<doxid-class_poco_1_1_net_1_1_h_t_t_p_client_session>`*
		:ref:`createClientSession<doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1a361f474c520855cd752f00308caa1d41>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::URI<doxid-class_poco_1_1_u_r_i>`& uri);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`proxyHost<doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1ad5b1152d028b5142501266b78c023a9a>`() const;
	
		Poco::UInt16
		:ref:`proxyPort<doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1a4e1b2a71b49fee0513a433cc104e20d8>`() const;
	
		void
		:ref:`setProxy<doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1ab7d57ca9aa7d65377bf4d3ac039f9b91>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& proxyHost,
			Poco::UInt16 proxyPort
			);
	
		void
		:ref:`setProxyCredentials<doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1ae110248b4755bdec7e8987aae9609b5f>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& username,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& password
			);
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`proxyUsername<doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1ad636746829fef4a1277f0ccafba5b509>`() const;
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`proxyPassword<doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1a073987db32ff2a33e6675e9c16fd9ed7>`() const;
	
		static
		HTTPSessionFactory&
		:ref:`defaultFactory<doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1aefcb27b0e4fa3bdf9622a25cf16d6093>`();
	};
.. _details-class_poco_1_1_net_1_1_h_t_t_p_session_factory:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

A factory for :ref:`HTTPClientSession <doxid-class_poco_1_1_net_1_1_h_t_t_p_client_session>` objects.

Given a :ref:`URI <doxid-class_poco_1_1_u_r_i>`, this class creates a :ref:`HTTPClientSession <doxid-class_poco_1_1_net_1_1_h_t_t_p_client_session>` (for http) or a HTTPSClientSession (for https) for accessing the :ref:`URI <doxid-class_poco_1_1_u_r_i>`.

The actual work of creating the session is done by :ref:`HTTPSessionInstantiator <doxid-class_poco_1_1_net_1_1_h_t_t_p_session_instantiator>` objects that must be registered with a :ref:`HTTPSessionFactory <doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory>`.

Construction
------------

.. index:: pair: function; HTTPSessionFactory
.. _doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1a0c0879af8c794f97834e771ed84065c9:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	HTTPSessionFactory()

Creates the :ref:`HTTPSessionFactory <doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory>`.

.. index:: pair: function; HTTPSessionFactory
.. _doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1a9e925b3e1afdcb96b5522ebcada920e3:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	HTTPSessionFactory(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& proxyHost,
		Poco::UInt16 proxyPort
		)

Creates the :ref:`HTTPSessionFactory <doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory>` and sets the proxy host and port.

Methods
-------

.. index:: pair: function; registerProtocol
.. _doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1adb868fd1435fcb495402228b66c9edd0:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	registerProtocol(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& protocol,
		:ref:`HTTPSessionInstantiator<doxid-class_poco_1_1_net_1_1_h_t_t_p_session_instantiator>`* pSessionInstantiator
		)

Registers the session instantiator for the given protocol.

The factory takes ownership of the SessionInstantiator.

A protocol can be registered more than once. However, only the instantiator that has been registered first is used. Also, for each call to :ref:`registerProtocol() <doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1adb868fd1435fcb495402228b66c9edd0>`, a corresponding call to :ref:`unregisterProtocol() <doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1a07e94b70457a473a446eeee60293a77c>` must be made.

.. index:: pair: function; unregisterProtocol
.. _doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1a07e94b70457a473a446eeee60293a77c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	unregisterProtocol(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& protocol)

Removes the registration of a protocol.

Throws a NotFoundException if no instantiator has been registered for the given protocol.

.. index:: pair: function; supportsProtocol
.. _doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1a8d5beb4d03099ef92d46ea3c31b012bf:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	supportsProtocol(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& protocol)

Returns true if a session instantiator for the given protocol has been registered.

.. index:: pair: function; createClientSession
.. _doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1a361f474c520855cd752f00308caa1d41:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`HTTPClientSession<doxid-class_poco_1_1_net_1_1_h_t_t_p_client_session>`*
	createClientSession(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::URI<doxid-class_poco_1_1_u_r_i>`& uri)

Creates a client session for the given uri scheme. Throws exception if no factory is registered for the given scheme.

.. index:: pair: function; proxyHost
.. _doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1ad5b1152d028b5142501266b78c023a9a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	proxyHost() const

Returns the proxy host, if one has been set, or an empty string otherwise.

.. index:: pair: function; proxyPort
.. _doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1a4e1b2a71b49fee0513a433cc104e20d8:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Poco::UInt16
	proxyPort() const

Returns the proxy port number, if one has been set, or zero otherwise.

.. index:: pair: function; setProxy
.. _doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1ab7d57ca9aa7d65377bf4d3ac039f9b91:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setProxy(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& proxyHost,
		Poco::UInt16 proxyPort
		)

Sets the proxy host and port number.

.. index:: pair: function; setProxyCredentials
.. _doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1ae110248b4755bdec7e8987aae9609b5f:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	setProxyCredentials(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& username,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& password
		)

Sets the username and password for proxy authorization (Basic auth only).

.. index:: pair: function; proxyUsername
.. _doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1ad636746829fef4a1277f0ccafba5b509:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	proxyUsername() const

Returns the username for proxy authorization.

.. index:: pair: function; proxyPassword
.. _doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1a073987db32ff2a33e6675e9c16fd9ed7:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	proxyPassword() const

Returns the password for proxy authorization.

.. index:: pair: function; defaultFactory
.. _doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory_1aefcb27b0e4fa3bdf9622a25cf16d6093:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	HTTPSessionFactory&
	defaultFactory()

Returns the default :ref:`HTTPSessionFactory <doxid-class_poco_1_1_net_1_1_h_t_t_p_session_factory>`.

