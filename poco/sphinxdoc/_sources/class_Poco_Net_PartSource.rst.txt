.. index:: pair: class; Poco::Net::PartSource
.. _doxid-class_poco_1_1_net_1_1_part_source:

class Poco::Net::PartSource
===========================

.. toctree::
	:hidden:

Overview
~~~~~~~~

This abstract class is used for adding parts or attachments to mail messages, as well as for uploading files as part of a HTML form. :ref:`More...<details-class_poco_1_1_net_1_1_part_source>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <PartSource.h>
	
	class PartSource
	{
	public:
		// fields
	
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` int :target:`UNKNOWN_CONTENT_LENGTH<doxid-class_poco_1_1_net_1_1_part_source_1a0dd104eedde9ea7d8d07e2d2c8fc0748>`;

		// methods
	
		virtual
		std::istream&
		:ref:`stream<doxid-class_poco_1_1_net_1_1_part_source_1ac134c69c00e1683bc0134ba4b5d1b79a>`() = 0;
	
		virtual
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`filename<doxid-class_poco_1_1_net_1_1_part_source_1a0e61234e27a21757d02f00490195c5c3>`() const;
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
		:ref:`mediaType<doxid-class_poco_1_1_net_1_1_part_source_1a281adaac391cd0e3f53ef546bfbf84f2>`() const;
	
		:ref:`MessageHeader<doxid-class_poco_1_1_net_1_1_message_header>`&
		:ref:`headers<doxid-class_poco_1_1_net_1_1_part_source_1ad8670328c4e10e678ebb32828c5eb070>`();
	
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`MessageHeader<doxid-class_poco_1_1_net_1_1_message_header>`&
		:ref:`headers<doxid-class_poco_1_1_net_1_1_part_source_1aeda71e9097c135cb66691c23f0fe2293>`() const;
	
		virtual
		std::streamsize
		:ref:`getContentLength<doxid-class_poco_1_1_net_1_1_part_source_1a5a51cd4bfa6ae1f755dfc2daec857f7b>`() const;

	protected:
		// construction
	
		:ref:`PartSource<doxid-class_poco_1_1_net_1_1_part_source_1a8b3d6aa06bb54ddd535c2e9c4d75e9a3>`();
		:ref:`PartSource<doxid-class_poco_1_1_net_1_1_part_source_1a6bfebc6695ed0f99a46dbdf02abb212a>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& mediaType);
	};

	// direct descendants

	class :ref:`FilePartSource<doxid-class_poco_1_1_net_1_1_file_part_source>`;
	class :ref:`PartStore<doxid-class_poco_1_1_net_1_1_part_store>`;
	class :ref:`StringPartSource<doxid-class_poco_1_1_net_1_1_string_part_source>`;
.. _details-class_poco_1_1_net_1_1_part_source:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

This abstract class is used for adding parts or attachments to mail messages, as well as for uploading files as part of a HTML form.

Construction
------------

.. index:: pair: function; PartSource
.. _doxid-class_poco_1_1_net_1_1_part_source_1a8b3d6aa06bb54ddd535c2e9c4d75e9a3:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	PartSource()

Creates the :ref:`PartSource <doxid-class_poco_1_1_net_1_1_part_source>`, using the application/octet-stream MIME type.

.. index:: pair: function; PartSource
.. _doxid-class_poco_1_1_net_1_1_part_source_1a6bfebc6695ed0f99a46dbdf02abb212a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	PartSource(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& mediaType)

Creates the :ref:`PartSource <doxid-class_poco_1_1_net_1_1_part_source>`, using the given MIME type.

Methods
-------

.. index:: pair: function; stream
.. _doxid-class_poco_1_1_net_1_1_part_source_1ac134c69c00e1683bc0134ba4b5d1b79a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	std::istream&
	stream() = 0

Returns an input stream for reading the part data.

Subclasses must override this method.

.. index:: pair: function; filename
.. _doxid-class_poco_1_1_net_1_1_part_source_1a0e61234e27a21757d02f00490195c5c3:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	filename() const

Returns the filename for the part or attachment.

May be overridded by subclasses. The default implementation returns an empty string.

.. index:: pair: function; mediaType
.. _doxid-class_poco_1_1_net_1_1_part_source_1a281adaac391cd0e3f53ef546bfbf84f2:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string&
	mediaType() const

Returns the MIME media type for this part or attachment.

.. index:: pair: function; headers
.. _doxid-class_poco_1_1_net_1_1_part_source_1ad8670328c4e10e678ebb32828c5eb070:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`MessageHeader<doxid-class_poco_1_1_net_1_1_message_header>`&
	headers()

Returns a :ref:`MessageHeader <doxid-class_poco_1_1_net_1_1_message_header>` containing additional header fields for the part.

.. index:: pair: function; headers
.. _doxid-class_poco_1_1_net_1_1_part_source_1aeda71e9097c135cb66691c23f0fe2293:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`MessageHeader<doxid-class_poco_1_1_net_1_1_message_header>`&
	headers() const

Returns a :ref:`MessageHeader <doxid-class_poco_1_1_net_1_1_message_header>` containing additional header fields for the part.

.. index:: pair: function; getContentLength
.. _doxid-class_poco_1_1_net_1_1_part_source_1a5a51cd4bfa6ae1f755dfc2daec857f7b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	std::streamsize
	getContentLength() const

Returns the content length for this part which may be UNKNOWN_CONTENT_LENGTH if not available.

