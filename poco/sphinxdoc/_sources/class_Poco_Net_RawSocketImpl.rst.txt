.. index:: pair: class; Poco::Net::RawSocketImpl
.. _doxid-class_poco_1_1_net_1_1_raw_socket_impl:

class Poco::Net::RawSocketImpl
==============================

.. toctree::
	:hidden:

Overview
~~~~~~~~

This class implements a raw socket. :ref:`More...<details-class_poco_1_1_net_1_1_raw_socket_impl>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <RawSocketImpl.h>
	
	class RawSocketImpl: public :ref:`Poco::Net::SocketImpl<doxid-class_poco_1_1_net_1_1_socket_impl>`
	{
	public:
		// construction
	
		:ref:`RawSocketImpl<doxid-class_poco_1_1_net_1_1_raw_socket_impl_1a7baea8d8db16bdd5a9ff24f52babdfad>`();
	
		:ref:`RawSocketImpl<doxid-class_poco_1_1_net_1_1_raw_socket_impl_1aaae889862c397b29fc56e4834fd3cd56>`(
			:ref:`IPAddress::Family<doxid-class_poco_1_1_net_1_1_i_p_address_1a048c8fc29019f4722f2cdb5ba752d9b6>` family,
			int proto = IPPROTO_RAW
			);
	
		:ref:`RawSocketImpl<doxid-class_poco_1_1_net_1_1_raw_socket_impl_1ab5ad3e4753c8d198c95f83f836d13d71>`(poco_socket_t sockfd);

	protected:
		// methods
	
		virtual
		void
		:ref:`init<doxid-class_poco_1_1_net_1_1_raw_socket_impl_1ac49b7ecca3196e44b21048da6eb1f9b6>`(int af);
	
		void
		:target:`init2<doxid-class_poco_1_1_net_1_1_raw_socket_impl_1a8105618a71d0aa554913f630278c9d01>`(
			int af,
			int proto
			);
	};

	// direct descendants

	class :ref:`ICMPSocketImpl<doxid-class_poco_1_1_net_1_1_i_c_m_p_socket_impl>`;

Inherited Members
-----------------

.. ref-code-block:: cpp
	:class: doxyrest-overview-inherited-code-block

	public:
		// enums
	
		enum :ref:`SelectMode<doxid-class_poco_1_1_net_1_1_socket_impl_1a83da33f180ce05c177be867406e3f780>`;

		// methods
	
		void
		:ref:`duplicate<doxid-class_poco_1_1_ref_counted_object_1a13296da57127169ed0709b3dde86bf0d>`() const;
	
		void
		:ref:`release<doxid-class_poco_1_1_ref_counted_object_1a14bf204923a6ba4b97df6f8fdb9deb72>`() const;
	
		int
		:ref:`referenceCount<doxid-class_poco_1_1_ref_counted_object_1a45b62ccd833bcb06055399c2d889eb35>`() const;
	
		virtual
		:ref:`SocketImpl<doxid-class_poco_1_1_net_1_1_socket_impl>`*
		:ref:`acceptConnection<doxid-class_poco_1_1_net_1_1_socket_impl_1a16153f827776eb018d36aeb467cde290>`(:ref:`SocketAddress<doxid-class_poco_1_1_net_1_1_socket_address>`& clientAddr);
	
		virtual
		void
		:ref:`connect<doxid-class_poco_1_1_net_1_1_socket_impl_1a9272c566890928fc5c9e96bcf37aa1ff>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`SocketAddress<doxid-class_poco_1_1_net_1_1_socket_address>`& address);
	
		virtual
		void
		:ref:`connect<doxid-class_poco_1_1_net_1_1_socket_impl_1ae4729b67ec92f0a604702cb88c6f1e6b>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`SocketAddress<doxid-class_poco_1_1_net_1_1_socket_address>`& address,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`& timeout
			);
	
		virtual
		void
		:ref:`connectNB<doxid-class_poco_1_1_net_1_1_socket_impl_1a290c5e4887abdc5fd7bb5bd7d8856806>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`SocketAddress<doxid-class_poco_1_1_net_1_1_socket_address>`& address);
	
		virtual
		void
		:ref:`bind<doxid-class_poco_1_1_net_1_1_socket_impl_1a43d3da41f5b2b22cf75b6eb222fc53a5>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`SocketAddress<doxid-class_poco_1_1_net_1_1_socket_address>`& address,
			bool reuseAddress = false
			);
	
		virtual
		void
		:ref:`bind6<doxid-class_poco_1_1_net_1_1_socket_impl_1a5e2a45cbf7d403ddd1edb4585da193f5>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`SocketAddress<doxid-class_poco_1_1_net_1_1_socket_address>`& address,
			bool reuseAddress = false,
			bool ipV6Only = false
			);
	
		virtual
		void
		:ref:`listen<doxid-class_poco_1_1_net_1_1_socket_impl_1a0994375254b7e67388330c1197b242e1>`(int backlog = 64);
	
		virtual
		void
		:ref:`close<doxid-class_poco_1_1_net_1_1_socket_impl_1a823bc2ba9a95531c00051611c9cdde64>`();
	
		virtual
		void
		:ref:`shutdownReceive<doxid-class_poco_1_1_net_1_1_socket_impl_1a0e92238ec6c7228a8a36c829cf500662>`();
	
		virtual
		void
		:ref:`shutdownSend<doxid-class_poco_1_1_net_1_1_socket_impl_1acdcad7d9b270930874dfed91d0b621a6>`();
	
		virtual
		void
		:ref:`shutdown<doxid-class_poco_1_1_net_1_1_socket_impl_1ae962421bd2ce3466ec906178c00018e7>`();
	
		virtual
		int
		:ref:`sendBytes<doxid-class_poco_1_1_net_1_1_socket_impl_1aa59d3c72d02155d6075cb3b681e691f0>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* buffer,
			int length,
			int flags = 0
			);
	
		virtual
		int
		:ref:`receiveBytes<doxid-class_poco_1_1_net_1_1_socket_impl_1a0fad62e3c1372bd59866007e2191f470>`(
			void* buffer,
			int length,
			int flags = 0
			);
	
		virtual
		int
		:ref:`sendTo<doxid-class_poco_1_1_net_1_1_socket_impl_1a1bb8b92cd44600dc1067c753d53d3f34>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* buffer,
			int length,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`SocketAddress<doxid-class_poco_1_1_net_1_1_socket_address>`& address,
			int flags = 0
			);
	
		virtual
		int
		:ref:`receiveFrom<doxid-class_poco_1_1_net_1_1_socket_impl_1a9c8592fd354cb5127498628062561109>`(
			void* buffer,
			int length,
			:ref:`SocketAddress<doxid-class_poco_1_1_net_1_1_socket_address>`& address,
			int flags = 0
			);
	
		virtual
		void
		:ref:`sendUrgent<doxid-class_poco_1_1_net_1_1_socket_impl_1a0e9222ef356eef6a09f6c59be3da75ea>`(unsigned char data);
	
		virtual
		int
		:ref:`available<doxid-class_poco_1_1_net_1_1_socket_impl_1a05ce9b0b60e4b72ed4f2cb6790d59059>`();
	
		virtual
		bool
		:ref:`poll<doxid-class_poco_1_1_net_1_1_socket_impl_1a79bb81af87335fd4a000f235af7a9ef2>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`& timeout,
			int mode
			);
	
		virtual
		void
		:ref:`setSendBufferSize<doxid-class_poco_1_1_net_1_1_socket_impl_1afeaa1b59ae76e8c38a8f92cb1a19e0b9>`(int size);
	
		virtual
		int
		:ref:`getSendBufferSize<doxid-class_poco_1_1_net_1_1_socket_impl_1a56ede6958c25cdeb73833648e4909d7c>`();
	
		virtual
		void
		:ref:`setReceiveBufferSize<doxid-class_poco_1_1_net_1_1_socket_impl_1a34e15aeb178ffb949ab24d0a66d7e175>`(int size);
	
		virtual
		int
		:ref:`getReceiveBufferSize<doxid-class_poco_1_1_net_1_1_socket_impl_1a4e4ed01d5eb87858612f1b08db4d8c9e>`();
	
		virtual
		void
		:ref:`setSendTimeout<doxid-class_poco_1_1_net_1_1_socket_impl_1a6e7069c5e8385ec9581522cabaaef724>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`& timeout);
	
		virtual
		:ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`
		:ref:`getSendTimeout<doxid-class_poco_1_1_net_1_1_socket_impl_1a24b1e5bdf46170d24262bf6cee5dd135>`();
	
		virtual
		void
		:ref:`setReceiveTimeout<doxid-class_poco_1_1_net_1_1_socket_impl_1a5401c99e2a540d19f128f807e27172fa>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`& timeout);
	
		virtual
		:ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`
		:ref:`getReceiveTimeout<doxid-class_poco_1_1_net_1_1_socket_impl_1a1e165309a5ce14e9c661dec13308a612>`();
	
		virtual
		:ref:`SocketAddress<doxid-class_poco_1_1_net_1_1_socket_address>`
		:ref:`address<doxid-class_poco_1_1_net_1_1_socket_impl_1aef377790f80420714811b589dc3af635>`();
	
		virtual
		:ref:`SocketAddress<doxid-class_poco_1_1_net_1_1_socket_address>`
		:ref:`peerAddress<doxid-class_poco_1_1_net_1_1_socket_impl_1a59d6dc5bd3a908cdd3af6ea902a13a8b>`();
	
		void
		:ref:`setOption<doxid-class_poco_1_1_net_1_1_socket_impl_1a35d99f6d235985827cd382e6e74cf7ca>`(
			int level,
			int option,
			int value
			);
	
		void
		:ref:`setOption<doxid-class_poco_1_1_net_1_1_socket_impl_1af7a3e1e5a6975cf88dec37028063d170>`(
			int level,
			int option,
			unsigned value
			);
	
		void
		:ref:`setOption<doxid-class_poco_1_1_net_1_1_socket_impl_1ac0f8a780abeb3d13e9bbe3cca02e6378>`(
			int level,
			int option,
			unsigned char value
			);
	
		void
		:ref:`setOption<doxid-class_poco_1_1_net_1_1_socket_impl_1ab082d67fa3ea3c11238926f0d6a07666>`(
			int level,
			int option,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`& value
			);
	
		void
		:ref:`setOption<doxid-class_poco_1_1_net_1_1_socket_impl_1a3212bf116ed3319ff59f0a008c47006e>`(
			int level,
			int option,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`IPAddress<doxid-class_poco_1_1_net_1_1_i_p_address>`& value
			);
	
		virtual
		void
		:ref:`setRawOption<doxid-class_poco_1_1_net_1_1_socket_impl_1a3753ed5d4277882b8cbd32492c56f6a0>`(
			int level,
			int option,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* value,
			poco_socklen_t length
			);
	
		void
		:ref:`getOption<doxid-class_poco_1_1_net_1_1_socket_impl_1aa9e27c9fcff68c77257228a976ca5153>`(
			int level,
			int option,
			int& value
			);
	
		void
		:ref:`getOption<doxid-class_poco_1_1_net_1_1_socket_impl_1adce6fbbb34a8623054e08f684dd2b41b>`(
			int level,
			int option,
			unsigned& value
			);
	
		void
		:ref:`getOption<doxid-class_poco_1_1_net_1_1_socket_impl_1a2ad26450a604cbb7d1ff387a46e77e58>`(
			int level,
			int option,
			unsigned char& value
			);
	
		void
		:ref:`getOption<doxid-class_poco_1_1_net_1_1_socket_impl_1a60a11678ff2884e60982b7e0f0d02e3f>`(
			int level,
			int option,
			:ref:`Poco::Timespan<doxid-class_poco_1_1_timespan>`& value
			);
	
		void
		:ref:`getOption<doxid-class_poco_1_1_net_1_1_socket_impl_1a9912f75c526f124366931422e1775711>`(
			int level,
			int option,
			:ref:`IPAddress<doxid-class_poco_1_1_net_1_1_i_p_address>`& value
			);
	
		virtual
		void
		:ref:`getRawOption<doxid-class_poco_1_1_net_1_1_socket_impl_1a282fbc921cdd87e191daa67e150a1ddb>`(
			int level,
			int option,
			void* value,
			poco_socklen_t& length
			);
	
		void
		:ref:`setLinger<doxid-class_poco_1_1_net_1_1_socket_impl_1aca64e2ea533f82b9e78b668ad059240d>`(
			bool on,
			int seconds
			);
	
		void
		:ref:`getLinger<doxid-class_poco_1_1_net_1_1_socket_impl_1aeb04c4c6889aacdda74309fb23db18ec>`(
			bool& on,
			int& seconds
			);
	
		void
		:ref:`setNoDelay<doxid-class_poco_1_1_net_1_1_socket_impl_1a6e41e51a3034a64e47a3a0d0b63c6f6f>`(bool flag);
	
		bool
		:ref:`getNoDelay<doxid-class_poco_1_1_net_1_1_socket_impl_1ab969da4db2960f8e66a585a3c5d03958>`();
	
		void
		:ref:`setKeepAlive<doxid-class_poco_1_1_net_1_1_socket_impl_1af8be6670ad1a1115e9415415c14a174c>`(bool flag);
	
		bool
		:ref:`getKeepAlive<doxid-class_poco_1_1_net_1_1_socket_impl_1a49f847d52804a670914b304695fbd386>`();
	
		void
		:ref:`setReuseAddress<doxid-class_poco_1_1_net_1_1_socket_impl_1ad9443b9ff4558ca50ee2810355714144>`(bool flag);
	
		bool
		:ref:`getReuseAddress<doxid-class_poco_1_1_net_1_1_socket_impl_1a5f3f9c10cbdb05c03455ac64ebb9787d>`();
	
		void
		:ref:`setReusePort<doxid-class_poco_1_1_net_1_1_socket_impl_1a4f719f8476f74babeb0dd510379cc134>`(bool flag);
	
		bool
		:ref:`getReusePort<doxid-class_poco_1_1_net_1_1_socket_impl_1ae16279c4ad520e93e981d2223b07ade9>`();
	
		void
		:ref:`setOOBInline<doxid-class_poco_1_1_net_1_1_socket_impl_1aef598e7a5551a432481c1f1f78b6023f>`(bool flag);
	
		bool
		:ref:`getOOBInline<doxid-class_poco_1_1_net_1_1_socket_impl_1a4b1b5fcc6e43f6f06074c7921ce13a69>`();
	
		void
		:ref:`setBroadcast<doxid-class_poco_1_1_net_1_1_socket_impl_1a98e91e59b1d1385f4c85bce4bcc2aecb>`(bool flag);
	
		bool
		:ref:`getBroadcast<doxid-class_poco_1_1_net_1_1_socket_impl_1a32f3b5ded0f2657e2a5afe26de744726>`();
	
		virtual
		void
		:ref:`setBlocking<doxid-class_poco_1_1_net_1_1_socket_impl_1a385b74e6b9c1a8064a2f64a3711686d6>`(bool flag);
	
		virtual
		bool
		:ref:`getBlocking<doxid-class_poco_1_1_net_1_1_socket_impl_1a42a191f4fa362dfe0921843c84af5c04>`() const;
	
		virtual
		bool
		:ref:`secure<doxid-class_poco_1_1_net_1_1_socket_impl_1a03ad30594c5f54ce331519adcc51e44f>`() const;
	
		int
		:ref:`socketError<doxid-class_poco_1_1_net_1_1_socket_impl_1a2051824d16288272de51f2b224c6f093>`();
	
		poco_socket_t
		:ref:`sockfd<doxid-class_poco_1_1_net_1_1_socket_impl_1a39dc408f5d254af81ee85767d9fc4cdc>`() const;
	
		void
		:ref:`ioctl<doxid-class_poco_1_1_net_1_1_socket_impl_1a9b8e95ddf8210cac78ac1173db12effc>`(
			poco_ioctl_request_t request,
			int& arg
			);
	
		void
		:ref:`ioctl<doxid-class_poco_1_1_net_1_1_socket_impl_1aa04b9b1452f8af21e99a4810ceabb524>`(
			poco_ioctl_request_t request,
			void* arg
			);
	
		bool
		:ref:`initialized<doxid-class_poco_1_1_net_1_1_socket_impl_1a7a7448461bb35fdd9b1c9cefe9bc92c7>`() const;

	protected:
		// methods
	
		virtual
		void
		:ref:`init<doxid-class_poco_1_1_net_1_1_socket_impl_1a79ad870810e84d67811d656c4a8707d4>`(int af);
	
		void
		:ref:`initSocket<doxid-class_poco_1_1_net_1_1_socket_impl_1aedff929707b03a0044b4db661c14c786>`(
			int af,
			int type,
			int proto = 0
			);
	
		void
		:ref:`reset<doxid-class_poco_1_1_net_1_1_socket_impl_1a5c12ec8588d8c7543b2b9c9b9cd0ef2d>`(poco_socket_t fd = POCO_INVALID_SOCKET);
	
		static
		int
		:ref:`lastError<doxid-class_poco_1_1_net_1_1_socket_impl_1a3ffe9583ed625f2d4ff2dd4871300cf4>`();
	
		static
		void
		:ref:`error<doxid-class_poco_1_1_net_1_1_socket_impl_1a811dbd3e9e8f153fc7b5c2f4e5cbacdf>`();
	
		static
		void
		:ref:`error<doxid-class_poco_1_1_net_1_1_socket_impl_1afb5b15ed692c7aa408d0deef308a8036>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& arg);
	
		static
		void
		:ref:`error<doxid-class_poco_1_1_net_1_1_socket_impl_1a2fac81981e534ba1baec655718a018fb>`(int code);
	
		static
		void
		:ref:`error<doxid-class_poco_1_1_net_1_1_socket_impl_1a46eb122eb782d0f7bc7334a3c8310041>`(
			int code,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& arg
			);

.. _details-class_poco_1_1_net_1_1_raw_socket_impl:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

This class implements a raw socket.

Construction
------------

.. index:: pair: function; RawSocketImpl
.. _doxid-class_poco_1_1_net_1_1_raw_socket_impl_1a7baea8d8db16bdd5a9ff24f52babdfad:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	RawSocketImpl()

Creates an unconnected IPv4 raw socket with IPPROTO_RAW.

.. index:: pair: function; RawSocketImpl
.. _doxid-class_poco_1_1_net_1_1_raw_socket_impl_1aaae889862c397b29fc56e4834fd3cd56:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	RawSocketImpl(
		:ref:`IPAddress::Family<doxid-class_poco_1_1_net_1_1_i_p_address_1a048c8fc29019f4722f2cdb5ba752d9b6>` family,
		int proto = IPPROTO_RAW
		)

Creates an unconnected raw socket.

The socket will be created for the given address family.

.. index:: pair: function; RawSocketImpl
.. _doxid-class_poco_1_1_net_1_1_raw_socket_impl_1ab5ad3e4753c8d198c95f83f836d13d71:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	RawSocketImpl(poco_socket_t sockfd)

Creates a :ref:`RawSocketImpl <doxid-class_poco_1_1_net_1_1_raw_socket_impl>` using the given native socket.

Methods
-------

.. index:: pair: function; init
.. _doxid-class_poco_1_1_net_1_1_raw_socket_impl_1ac49b7ecca3196e44b21048da6eb1f9b6:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	init(int af)

Creates the underlying native socket.

Subclasses must implement this method so that it calls :ref:`initSocket() <doxid-class_poco_1_1_net_1_1_socket_impl_1aedff929707b03a0044b4db661c14c786>` with the appropriate arguments.

The default implementation creates a stream socket.

