.. index:: pair: class; Poco::Net::SMTPChannel
.. _doxid-class_poco_1_1_net_1_1_s_m_t_p_channel:

class Poco::Net::SMTPChannel
============================

.. toctree::
	:hidden:

Overview
~~~~~~~~

This :ref:`Channel <doxid-class_poco_1_1_channel>` implements SMTP (email) logging. :ref:`More...<details-class_poco_1_1_net_1_1_s_m_t_p_channel>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <SMTPChannel.h>
	
	class SMTPChannel: public :ref:`Poco::Channel<doxid-class_poco_1_1_channel>`
	{
	public:
		// fields
	
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`PROP_MAILHOST<doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1a3b281ba6166f67bc5c1d8b6957c83f21>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`PROP_SENDER<doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1a569b9c060e612d4850d00816fe93c3d0>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`PROP_RECIPIENT<doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1aabc06e8c0a9ef671b2d46650a5774896>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`PROP_LOCAL<doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1a9ad5852dd11f13da385546b46980b07c>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`PROP_ATTACHMENT<doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1ae5a66ba10ac8c875dabeaafa780e73c4>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`PROP_TYPE<doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1a2e5b16dc17c95e886aae7a282adea540>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`PROP_DELETE<doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1a4691248926c53095c366cdf69b1589e6>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string :target:`PROP_THROW<doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1a96b60300a197c29e6589e81f84993ceb>`;

		// construction
	
		:ref:`SMTPChannel<doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1ab2b4efe35be548016c5bcc095bd1f8a4>`();
	
		:ref:`SMTPChannel<doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1acf88835baceaec5c1076fa18cb07bd41>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& mailhost,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& sender,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& recipient
			);

		// methods
	
		virtual
		void
		:ref:`open<doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1ab840607b1a87b69e4912d48513220e02>`();
	
		virtual
		void
		:ref:`close<doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1ae9c4efbccf55c27c13b78b9fb3aeea7a>`();
	
		virtual
		void
		:ref:`log<doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1ad417c9d0ed302f9cb149aafd7cc2a7d2>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Message<doxid-class_poco_1_1_message>`& msg);
	
		virtual
		void
		:ref:`setProperty<doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1af10726a63442bc71fc045e438dec2223>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& value
			);
	
		virtual
		std::string
		:ref:`getProperty<doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1af0f99274c0c3a2d42c6e288cd067d275>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name) const;
	
		static
		void
		:ref:`registerChannel<doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1ae3ddaf6b6705cfc280eebdf01d83d4b2>`();
	};

Inherited Members
-----------------

.. ref-code-block:: cpp
	:class: doxyrest-overview-inherited-code-block

	public:
		// methods
	
		virtual
		void
		:ref:`setProperty<doxid-class_poco_1_1_configurable_1ae31289819bd01f4a1bda0be67144d5bf>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& value
			) = 0;
	
		virtual
		std::string
		:ref:`getProperty<doxid-class_poco_1_1_configurable_1a565940a99f096c005743a68040ca5e25>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name) const = 0;
	
		void
		:ref:`duplicate<doxid-class_poco_1_1_ref_counted_object_1a13296da57127169ed0709b3dde86bf0d>`() const;
	
		void
		:ref:`release<doxid-class_poco_1_1_ref_counted_object_1a14bf204923a6ba4b97df6f8fdb9deb72>`() const;
	
		int
		:ref:`referenceCount<doxid-class_poco_1_1_ref_counted_object_1a45b62ccd833bcb06055399c2d889eb35>`() const;
	
		virtual
		void
		:ref:`open<doxid-class_poco_1_1_channel_1aef60226200d2e287068a62d9af5a4f6e>`();
	
		virtual
		void
		:ref:`close<doxid-class_poco_1_1_channel_1a2056a173f804c51411942649bd4d6408>`();
	
		virtual
		void
		:ref:`log<doxid-class_poco_1_1_channel_1aeafdcc5ce2e0e38d96f15a60a563da4e>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Message<doxid-class_poco_1_1_message>`& msg) = 0;
	
		virtual
		void
		:ref:`setProperty<doxid-class_poco_1_1_channel_1a67c2a274e476745b902ced03fb485c6e>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& value
			);
	
		virtual
		std::string
		:ref:`getProperty<doxid-class_poco_1_1_channel_1a187321f59674dfde457599885a4f6ec0>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name) const;

.. _details-class_poco_1_1_net_1_1_s_m_t_p_channel:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

This :ref:`Channel <doxid-class_poco_1_1_channel>` implements SMTP (email) logging.

Construction
------------

.. index:: pair: function; SMTPChannel
.. _doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1ab2b4efe35be548016c5bcc095bd1f8a4:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	SMTPChannel()

Creates a :ref:`SMTPChannel <doxid-class_poco_1_1_net_1_1_s_m_t_p_channel>`.

.. index:: pair: function; SMTPChannel
.. _doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1acf88835baceaec5c1076fa18cb07bd41:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	SMTPChannel(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& mailhost,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& sender,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& recipient
		)

Creates a :ref:`SMTPChannel <doxid-class_poco_1_1_net_1_1_s_m_t_p_channel>` with the given target mailhost, sender, and recipient.

Methods
-------

.. index:: pair: function; open
.. _doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1ab840607b1a87b69e4912d48513220e02:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	open()

Opens the :ref:`SMTPChannel <doxid-class_poco_1_1_net_1_1_s_m_t_p_channel>`.

.. index:: pair: function; close
.. _doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1ae9c4efbccf55c27c13b78b9fb3aeea7a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	close()

Closes the :ref:`SMTPChannel <doxid-class_poco_1_1_net_1_1_s_m_t_p_channel>`.

.. index:: pair: function; log
.. _doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1ad417c9d0ed302f9cb149aafd7cc2a7d2:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	log(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Message<doxid-class_poco_1_1_message>`& msg)

Sends the message's text to the recipient.

.. index:: pair: function; setProperty
.. _doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1af10726a63442bc71fc045e438dec2223:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	setProperty(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& value
		)

Sets the property with the given value.

The following properties are supported:

.. ref-code-block:: cpp

	* mailhost:   The SMTP server. Default is "localhost".
	* sender:     The sender address.
	* recipient:  The recipient address.
	* local:      If true, local time is used. Default is true.
	* attachment: Filename of the file to attach.
	* type:       Content type of the file to attach.
	* delete:     Boolean value indicating whether to delete 
	              the attachment file after sending.
	* throw:      Boolean value indicating whether to throw 
	              exception upon failure.

.. index:: pair: function; getProperty
.. _doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1af0f99274c0c3a2d42c6e288cd067d275:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	std::string
	getProperty(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name) const

Returns the value of the property with the given name.

.. index:: pair: function; registerChannel
.. _doxid-class_poco_1_1_net_1_1_s_m_t_p_channel_1ae3ddaf6b6705cfc280eebdf01d83d4b2:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	void
	registerChannel()

Registers the channel with the global :ref:`LoggingFactory <doxid-class_poco_1_1_logging_factory>`.

