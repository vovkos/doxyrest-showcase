.. index:: pair: class; Poco::Net::TCPServerConnection
.. _doxid-class_poco_1_1_net_1_1_t_c_p_server_connection:

class Poco::Net::TCPServerConnection
====================================

.. toctree::
	:hidden:

Overview
~~~~~~~~

The abstract base class for TCP server connections created by :ref:`TCPServer <doxid-class_poco_1_1_net_1_1_t_c_p_server>`. :ref:`More...<details-class_poco_1_1_net_1_1_t_c_p_server_connection>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <TCPServerConnection.h>
	
	class TCPServerConnection: public :ref:`Poco::Runnable<doxid-class_poco_1_1_runnable>`
	{
	public:
		// construction
	
		:ref:`TCPServerConnection<doxid-class_poco_1_1_net_1_1_t_c_p_server_connection_1a0d3592d4f4653c09bc92cd5ed9ebeb4f>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`StreamSocket<doxid-class_poco_1_1_net_1_1_stream_socket>`& socket);

	protected:
		// methods
	
		:ref:`StreamSocket<doxid-class_poco_1_1_net_1_1_stream_socket>`&
		:ref:`socket<doxid-class_poco_1_1_net_1_1_t_c_p_server_connection_1a72cdb9b61ebd0c32937f3c40d457db41>`();
	
		void
		:ref:`start<doxid-class_poco_1_1_net_1_1_t_c_p_server_connection_1a99050d9417c0ffada2f426833a06f977>`();
	};

	// direct descendants

	class :ref:`HTTPServerConnection<doxid-class_poco_1_1_net_1_1_h_t_t_p_server_connection>`;

Inherited Members
-----------------

.. ref-code-block:: cpp
	:class: doxyrest-overview-inherited-code-block

	public:
		// methods
	
		virtual
		void
		:ref:`run<doxid-class_poco_1_1_runnable_1ad89816e81207bf5f1e52d5df860d11d4>`() = 0;

.. _details-class_poco_1_1_net_1_1_t_c_p_server_connection:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

The abstract base class for TCP server connections created by :ref:`TCPServer <doxid-class_poco_1_1_net_1_1_t_c_p_server>`.

Derived classes must override the :ref:`run() <doxid-class_poco_1_1_runnable_1ad89816e81207bf5f1e52d5df860d11d4>` method (inherited from :ref:`Runnable <doxid-class_poco_1_1_runnable>`). Furthermore, a :ref:`TCPServerConnectionFactory <doxid-class_poco_1_1_net_1_1_t_c_p_server_connection_factory>` must be provided for the subclass.

The :ref:`run() <doxid-class_poco_1_1_runnable_1ad89816e81207bf5f1e52d5df860d11d4>` method must perform the complete handling of the client connection. As soon as the :ref:`run() <doxid-class_poco_1_1_runnable_1ad89816e81207bf5f1e52d5df860d11d4>` method returns, the server connection object is destroyed and the connection is automatically closed.

A new :ref:`TCPServerConnection <doxid-class_poco_1_1_net_1_1_t_c_p_server_connection>` object will be created for each new client connection that is accepted by :ref:`TCPServer <doxid-class_poco_1_1_net_1_1_t_c_p_server>`.

Construction
------------

.. index:: pair: function; TCPServerConnection
.. _doxid-class_poco_1_1_net_1_1_t_c_p_server_connection_1a0d3592d4f4653c09bc92cd5ed9ebeb4f:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	TCPServerConnection(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`StreamSocket<doxid-class_poco_1_1_net_1_1_stream_socket>`& socket)

Creates the :ref:`TCPServerConnection <doxid-class_poco_1_1_net_1_1_t_c_p_server_connection>` using the given stream socket.

Methods
-------

.. index:: pair: function; socket
.. _doxid-class_poco_1_1_net_1_1_t_c_p_server_connection_1a72cdb9b61ebd0c32937f3c40d457db41:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`StreamSocket<doxid-class_poco_1_1_net_1_1_stream_socket>`&
	socket()

Returns a reference to the underlying socket.

.. index:: pair: function; start
.. _doxid-class_poco_1_1_net_1_1_t_c_p_server_connection_1a99050d9417c0ffada2f426833a06f977:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	start()

Calls :ref:`run() <doxid-class_poco_1_1_runnable_1ad89816e81207bf5f1e52d5df860d11d4>` and catches any exceptions that might be thrown by :ref:`run() <doxid-class_poco_1_1_runnable_1ad89816e81207bf5f1e52d5df860d11d4>`.

