.. index:: pair: class; Poco::PurgeStrategy
.. _doxid-class_poco_1_1_purge_strategy:

class Poco::PurgeStrategy
=========================

.. toctree::
	:hidden:

Overview
~~~~~~~~

The :ref:`PurgeStrategy <doxid-class_poco_1_1_purge_strategy>` is used by :ref:`FileChannel <doxid-class_poco_1_1_file_channel>` to purge archived log files. :ref:`More...<details-class_poco_1_1_purge_strategy>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <PurgeStrategy.h>
	
	class PurgeStrategy
	{
	public:
		// methods
	
		virtual
		void
		:ref:`purge<doxid-class_poco_1_1_purge_strategy_1a00842e6011133c68b3eb2d0d545f6f53>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& path) = 0;

	protected:
		// methods
	
		void
		:ref:`list<doxid-class_poco_1_1_purge_strategy_1a276b5369e117abb9818b779b3a95f48c>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& path,
			std::vector<:ref:`File<doxid-class_poco_1_1_file>`>& files
			);
	};

	// direct descendants

	class :ref:`PurgeByAgeStrategy<doxid-class_poco_1_1_purge_by_age_strategy>`;
	class :ref:`PurgeByCountStrategy<doxid-class_poco_1_1_purge_by_count_strategy>`;
.. _details-class_poco_1_1_purge_strategy:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

The :ref:`PurgeStrategy <doxid-class_poco_1_1_purge_strategy>` is used by :ref:`FileChannel <doxid-class_poco_1_1_file_channel>` to purge archived log files.

Methods
-------

.. index:: pair: function; purge
.. _doxid-class_poco_1_1_purge_strategy_1a00842e6011133c68b3eb2d0d545f6f53:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	virtual
	void
	purge(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& path) = 0

Purges archived log files.

The path to the current "hot" log file is given. To find archived log files, look for files with a name consisting of the given path plus any suffix (e.g., .1, .20050929081500, .1.gz). A list of archived files can be obtained by calling the :ref:`list() <doxid-class_poco_1_1_purge_strategy_1a276b5369e117abb9818b779b3a95f48c>` method.

.. index:: pair: function; list
.. _doxid-class_poco_1_1_purge_strategy_1a276b5369e117abb9818b779b3a95f48c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	list(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& path,
		std::vector<:ref:`File<doxid-class_poco_1_1_file>`>& files
		)

Fills the given vector with a list of archived log files.

The path of the current "hot" log file is given in path.

All files with the same name as the one given in path, plus some suffix (e.g., .1, .20050929081500, .1.gz) are considered archived files.

