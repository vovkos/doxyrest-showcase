.. index:: pair: class; Poco::SharedMemoryImpl
.. _doxid-class_poco_1_1_shared_memory_impl:

class Poco::SharedMemoryImpl
============================

.. toctree::
	:hidden:

Overview
~~~~~~~~

A dummy implementation of shared memory, for systems that do not have shared memory support. :ref:`More...<details-class_poco_1_1_shared_memory_impl>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <SharedMemory_DUMMY.h>
	
	class SharedMemoryImpl: public :ref:`Poco::RefCountedObject<doxid-class_poco_1_1_ref_counted_object>`
	{
	public:
		// construction
	
		:ref:`SharedMemoryImpl<doxid-class_poco_1_1_shared_memory_impl_1ad6787efd3594674ad22ab0c46977bfcc>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& id,
			std::size_t size,
			:ref:`SharedMemory::AccessMode<doxid-class_poco_1_1_shared_memory_1a12ab0f4ee9f7fa6b90387507a0a141ee>` mode,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* addr,
			bool server
			);
	
		:ref:`SharedMemoryImpl<doxid-class_poco_1_1_shared_memory_impl_1ac41016d6538608a11a5830c1b8d16cfb>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::File<doxid-class_poco_1_1_file>`& aFile,
			:ref:`SharedMemory::AccessMode<doxid-class_poco_1_1_shared_memory_1a12ab0f4ee9f7fa6b90387507a0a141ee>` mode,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* addr
			);
	
		:ref:`SharedMemoryImpl<doxid-class_poco_1_1_shared_memory_impl_1a949148deaee7aa8e249910dfa9b333bd>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name,
			std::size_t size,
			:ref:`SharedMemory::AccessMode<doxid-class_poco_1_1_shared_memory_1a12ab0f4ee9f7fa6b90387507a0a141ee>` mode,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* addrHint,
			bool server
			);
	
		:ref:`SharedMemoryImpl<doxid-class_poco_1_1_shared_memory_impl_1aba0476bd21351674cf69b9c0388a6a66>`(
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::File<doxid-class_poco_1_1_file>`& file,
			:ref:`SharedMemory::AccessMode<doxid-class_poco_1_1_shared_memory_1a12ab0f4ee9f7fa6b90387507a0a141ee>` mode,
			:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* addrHint
			);

		// methods
	
		char*
		:ref:`begin<doxid-class_poco_1_1_shared_memory_impl_1a952ecb8e0723b13ec0f4c62fff3da5a5>`() const;
	
		char*
		:ref:`end<doxid-class_poco_1_1_shared_memory_impl_1a9bd54ac8a540dee58d0a88bcd229a8db>`() const;
	
		char*
		:ref:`begin<doxid-class_poco_1_1_shared_memory_impl_1ae453547f3960761e668f8b1313392c96>`() const;
	
		char*
		:ref:`end<doxid-class_poco_1_1_shared_memory_impl_1ad4d894fe32b96bac8011006651c70df8>`() const;

	protected:
		// methods
	
		void
		:ref:`map<doxid-class_poco_1_1_shared_memory_impl_1aa9e8a12c04ce3ea259698c8379d94bc7>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* addrHint);
	
		void
		:ref:`unmap<doxid-class_poco_1_1_shared_memory_impl_1ad0c0bb1c3047ead8034c1f967d3057c1>`();
	
		void
		:ref:`close<doxid-class_poco_1_1_shared_memory_impl_1a8b7f0e3bd86af62ab86f8e2b904f4cd4>`();
	
		void
		:ref:`map<doxid-class_poco_1_1_shared_memory_impl_1a7a681efc4a66cdc918fe9ba8a57b3672>`();
	};

Inherited Members
-----------------

.. ref-code-block:: cpp
	:class: doxyrest-overview-inherited-code-block

	public:
		// methods
	
		void
		:ref:`duplicate<doxid-class_poco_1_1_ref_counted_object_1a13296da57127169ed0709b3dde86bf0d>`() const;
	
		void
		:ref:`release<doxid-class_poco_1_1_ref_counted_object_1a14bf204923a6ba4b97df6f8fdb9deb72>`() const;
	
		int
		:ref:`referenceCount<doxid-class_poco_1_1_ref_counted_object_1a45b62ccd833bcb06055399c2d889eb35>`() const;

.. _details-class_poco_1_1_shared_memory_impl:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

A dummy implementation of shared memory, for systems that do not have shared memory support.

Shared memory implementation for Windows platforms.

Shared memory implementation for POSIX platforms.

Construction
------------

.. index:: pair: function; SharedMemoryImpl
.. _doxid-class_poco_1_1_shared_memory_impl_1ad6787efd3594674ad22ab0c46977bfcc:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	SharedMemoryImpl(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& id,
		std::size_t size,
		:ref:`SharedMemory::AccessMode<doxid-class_poco_1_1_shared_memory_1a12ab0f4ee9f7fa6b90387507a0a141ee>` mode,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* addr,
		bool server
		)

Creates or connects to a shared memory object with the given name.

For maximum portability, name should be a valid Unix filename and not contain any slashes or backslashes.

An address hint can be passed to the system, specifying the desired start address of the shared memory area. Whether the hint is actually honored is, however, up to the system. Windows platform will generally ignore the hint.

.. index:: pair: function; SharedMemoryImpl
.. _doxid-class_poco_1_1_shared_memory_impl_1ac41016d6538608a11a5830c1b8d16cfb:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	SharedMemoryImpl(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::File<doxid-class_poco_1_1_file>`& aFile,
		:ref:`SharedMemory::AccessMode<doxid-class_poco_1_1_shared_memory_1a12ab0f4ee9f7fa6b90387507a0a141ee>` mode,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* addr
		)

Maps the entire contents of file into a shared memory segment.

An address hint can be passed to the system, specifying the desired start address of the shared memory area. Whether the hint is actually honored is, however, up to the system. Windows platform will generally ignore the hint.

.. index:: pair: function; SharedMemoryImpl
.. _doxid-class_poco_1_1_shared_memory_impl_1a949148deaee7aa8e249910dfa9b333bd:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	SharedMemoryImpl(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` std::string& name,
		std::size_t size,
		:ref:`SharedMemory::AccessMode<doxid-class_poco_1_1_shared_memory_1a12ab0f4ee9f7fa6b90387507a0a141ee>` mode,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* addrHint,
		bool server
		)

Creates or connects to a shared memory object with the given name.

For maximum portability, name should be a valid Unix filename and not contain any slashes or backslashes.

An address hint can be passed to the system, specifying the desired start address of the shared memory area. Whether the hint is actually honored is, however, up to the system. Windows platform will generally ignore the hint.

If server is set to false, the shared memory region will be unlinked by calling shm_unlink when the :ref:`SharedMemory <doxid-class_poco_1_1_shared_memory>` object is destroyed.

.. index:: pair: function; SharedMemoryImpl
.. _doxid-class_poco_1_1_shared_memory_impl_1aba0476bd21351674cf69b9c0388a6a66:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	SharedMemoryImpl(
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Poco::File<doxid-class_poco_1_1_file>`& file,
		:ref:`SharedMemory::AccessMode<doxid-class_poco_1_1_shared_memory_1a12ab0f4ee9f7fa6b90387507a0a141ee>` mode,
		:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* addrHint
		)

Maps the entire contents of file into a shared memory segment.

An address hint can be passed to the system, specifying the desired start address of the shared memory area. Whether the hint is actually honored is, however, up to the system. Windows platform will generally ignore the hint.

Methods
-------

.. index:: pair: function; begin
.. _doxid-class_poco_1_1_shared_memory_impl_1a952ecb8e0723b13ec0f4c62fff3da5a5:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	char*
	begin() const

Returns the start address of the shared memory segment.

.. index:: pair: function; end
.. _doxid-class_poco_1_1_shared_memory_impl_1a9bd54ac8a540dee58d0a88bcd229a8db:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	char*
	end() const

Returns the one-past-end end address of the shared memory segment.

.. index:: pair: function; begin
.. _doxid-class_poco_1_1_shared_memory_impl_1ae453547f3960761e668f8b1313392c96:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	char*
	begin() const

Returns the start address of the shared memory segment.

.. index:: pair: function; end
.. _doxid-class_poco_1_1_shared_memory_impl_1ad4d894fe32b96bac8011006651c70df8:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	char*
	end() const

Returns the one-past-end end address of the shared memory segment.

.. index:: pair: function; map
.. _doxid-class_poco_1_1_shared_memory_impl_1aa9e8a12c04ce3ea259698c8379d94bc7:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	map(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` void* addrHint)

Maps the shared memory object.

.. index:: pair: function; unmap
.. _doxid-class_poco_1_1_shared_memory_impl_1ad0c0bb1c3047ead8034c1f967d3057c1:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	unmap()

Unmaps the shared memory object.

.. index:: pair: function; close
.. _doxid-class_poco_1_1_shared_memory_impl_1a8b7f0e3bd86af62ab86f8e2b904f4cd4:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	close()

Releases the handle for the shared memory segment.

.. index:: pair: function; map
.. _doxid-class_poco_1_1_shared_memory_impl_1a7a681efc4a66cdc918fe9ba8a57b3672:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	map()

Maps the shared memory object.

