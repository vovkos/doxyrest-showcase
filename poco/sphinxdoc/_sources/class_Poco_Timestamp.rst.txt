.. index:: pair: class; Poco::Timestamp
.. _doxid-class_poco_1_1_timestamp:

class Poco::Timestamp
=====================

.. toctree::
	:hidden:

Overview
~~~~~~~~

A :ref:`Timestamp <doxid-class_poco_1_1_timestamp>` stores a monotonic\* time value with (theoretical) microseconds resolution. :ref:`More...<details-class_poco_1_1_timestamp>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <Timestamp.h>
	
	class Timestamp
	{
	public:
		// typedefs
	
		typedef Int64 :ref:`TimeVal<doxid-class_poco_1_1_timestamp_1a7da8d9f1604abae96ca48b1f1adbb549>`;
		typedef Int64 :ref:`UtcTimeVal<doxid-class_poco_1_1_timestamp_1a06b805d545e2f0261b4e4d20f8e445c4>`;
		typedef Int64 :ref:`TimeDiff<doxid-class_poco_1_1_timestamp_1a23501cdddede36b1551ce48525777b31>`;

		// fields
	
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`TimeVal<doxid-class_poco_1_1_timestamp_1a7da8d9f1604abae96ca48b1f1adbb549>` :ref:`TIMEVAL_MIN<doxid-class_poco_1_1_timestamp_1a335aa61e484d9cf9ae01a81de819182d>`;
		static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`TimeVal<doxid-class_poco_1_1_timestamp_1a7da8d9f1604abae96ca48b1f1adbb549>` :ref:`TIMEVAL_MAX<doxid-class_poco_1_1_timestamp_1ab858b1a1db5ac0af1ea20cdd0a2a399d>`;

		// construction
	
		:ref:`Timestamp<doxid-class_poco_1_1_timestamp_1a9718a3a252b80831797ce31d909afa97>`();
		:ref:`Timestamp<doxid-class_poco_1_1_timestamp_1a15d42afd26214c5d1daadbd71747efa9>`(:ref:`TimeVal<doxid-class_poco_1_1_timestamp_1a7da8d9f1604abae96ca48b1f1adbb549>` tv);
		:ref:`Timestamp<doxid-class_poco_1_1_timestamp_1acca37455f2bf90b78ee8d6b157403577>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Timestamp& other);

		// methods
	
		Timestamp&
		:target:`operator=<doxid-class_poco_1_1_timestamp_1a068cc6b665f335b6bc7d1d4b0f32f025>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Timestamp& other);
	
		Timestamp&
		:target:`operator=<doxid-class_poco_1_1_timestamp_1aaee4ba927aee1528c22040e675b12904>`(:ref:`TimeVal<doxid-class_poco_1_1_timestamp_1a7da8d9f1604abae96ca48b1f1adbb549>` tv);
	
		void
		:ref:`swap<doxid-class_poco_1_1_timestamp_1ad48c5ded1c43170b268fd4c434acaaa3>`(Timestamp& timestamp);
	
		void
		:ref:`update<doxid-class_poco_1_1_timestamp_1af1d86259e8c0365bd176d296e1178d53>`();
	
		bool
		:target:`operator==<doxid-class_poco_1_1_timestamp_1a68610315646ce53f2e83e94c109a8482>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Timestamp& ts) const;
	
		bool
		:target:`operator!=<doxid-class_poco_1_1_timestamp_1aaacbeeae986b98a50789fd7932f3a87e>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Timestamp& ts) const;
	
		bool
		:target:`operator><doxid-class_poco_1_1_timestamp_1ac6d5fa7aa3457620f3af9f67a61be107>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Timestamp& ts) const;
	
		bool
		:target:`operator>=<doxid-class_poco_1_1_timestamp_1a72fb3db2b704a05e5a1a8a8db6a2818c>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Timestamp& ts) const;
	
		bool
		:target:`operator<<doxid-class_poco_1_1_timestamp_1a8e590c5e4cd661148c4d28b12deba154>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Timestamp& ts) const;
	
		bool
		:target:`operator<=<doxid-class_poco_1_1_timestamp_1a4722fdb949a846c36920a3427453de22>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Timestamp& ts) const;
	
		Timestamp
		:target:`operator+<doxid-class_poco_1_1_timestamp_1a8d4e1879eb43c91ffc6033f89508a252>`(:ref:`TimeDiff<doxid-class_poco_1_1_timestamp_1a23501cdddede36b1551ce48525777b31>` d) const;
	
		Timestamp
		:target:`operator+<doxid-class_poco_1_1_timestamp_1a4f33aa9269f4f493e2f9b64e1f8affb6>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Timespan<doxid-class_poco_1_1_timespan>`& span) const;
	
		Timestamp
		:target:`operator-<doxid-class_poco_1_1_timestamp_1ae4e2e690e9af5e0efa3cc3a2a23f9391>`(:ref:`TimeDiff<doxid-class_poco_1_1_timestamp_1a23501cdddede36b1551ce48525777b31>` d) const;
	
		Timestamp
		:target:`operator-<doxid-class_poco_1_1_timestamp_1a5f94e3fe6b652875571a920640f8b824>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Timespan<doxid-class_poco_1_1_timespan>`& span) const;
	
		:ref:`TimeDiff<doxid-class_poco_1_1_timestamp_1a23501cdddede36b1551ce48525777b31>`
		:target:`operator-<doxid-class_poco_1_1_timestamp_1ac30c3762a8203cb594f28f8765dc023d>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Timestamp& ts) const;
	
		Timestamp&
		:target:`operator+=<doxid-class_poco_1_1_timestamp_1a07af31ee3933673003d7584d795ca999>`(:ref:`TimeDiff<doxid-class_poco_1_1_timestamp_1a23501cdddede36b1551ce48525777b31>` d);
	
		Timestamp&
		:target:`operator+=<doxid-class_poco_1_1_timestamp_1aa6d1ab4ace5a1962865485970b235400>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Timespan<doxid-class_poco_1_1_timespan>`& span);
	
		Timestamp&
		:target:`operator-=<doxid-class_poco_1_1_timestamp_1a0f0bb1df37a01470b9b25c7cd345f887>`(:ref:`TimeDiff<doxid-class_poco_1_1_timestamp_1a23501cdddede36b1551ce48525777b31>` d);
	
		Timestamp&
		:target:`operator-=<doxid-class_poco_1_1_timestamp_1a25e64879ff1274279c82cdc110fca832>`(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`Timespan<doxid-class_poco_1_1_timespan>`& span);
	
		std::time_t
		:ref:`epochTime<doxid-class_poco_1_1_timestamp_1a5395e44769f63f60d4a759dcf7b5d9ac>`() const;
	
		:ref:`UtcTimeVal<doxid-class_poco_1_1_timestamp_1a06b805d545e2f0261b4e4d20f8e445c4>`
		:ref:`utcTime<doxid-class_poco_1_1_timestamp_1a8c46fbbcf9bcd6c83da57ab2165d077d>`() const;
	
		:ref:`TimeVal<doxid-class_poco_1_1_timestamp_1a7da8d9f1604abae96ca48b1f1adbb549>`
		:ref:`epochMicroseconds<doxid-class_poco_1_1_timestamp_1a33e960be2206fe74bf9a56669d0a2b3b>`() const;
	
		:ref:`TimeDiff<doxid-class_poco_1_1_timestamp_1a23501cdddede36b1551ce48525777b31>`
		:ref:`elapsed<doxid-class_poco_1_1_timestamp_1a36956487d258f6296193eedaf2063237>`() const;
	
		bool
		:ref:`isElapsed<doxid-class_poco_1_1_timestamp_1a21f088dca2e7c60817eb009aab994ac8>`(:ref:`TimeDiff<doxid-class_poco_1_1_timestamp_1a23501cdddede36b1551ce48525777b31>` interval) const;
	
		:ref:`TimeVal<doxid-class_poco_1_1_timestamp_1a7da8d9f1604abae96ca48b1f1adbb549>`
		:ref:`raw<doxid-class_poco_1_1_timestamp_1ae7bce9757253d17e6f73faff938e2e67>`() const;
	
		static
		Timestamp
		:ref:`fromEpochTime<doxid-class_poco_1_1_timestamp_1a9065af42ba063df445fbe8f0c12d0816>`(std::time_t t);
	
		static
		Timestamp
		:ref:`fromUtcTime<doxid-class_poco_1_1_timestamp_1a33eda16c876c53ad5ab9733b0944d93c>`(:ref:`UtcTimeVal<doxid-class_poco_1_1_timestamp_1a06b805d545e2f0261b4e4d20f8e445c4>` val);
	
		static
		:ref:`TimeDiff<doxid-class_poco_1_1_timestamp_1a23501cdddede36b1551ce48525777b31>`
		:ref:`resolution<doxid-class_poco_1_1_timestamp_1a39a59f8ec283e6606990245a50644bee>`();
	};
.. _details-class_poco_1_1_timestamp:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

A :ref:`Timestamp <doxid-class_poco_1_1_timestamp>` stores a monotonic\* time value with (theoretical) microseconds resolution.

Timestamps can be compared with each other and simple arithmetics are supported.

[\*] Note that :ref:`Timestamp <doxid-class_poco_1_1_timestamp>` values are only monotonic as long as the systems's clock is monotonic as well (and not, e.g. set back due to time synchronization or other reasons).

Timestamps are UTC (Coordinated Universal Time) based and thus independent of the timezone in effect on the system.

The internal reference time is the Unix epoch, midnight, January 1, 1970.

Typedefs
--------

.. index:: pair: typedef; TimeVal
.. _doxid-class_poco_1_1_timestamp_1a7da8d9f1604abae96ca48b1f1adbb549:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	typedef Int64 TimeVal

Monotonic UTC time value in microsecond resolution, with base time midnight, January 1, 1970.

.. index:: pair: typedef; UtcTimeVal
.. _doxid-class_poco_1_1_timestamp_1a06b805d545e2f0261b4e4d20f8e445c4:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	typedef Int64 UtcTimeVal

Monotonic UTC time value in 100 nanosecond resolution, with base time midnight, October 15, 1582.

.. index:: pair: typedef; TimeDiff
.. _doxid-class_poco_1_1_timestamp_1a23501cdddede36b1551ce48525777b31:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	typedef Int64 TimeDiff

Difference between two TimeVal values in microseconds.

Fields
------

.. index:: pair: variable; TIMEVAL_MIN
.. _doxid-class_poco_1_1_timestamp_1a335aa61e484d9cf9ae01a81de819182d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`TimeVal<doxid-class_poco_1_1_timestamp_1a7da8d9f1604abae96ca48b1f1adbb549>` TIMEVAL_MIN

Minimum timestamp value.

.. index:: pair: variable; TIMEVAL_MAX
.. _doxid-class_poco_1_1_timestamp_1ab858b1a1db5ac0af1ea20cdd0a2a399d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` :ref:`TimeVal<doxid-class_poco_1_1_timestamp_1a7da8d9f1604abae96ca48b1f1adbb549>` TIMEVAL_MAX

Maximum timestamp value.

Construction
------------

.. index:: pair: function; Timestamp
.. _doxid-class_poco_1_1_timestamp_1a9718a3a252b80831797ce31d909afa97:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Timestamp()

Creates a timestamp with the current time.

.. index:: pair: function; Timestamp
.. _doxid-class_poco_1_1_timestamp_1a15d42afd26214c5d1daadbd71747efa9:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Timestamp(:ref:`TimeVal<doxid-class_poco_1_1_timestamp_1a7da8d9f1604abae96ca48b1f1adbb549>` tv)

Creates a timestamp from the given time value (microseconds since midnight, January 1, 1970).

.. index:: pair: function; Timestamp
.. _doxid-class_poco_1_1_timestamp_1acca37455f2bf90b78ee8d6b157403577:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Timestamp(:ref:`const<doxid-zconf_8h_1a2c212835823e3c54a8ab6d95c652660e>` Timestamp& other)

Copy constructor.

Methods
-------

.. index:: pair: function; swap
.. _doxid-class_poco_1_1_timestamp_1ad48c5ded1c43170b268fd4c434acaaa3:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	swap(Timestamp& timestamp)

Swaps the :ref:`Timestamp <doxid-class_poco_1_1_timestamp>` with another one.

.. index:: pair: function; update
.. _doxid-class_poco_1_1_timestamp_1af1d86259e8c0365bd176d296e1178d53:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	update()

Updates the :ref:`Timestamp <doxid-class_poco_1_1_timestamp>` with the current time.

.. index:: pair: function; epochTime
.. _doxid-class_poco_1_1_timestamp_1a5395e44769f63f60d4a759dcf7b5d9ac:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	std::time_t
	epochTime() const

Returns the timestamp expressed in time_t.

time_t base time is midnight, January 1, 1970. Resolution is one second.

.. index:: pair: function; utcTime
.. _doxid-class_poco_1_1_timestamp_1a8c46fbbcf9bcd6c83da57ab2165d077d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`UtcTimeVal<doxid-class_poco_1_1_timestamp_1a06b805d545e2f0261b4e4d20f8e445c4>`
	utcTime() const

Returns the timestamp expressed in UTC-based time.

UTC base time is midnight, October 15, 1582. Resolution is 100 nanoseconds.

.. index:: pair: function; epochMicroseconds
.. _doxid-class_poco_1_1_timestamp_1a33e960be2206fe74bf9a56669d0a2b3b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`TimeVal<doxid-class_poco_1_1_timestamp_1a7da8d9f1604abae96ca48b1f1adbb549>`
	epochMicroseconds() const

Returns the timestamp expressed in microseconds since the Unix epoch, midnight, January 1, 1970.

.. index:: pair: function; elapsed
.. _doxid-class_poco_1_1_timestamp_1a36956487d258f6296193eedaf2063237:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`TimeDiff<doxid-class_poco_1_1_timestamp_1a23501cdddede36b1551ce48525777b31>`
	elapsed() const

Returns the time elapsed since the time denoted by the timestamp.

Equivalent to :ref:`Timestamp() <doxid-class_poco_1_1_timestamp_1a9718a3a252b80831797ce31d909afa97>` - \*this.

.. index:: pair: function; isElapsed
.. _doxid-class_poco_1_1_timestamp_1a21f088dca2e7c60817eb009aab994ac8:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	isElapsed(:ref:`TimeDiff<doxid-class_poco_1_1_timestamp_1a23501cdddede36b1551ce48525777b31>` interval) const

Returns true iff the given interval has passed since the time denoted by the timestamp.

.. index:: pair: function; raw
.. _doxid-class_poco_1_1_timestamp_1ae7bce9757253d17e6f73faff938e2e67:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`TimeVal<doxid-class_poco_1_1_timestamp_1a7da8d9f1604abae96ca48b1f1adbb549>`
	raw() const

Returns the raw time value.

Same as :ref:`epochMicroseconds() <doxid-class_poco_1_1_timestamp_1a33e960be2206fe74bf9a56669d0a2b3b>`.

.. index:: pair: function; fromEpochTime
.. _doxid-class_poco_1_1_timestamp_1a9065af42ba063df445fbe8f0c12d0816:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	Timestamp
	fromEpochTime(std::time_t t)

Creates a timestamp from a std::time_t.

.. index:: pair: function; fromUtcTime
.. _doxid-class_poco_1_1_timestamp_1a33eda16c876c53ad5ab9733b0944d93c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	Timestamp
	fromUtcTime(:ref:`UtcTimeVal<doxid-class_poco_1_1_timestamp_1a06b805d545e2f0261b4e4d20f8e445c4>` val)

Creates a timestamp from a UTC time value (100 nanosecond intervals since midnight, October 15, 1582).

.. index:: pair: function; resolution
.. _doxid-class_poco_1_1_timestamp_1a39a59f8ec283e6606990245a50644bee:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static
	:ref:`TimeDiff<doxid-class_poco_1_1_timestamp_1a23501cdddede36b1551ce48525777b31>`
	resolution()

Returns the resolution in units per second.

Since the timestamp has microsecond resolution, the returned value is always 1000000.

