
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>template class Poco::AbstractEvent &#8212; POCO C++ Libraries Documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-sphinxdoc.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/target-highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="struct Poco::AbstractEvent::NotifyAsyncParams" href="struct_Poco_AbstractEvent_NotifyAsyncParams.html" />
    <link rel="prev" title="template struct Poco::AbstractEvent::AbstractEvent&lt;void, TStrategy, TDelegate, TMutex&gt;" href="struct_Poco_AbstractEvent_AbstractEvent.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="struct_Poco_AbstractEvent_NotifyAsyncParams.html" title="struct Poco::AbstractEvent::NotifyAsyncParams"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="struct_Poco_AbstractEvent_AbstractEvent.html" title="template struct Poco::AbstractEvent::AbstractEvent&lt;void, TStrategy, TDelegate, TMutex&gt;"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">POCO C++ Libraries Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="global.html" >Global Namespace</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="namespace_Poco.html" accesskey="U">namespace Poco</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">template class Poco::AbstractEvent</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#detailed-documentation">Detailed Documentation</a><ul>
<li><a class="reference internal" href="#fields">Fields</a></li>
<li><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="struct_Poco_AbstractEvent_AbstractEvent.html"
                        title="previous chapter">template struct Poco::AbstractEvent::AbstractEvent&lt;void, TStrategy, TDelegate, TMutex&gt;</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="struct_Poco_AbstractEvent_NotifyAsyncParams.html"
                        title="next chapter">struct Poco::AbstractEvent::NotifyAsyncParams</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="template-class-poco-abstractevent">
<span id="doxid-class-poco-1-1-abstract-event"></span><span id="index-0"></span><h1>template class Poco::AbstractEvent</h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="overview">
<h2>Overview</h2>
<p>An <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event"><span class="std std-ref">AbstractEvent</span></a> is the base class of all events. <a class="reference internal" href="#details-class-poco-1-1-abstract-event"><span class="std std-ref">More…</span></a></p>
<pre class="highlight doxyrest-overview-code-block literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&lt;AbstractEvent.h&gt;</span><span class="cp"></span>

<span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">class</span> <span class="n">TArgs</span><span class="p">,</span>
    <span class="k">class</span> <span class="n">TStrategy</span><span class="p">,</span>
    <span class="k">class</span> <span class="n">TDelegate</span><span class="p">,</span>
    <span class="k">class</span> <span class="n">TMutex</span> <span class="o">=</span> <span class="n">FastMutex</span>
    <span class="o">&gt;</span>
<span class="k">class</span> <span class="n">AbstractEvent</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="c1">// typedefs</span>

    <span class="k">typedef</span> <span class="n">TDelegate</span><span class="o">*</span> <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-abstract-event-1a9fac264fa3f677c0c30856ea4d5c6fa7">DelegateHandle</span><span></span><span class="p">;</span>
    <span class="k">typedef</span> <span class="n">TArgs</span> <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-abstract-event-1a0b045274392d17cc631b7ac49aac4e39">Args</span><span></span><span class="p">;</span>

    <span class="c1">// structs</span>

    <span class="k">struct</span> <a class="reference internal" href="struct_Poco_AbstractEvent_NotifyAsyncParams.html#doxid-struct-poco-1-1-abstract-event-1-1-notify-async-params"><span class="std std-ref">NotifyAsyncParams</span></a><span></span><span class="p">;</span>

    <span class="c1">// construction</span>

    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-abstract-event-1ac9281737dfd26525eef5d941bf3e0e0a">AbstractEvent</span><span></span><span class="p">();</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-abstract-event-1acc439d0bec710ecf736e9af3f1441801">AbstractEvent</span><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">TStrategy</span><span class="o">&amp;</span> <span class="n">strat</span><span class="p">);</span>

    <span class="c1">// methods</span>

    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1a133c0d952fc402c57cee2cfb2526ca25"><span class="std std-ref">operator+=</span></a><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">TDelegate</span><span class="o">&amp;</span> <span class="n">aDelegate</span><span class="p">);</span>

    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1ad627ecd5fd49b7a98c31c7426caabcf8"><span class="std std-ref">operator-=</span></a><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">TDelegate</span><span class="o">&amp;</span> <span class="n">aDelegate</span><span class="p">);</span>

    <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1a9fac264fa3f677c0c30856ea4d5c6fa7"><span class="std std-ref">DelegateHandle</span></a><span></span>
    <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1acafbf7db97c1fb57a45a7053287b9312"><span class="std std-ref">add</span></a><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">TDelegate</span><span class="o">&amp;</span> <span class="n">aDelegate</span><span class="p">);</span>

    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1a0f3a376ebfb2ebf76bf2ad6c6b0d926d"><span class="std std-ref">remove</span></a><span></span><span class="p">(</span><a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1a9fac264fa3f677c0c30856ea4d5c6fa7"><span class="std std-ref">DelegateHandle</span></a><span></span> <span class="n">delegateHandle</span><span class="p">);</span>

    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1ad51b75d6062ab032ccb39d160d1e6045"><span class="std std-ref">operator()</span></a><span></span><span class="p">(</span>
        <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="kt">void</span><span class="o">*</span> <span class="n">pSender</span><span class="p">,</span>
        <span class="n">TArgs</span><span class="o">&amp;</span> <span class="n">args</span>
        <span class="p">);</span>

    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1a3d56eb2f5ccf5f3b0d83cc2cbca7683e"><span class="std std-ref">operator()</span></a><span></span><span class="p">(</span><span class="n">TArgs</span><span class="o">&amp;</span> <span class="n">args</span><span class="p">);</span>

    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1a05309c533e007161d10f4540ea570b18"><span class="std std-ref">notify</span></a><span></span><span class="p">(</span>
        <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="kt">void</span><span class="o">*</span> <span class="n">pSender</span><span class="p">,</span>
        <span class="n">TArgs</span><span class="o">&amp;</span> <span class="n">args</span>
        <span class="p">);</span>

    <span class="kt">bool</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-abstract-event-1a6eb29a3cc5f9a7d1e792ef7e018be895">hasDelegates</span><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

    <a class="reference internal" href="class_Poco_ActiveResult-2.html#doxid-class-poco-1-1-active-result"><span class="std std-ref">ActiveResult</span></a><span></span><span class="o">&lt;</span><span class="n">TArgs</span><span class="o">&gt;</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1aed56afbf8d9a88baf16595ef23b9fca0"><span class="std std-ref">notifyAsync</span></a><span></span><span class="p">(</span>
        <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="kt">void</span><span class="o">*</span> <span class="n">pSender</span><span class="p">,</span>
        <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">TArgs</span><span class="o">&amp;</span> <span class="n">args</span>
        <span class="p">);</span>

    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1aef29037015a0dd0da571ac14cf2f3f7d"><span class="std std-ref">enable</span></a><span></span><span class="p">();</span>

    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1a96b51d924987da8fcc49b0f7ea2dd124"><span class="std std-ref">disable</span></a><span></span><span class="p">();</span>

    <span class="kt">bool</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-abstract-event-1a1ebca7efa6ae69ee5779ca7a25722208">isEnabled</span><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1a0042c86c734856b71d286d2cbad2dbfa"><span class="std std-ref">clear</span></a><span></span><span class="p">();</span>

    <span class="kt">bool</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1a39e727dce7dc1562dd8aa35efcc8ad66"><span class="std std-ref">empty</span></a><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

<span class="k">protected</span><span class="o">:</span>
    <span class="c1">// fields</span>

    <a class="reference internal" href="class_Poco_ActiveMethod-2.html#doxid-class-poco-1-1-active-method"><span class="std std-ref">ActiveMethod</span></a><span></span><span class="o">&lt;</span><span class="n">TArgs</span><span class="p">,</span> <a class="reference internal" href="struct_Poco_AbstractEvent_NotifyAsyncParams.html#doxid-struct-poco-1-1-abstract-event-1-1-notify-async-params"><span class="std std-ref">NotifyAsyncParams</span></a><span></span><span class="p">,</span> <span class="n">AbstractEvent</span><span class="o">&gt;</span> <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-abstract-event-1a1f3fd164c27b8b8697b22b78ab844500">_executeAsync</span><span></span><span class="p">;</span>
    <span class="n">TStrategy</span> <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1a2130834295f875c44c7097180082b9ab"><span class="std std-ref">_strategy</span></a><span></span><span class="p">;</span>
    <span class="kt">bool</span> <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1a9c85d9be160eb7a76dfec02220fa1d2e"><span class="std std-ref">_enabled</span></a><span></span><span class="p">;</span>
    <span class="n">TMutex</span> <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-abstract-event-1acf9b88d3fa006366e116816e0dac5e4a">_mutex</span><span></span><span class="p">;</span>

    <span class="c1">// methods</span>

    <span class="n">TArgs</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-abstract-event-1aa14e55318d09b2c6eac2fdec84b6a867">executeAsyncImpl</span><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="struct_Poco_AbstractEvent_NotifyAsyncParams.html#doxid-struct-poco-1-1-abstract-event-1-1-notify-async-params"><span class="std std-ref">NotifyAsyncParams</span></a><span></span><span class="o">&amp;</span> <span class="n">par</span><span class="p">);</span>
<span class="p">};</span>

<span class="c1">// direct descendants</span>

<span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">class</span> <span class="n">TArgs</span><span class="p">,</span>
    <span class="k">class</span> <span class="n">TMutex</span> <span class="o">=</span> <span class="n">FastMutex</span>
    <span class="o">&gt;</span>
<span class="k">class</span> <a class="reference internal" href="class_Poco_BasicEvent.html#doxid-class-poco-1-1-basic-event"><span class="std std-ref">BasicEvent</span></a><span></span><span class="p">;</span>

<span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">class</span> <span class="n">TArgs</span><span class="p">,</span>
    <span class="k">class</span> <span class="n">TMutex</span> <span class="o">=</span> <span class="n">FastMutex</span>
    <span class="o">&gt;</span>
<span class="k">class</span> <a class="reference internal" href="class_Poco_FIFOEvent.html#doxid-class-poco-1-1-f-i-f-o-event"><span class="std std-ref">FIFOEvent</span></a><span></span><span class="p">;</span>

<span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">class</span> <span class="n">TArgs</span><span class="p">,</span>
    <span class="k">class</span> <span class="n">TMutex</span> <span class="o">=</span> <span class="n">FastMutex</span>
    <span class="o">&gt;</span>
<span class="k">class</span> <a class="reference internal" href="class_Poco_PriorityEvent.html#doxid-class-poco-1-1-priority-event"><span class="std std-ref">PriorityEvent</span></a><span></span><span class="p">;</span>
</pre>
</div>
<div class="section" id="detailed-documentation">
<span id="details-class-poco-1-1-abstract-event"></span><h2>Detailed Documentation</h2>
<p>An <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event"><span class="std std-ref">AbstractEvent</span></a> is the base class of all events.</p>
<p>It works similar to the way C# handles notifications (aka events in C#).</p>
<p>Events can be used to send information to a set of delegates which are registered with the event. The type of the data is specified with the template parameter TArgs. The TStrategy parameter must be a subclass of <a class="reference internal" href="class_Poco_NotificationStrategy.html#doxid-class-poco-1-1-notification-strategy"><span class="std std-ref">NotificationStrategy</span></a>. The parameter TDelegate can either be a subclass of <a class="reference internal" href="class_Poco_AbstractDelegate-2.html#doxid-class-poco-1-1-abstract-delegate"><span class="std std-ref">AbstractDelegate</span></a> or of <a class="reference internal" href="class_Poco_AbstractPriorityDelegate.html#doxid-class-poco-1-1-abstract-priority-delegate"><span class="std std-ref">AbstractPriorityDelegate</span></a>.</p>
<p>Note that <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event"><span class="std std-ref">AbstractEvent</span></a> should never be used directly. One ought to use one of its subclasses which set the TStrategy and TDelegate template parameters to fixed values. For most use-cases the <a class="reference internal" href="class_Poco_BasicEvent.html#doxid-class-poco-1-1-basic-event"><span class="std std-ref">BasicEvent</span></a> template will be sufficient:</p>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;Poco/BasicEvent.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Poco/Delegate.h&quot;</span>
</pre>
<p>Note that as of release 1.4.2, the behavior of <a class="reference internal" href="class_Poco_BasicEvent.html#doxid-class-poco-1-1-basic-event"><span class="std std-ref">BasicEvent</span></a> equals that of <a class="reference internal" href="class_Poco_FIFOEvent.html#doxid-class-poco-1-1-f-i-f-o-event"><span class="std std-ref">FIFOEvent</span></a>, so the <a class="reference internal" href="class_Poco_FIFOEvent.html#doxid-class-poco-1-1-f-i-f-o-event"><span class="std std-ref">FIFOEvent</span></a> class is no longer necessary and provided for backwards compatibility only.</p>
<p><a class="reference internal" href="class_Poco_BasicEvent.html#doxid-class-poco-1-1-basic-event"><span class="std std-ref">BasicEvent</span></a> works with a standard delegate. They allow one object to register one or more delegates with an event. In contrast, a <a class="reference internal" href="class_Poco_PriorityDelegate-4.html#doxid-class-poco-1-1-priority-delegate"><span class="std std-ref">PriorityDelegate</span></a> comes with an attached priority value and allows one object to register for one priority value one or more delegates. Note that PriorityDelegates only work with PriorityEvents:</p>
<pre class="highlight literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&quot;Poco/PriorityEvent.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;Poco/PriorityDelegate.h&quot;</span>
</pre>
<p>Use events by adding them as public members to the object which is throwing notifications:</p>
<pre class="highlight literal-block">
<span></span><span class="k">class</span> <span class="n">MyData</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="n">Poco</span><span class="o">::</span><span class="n">BasicEvent</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">dataChanged</span><span class="p">;</span>

    <span class="n">MyData</span><span class="p">();</span>
    <span class="p">...</span>
    <span class="kt">void</span> <span class="n">setData</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">);</span>
    <span class="p">...</span>
<span class="k">private</span><span class="o">:</span>
    <span class="kt">int</span> <span class="n">_data</span><span class="p">;</span>
<span class="p">};</span>
</pre>
<p>Firing the event is done either by calling the event’s <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1a05309c533e007161d10f4540ea570b18"><span class="std std-ref">notify()</span></a> or <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1aed56afbf8d9a88baf16595ef23b9fca0"><span class="std std-ref">notifyAsync()</span></a> method:</p>
<pre class="highlight literal-block">
<span></span><span class="kt">void</span> <span class="n">MyData</span><span class="o">::</span><span class="n">setData</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">this</span><span class="o">-&gt;</span><span class="n">_data</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
    <span class="n">dataChanged</span><span class="p">.</span><span class="n">notify</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">_data</span><span class="p">);</span>
<span class="p">}</span>
</pre>
<p>Alternatively, instead of <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1a05309c533e007161d10f4540ea570b18"><span class="std std-ref">notify()</span></a>, operator () can be used.</p>
<pre class="highlight literal-block">
<span></span><span class="kt">void</span> <span class="n">MyData</span><span class="o">::</span><span class="n">setData</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">this</span><span class="o">-&gt;</span><span class="n">_data</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
    <span class="n">dataChanged</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">_data</span><span class="p">);</span>
<span class="p">}</span>
</pre>
<p>Note that operator (), <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1a05309c533e007161d10f4540ea570b18"><span class="std std-ref">notify()</span></a> and <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1aed56afbf8d9a88baf16595ef23b9fca0"><span class="std std-ref">notifyAsync()</span></a> do not catch exceptions, i.e. in case a delegate throws an exception, notifying is immediately aborted and the exception is propagated back to the caller.</p>
<p>Delegates can register methods at the event. In the case of a <a class="reference internal" href="class_Poco_BasicEvent.html#doxid-class-poco-1-1-basic-event"><span class="std std-ref">BasicEvent</span></a> the <a class="reference internal" href="class_Poco_Delegate-4.html#doxid-class-poco-1-1-delegate"><span class="std std-ref">Delegate</span></a> template is used, in case of an <a class="reference internal" href="class_Poco_PriorityEvent.html#doxid-class-poco-1-1-priority-event"><span class="std std-ref">PriorityEvent</span></a> a <a class="reference internal" href="class_Poco_PriorityDelegate-4.html#doxid-class-poco-1-1-priority-delegate"><span class="std std-ref">PriorityDelegate</span></a> is used. Mixing of delegates, e.g. using a <a class="reference internal" href="class_Poco_PriorityDelegate-4.html#doxid-class-poco-1-1-priority-delegate"><span class="std std-ref">PriorityDelegate</span></a> with a <a class="reference internal" href="class_Poco_BasicEvent.html#doxid-class-poco-1-1-basic-event"><span class="std std-ref">BasicEvent</span></a> is not allowed and can lead to compile-time and/or run-time errors. The standalone <a class="reference internal" href="namespace_Poco.html#doxid-namespace-poco-1a3c92b935465d543414d807c7884396ff"><span class="std std-ref">delegate()</span></a> functions can be used to construct <a class="reference internal" href="class_Poco_Delegate-4.html#doxid-class-poco-1-1-delegate"><span class="std std-ref">Delegate</span></a> objects.</p>
<p>Events require the observers to have one of the following method signatures:</p>
<pre class="highlight literal-block">
<span></span><span class="kt">void</span> <span class="nf">onEvent</span><span class="p">(</span><span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">pSender</span><span class="p">,</span> <span class="n">TArgs</span><span class="o">&amp;</span> <span class="n">args</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">onEvent</span><span class="p">(</span><span class="n">TArgs</span><span class="o">&amp;</span> <span class="n">args</span><span class="p">);</span>
<span class="k">static</span> <span class="kt">void</span> <span class="nf">onEvent</span><span class="p">(</span><span class="k">const</span> <span class="kt">void</span><span class="o">*</span> <span class="n">pSender</span><span class="p">,</span> <span class="n">TArgs</span><span class="o">&amp;</span> <span class="n">args</span><span class="p">);</span>
<span class="k">static</span> <span class="kt">void</span> <span class="nf">onEvent</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span> <span class="n">pSender</span><span class="p">,</span> <span class="n">TArgs</span><span class="o">&amp;</span> <span class="n">args</span><span class="p">);</span>
<span class="k">static</span> <span class="kt">void</span> <span class="nf">onEvent</span><span class="p">(</span><span class="n">TArgs</span><span class="o">&amp;</span> <span class="n">args</span><span class="p">);</span>
</pre>
<p>For performance reasons arguments are always sent by reference. This also allows observers to modify the event argument. To prevent that, use &lt;[const TArg]&gt; as template parameter. A non-conformant method signature leads to compile errors.</p>
<p>Assuming that the observer meets the method signature requirement, it can register this method with the += operator:</p>
<pre class="highlight literal-block">
<span></span><span class="k">class</span> <span class="n">MyController</span>
<span class="p">{</span>
<span class="k">protected</span><span class="o">:</span>
    <span class="n">MyData</span> <span class="n">_data</span><span class="p">;</span>

    <span class="kt">void</span> <span class="nf">onDataChanged</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span> <span class="n">pSender</span><span class="p">,</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">data</span><span class="p">);</span>
    <span class="p">...</span>
<span class="p">};</span>

<span class="n">MyController</span><span class="o">::</span><span class="n">MyController</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">_data</span><span class="p">.</span><span class="n">dataChanged</span> <span class="o">+=</span> <span class="n">delegate</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">MyController</span><span class="o">::</span><span class="n">onDataChanged</span><span class="p">);</span>
<span class="p">}</span>
</pre>
<p>In some cases it might be desirable to work with automatically expiring registrations. Simply add to delegate as 3rd parameter a expireValue (in milliseconds):</p>
<pre class="highlight literal-block">
<span></span><span class="n">_data</span><span class="p">.</span><span class="n">dataChanged</span> <span class="o">+=</span> <span class="n">delegate</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">MyController</span><span class="o">::</span><span class="n">onDataChanged</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span>
</pre>
<p>This will add a delegate to the event which will automatically be removed in 1000 millisecs.</p>
<p>Unregistering happens via the -= operator. Forgetting to unregister a method will lead to segmentation faults later, when one tries to send a notify to a no longer existing object.</p>
<pre class="highlight literal-block">
<span></span><span class="n">MyController</span><span class="o">::~</span><span class="n">MyController</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">_data</span><span class="p">.</span><span class="n">dataChanged</span> <span class="o">-=</span> <span class="n">delegate</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">MyController</span><span class="o">::</span><span class="n">onDataChanged</span><span class="p">);</span>
<span class="p">}</span>
</pre>
<p>Working with <a class="reference internal" href="class_Poco_PriorityDelegate-4.html#doxid-class-poco-1-1-priority-delegate"><span class="std std-ref">PriorityDelegate</span></a> ‘s as similar to working with <a class="reference internal" href="class_Poco_BasicEvent.html#doxid-class-poco-1-1-basic-event"><span class="std std-ref">BasicEvent</span></a>. Instead of <a class="reference internal" href="namespace_Poco.html#doxid-namespace-poco-1a3c92b935465d543414d807c7884396ff"><span class="std std-ref">delegate()</span></a>, the <a class="reference internal" href="namespace_Poco.html#doxid-namespace-poco-1a2f48d7b2c7774e22e565fc0afb97218f"><span class="std std-ref">priorityDelegate()</span></a> function must be used to create the <a class="reference internal" href="class_Poco_PriorityDelegate-4.html#doxid-class-poco-1-1-priority-delegate"><span class="std std-ref">PriorityDelegate</span></a>.</p>
<div class="section" id="fields">
<h3>Fields</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-abstract-event-1a2130834295f875c44c7097180082b9ab">
<span id="index-1"></span><span></span><span class="n">TStrategy</span> <span class="n">_strategy</span>
</pre>
<p>The strategy used to notify observers.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-abstract-event-1a9c85d9be160eb7a76dfec02220fa1d2e">
<span id="index-2"></span><span></span><span class="kt">bool</span> <span class="n">_enabled</span>
</pre>
<p>Stores if an event is enabled. Notfies on disabled events have no effect.</p>
</div>
<div class="section" id="methods">
<h3>Methods</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-abstract-event-1a133c0d952fc402c57cee2cfb2526ca25">
<span id="index-3"></span><span></span><span class="kt">void</span>
<span class="k">operator</span><span class="o">+=</span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">TDelegate</span><span class="o">&amp;</span> <span class="n">aDelegate</span><span class="p">)</span>
</pre>
<p>Adds a delegate to the event.</p>
<p>Exact behavior is determined by the TStrategy.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-abstract-event-1ad627ecd5fd49b7a98c31c7426caabcf8">
<span id="index-4"></span><span></span><span class="kt">void</span>
<span class="k">operator</span><span class="o">-=</span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">TDelegate</span><span class="o">&amp;</span> <span class="n">aDelegate</span><span class="p">)</span>
</pre>
<p>Removes a delegate from the event.</p>
<p>If the delegate is not found, this function does nothing.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-abstract-event-1acafbf7db97c1fb57a45a7053287b9312">
<span id="index-5"></span><a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1a9fac264fa3f677c0c30856ea4d5c6fa7"><span class="std std-ref">DelegateHandle</span></a><span></span>
<span class="n">add</span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">TDelegate</span><span class="o">&amp;</span> <span class="n">aDelegate</span><span class="p">)</span>
</pre>
<p>Adds a delegate to the event.</p>
<p>Exact behavior is determined by the TStrategy.</p>
<p>Returns a DelegateHandle which can be used in call to <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1a0f3a376ebfb2ebf76bf2ad6c6b0d926d"><span class="std std-ref">remove()</span></a> to remove the delegate.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-abstract-event-1a0f3a376ebfb2ebf76bf2ad6c6b0d926d">
<span id="index-6"></span><span></span><span class="kt">void</span>
<span class="n">remove</span><span class="p">(</span><a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1a9fac264fa3f677c0c30856ea4d5c6fa7"><span class="std std-ref">DelegateHandle</span></a><span></span> <span class="n">delegateHandle</span><span class="p">)</span>
</pre>
<p>Removes a delegate from the event using a DelegateHandle returned by <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1acafbf7db97c1fb57a45a7053287b9312"><span class="std std-ref">add()</span></a>.</p>
<p>If the delegate is not found, this function does nothing.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-abstract-event-1ad51b75d6062ab032ccb39d160d1e6045">
<span id="index-7"></span><span></span><span class="kt">void</span>
<span class="k">operator</span><span class="p">()(</span>
    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="kt">void</span><span class="o">*</span> <span class="n">pSender</span><span class="p">,</span>
    <span class="n">TArgs</span><span class="o">&amp;</span> <span class="n">args</span>
    <span class="p">)</span>
</pre>
<p>Shortcut for notify(pSender, args);.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-abstract-event-1a3d56eb2f5ccf5f3b0d83cc2cbca7683e">
<span id="index-8"></span><span></span><span class="kt">void</span>
<span class="k">operator</span><span class="p">()(</span><span class="n">TArgs</span><span class="o">&amp;</span> <span class="n">args</span><span class="p">)</span>
</pre>
<p>Shortcut for notify(args).</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-abstract-event-1a05309c533e007161d10f4540ea570b18">
<span id="index-9"></span><span></span><span class="kt">void</span>
<span class="n">notify</span><span class="p">(</span>
    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="kt">void</span><span class="o">*</span> <span class="n">pSender</span><span class="p">,</span>
    <span class="n">TArgs</span><span class="o">&amp;</span> <span class="n">args</span>
    <span class="p">)</span>
</pre>
<p>Sends a notification to all registered delegates.</p>
<p>The order is determined by the TStrategy. This method is blocking. While executing, the list of delegates may be modified. These changes don’t influence the current active notifications but are activated with the next notify. If a delegate is removed during a <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1a05309c533e007161d10f4540ea570b18"><span class="std std-ref">notify()</span></a>, the delegate will no longer be invoked (unless it has already been invoked prior to removal). If one of the delegates throws an exception, the notify method is immediately aborted and the exception is propagated to the caller.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-abstract-event-1aed56afbf8d9a88baf16595ef23b9fca0">
<span id="index-10"></span><a class="reference internal" href="class_Poco_ActiveResult-2.html#doxid-class-poco-1-1-active-result"><span class="std std-ref">ActiveResult</span></a><span></span><span class="o">&lt;</span><span class="n">TArgs</span><span class="o">&gt;</span>
<span class="n">notifyAsync</span><span class="p">(</span>
    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="kt">void</span><span class="o">*</span> <span class="n">pSender</span><span class="p">,</span>
    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">TArgs</span><span class="o">&amp;</span> <span class="n">args</span>
    <span class="p">)</span>
</pre>
<p>Sends a notification to all registered delegates.</p>
<p>The order is determined by the TStrategy. This method is not blocking and will immediately return. The delegates are invoked in a seperate thread. Call activeResult.wait() to wait until the notification has ended. While executing, other objects can change the delegate list. These changes don’t influence the current active notifications but are activated with the next notify. If a delegate is removed during a <a class="reference internal" href="#doxid-class-poco-1-1-abstract-event-1a05309c533e007161d10f4540ea570b18"><span class="std std-ref">notify()</span></a>, the delegate will no longer be invoked (unless it has already been invoked prior to removal). If one of the delegates throws an exception, the execution is aborted and the exception is propagated to the caller.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-abstract-event-1aef29037015a0dd0da571ac14cf2f3f7d">
<span id="index-11"></span><span></span><span class="kt">void</span>
<span class="n">enable</span><span class="p">()</span>
</pre>
<p>Enables the event.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-abstract-event-1a96b51d924987da8fcc49b0f7ea2dd124">
<span id="index-12"></span><span></span><span class="kt">void</span>
<span class="n">disable</span><span class="p">()</span>
</pre>
<p>Disables the event.</p>
<p>notify and notifyAsnyc will be ignored, but adding/removing delegates is still allowed.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-abstract-event-1a0042c86c734856b71d286d2cbad2dbfa">
<span id="index-13"></span><span></span><span class="kt">void</span>
<span class="n">clear</span><span class="p">()</span>
</pre>
<p>Removes all delegates.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-abstract-event-1a39e727dce7dc1562dd8aa35efcc8ad66">
<span id="index-14"></span><span></span><span class="kt">bool</span>
<span class="n">empty</span><span class="p">()</span> <span class="k">const</span>
</pre>
<p>Checks if any delegates are registered at the delegate.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="struct_Poco_AbstractEvent_NotifyAsyncParams.html" title="struct Poco::AbstractEvent::NotifyAsyncParams"
             >next</a> |</li>
        <li class="right" >
          <a href="struct_Poco_AbstractEvent_AbstractEvent.html" title="template struct Poco::AbstractEvent::AbstractEvent&lt;void, TStrategy, TDelegate, TMutex&gt;"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">POCO C++ Libraries Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="global.html" >Global Namespace</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="namespace_Poco.html" >namespace Poco</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005-2017, POCO Maintainers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>