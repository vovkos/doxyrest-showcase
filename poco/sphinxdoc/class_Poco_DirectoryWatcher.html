
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>class Poco::DirectoryWatcher &#8212; POCO C++ Libraries Documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-sphinxdoc.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/target-highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="enum Poco::DirectoryWatcher::DirectoryEventMask" href="enum_Poco_DirectoryWatcher_DirectoryEventMask.html" />
    <link rel="prev" title="class Poco::DirectoryIteratorImpl" href="class_Poco_DirectoryIteratorImpl.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="enum_Poco_DirectoryWatcher_DirectoryEventMask.html" title="enum Poco::DirectoryWatcher::DirectoryEventMask"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="class_Poco_DirectoryIteratorImpl.html" title="class Poco::DirectoryIteratorImpl"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">POCO C++ Libraries Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="global.html" >Global Namespace</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="namespace_Poco.html" accesskey="U">namespace Poco</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">class Poco::DirectoryWatcher</a><ul>
<li><a class="reference internal" href="#overview">Overview</a><ul>
<li><a class="reference internal" href="#inherited-members">Inherited Members</a></li>
</ul>
</li>
<li><a class="reference internal" href="#detailed-documentation">Detailed Documentation</a><ul>
<li><a class="reference internal" href="#enum-values">Enum Values</a></li>
<li><a class="reference internal" href="#fields">Fields</a></li>
<li><a class="reference internal" href="#construction">Construction</a></li>
<li><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="class_Poco_DirectoryIteratorImpl.html"
                        title="previous chapter">class Poco::DirectoryIteratorImpl</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="enum_Poco_DirectoryWatcher_DirectoryEventMask.html"
                        title="next chapter">enum Poco::DirectoryWatcher::DirectoryEventMask</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="class-poco-directorywatcher">
<span id="doxid-class-poco-1-1-directory-watcher"></span><span id="index-0"></span><h1>class Poco::DirectoryWatcher</h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="overview">
<h2>Overview</h2>
<p>This class is used to get notifications about changes to the filesystem, more specifically, to a specific directory. <a class="reference internal" href="#details-class-poco-1-1-directory-watcher"><span class="std std-ref">More…</span></a></p>
<pre class="highlight doxyrest-overview-code-block literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&lt;DirectoryWatcher.h&gt;</span><span class="cp"></span>

<span class="k">class</span> <span class="nl">DirectoryWatcher</span><span class="p">:</span> <span class="k">protected</span> <a class="reference internal" href="class_Poco_Runnable.html#doxid-class-poco-1-1-runnable"><span class="std std-ref">Poco::Runnable</span></a><span></span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="c1">// enums</span>

    <span class="k">enum</span>
    <span class="p">{</span>
        <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1ac2a1c73a685ac92ea1a31b73709a99cead1547e2c14312b8359940598b18d06bb"><span class="std std-ref">DW_DEFAULT_SCAN_INTERVAL</span></a><span></span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="p">};</span>

    <span class="k">enum</span> <a class="reference internal" href="enum_Poco_DirectoryWatcher_DirectoryEventMask.html#doxid-class-poco-1-1-directory-watcher-1afafd443bec6747c77d00a0d40610bc87"><span class="std std-ref">DirectoryEventMask</span></a><span></span><span class="p">;</span>
    <span class="k">enum</span> <a class="reference internal" href="enum_Poco_DirectoryWatcher_DirectoryEventType.html#doxid-class-poco-1-1-directory-watcher-1a0117c1fb5de043a3b92d3e4f586803fa"><span class="std std-ref">DirectoryEventType</span></a><span></span><span class="p">;</span>

    <span class="c1">// structs</span>

    <span class="k">struct</span> <a class="reference internal" href="struct_Poco_DirectoryWatcher_DirectoryEvent.html#doxid-struct-poco-1-1-directory-watcher-1-1-directory-event"><span class="std std-ref">DirectoryEvent</span></a><span></span><span class="p">;</span>

    <span class="c1">// fields</span>

    <a class="reference internal" href="class_Poco_BasicEvent.html#doxid-class-poco-1-1-basic-event"><span class="std std-ref">BasicEvent</span></a><span></span><span class="o">&lt;</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="struct_Poco_DirectoryWatcher_DirectoryEvent.html#doxid-struct-poco-1-1-directory-watcher-1-1-directory-event"><span class="std std-ref">DirectoryEvent</span></a><span></span><span class="o">&gt;</span> <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1a1dca026393020b11972450558a71aa2a"><span class="std std-ref">itemAdded</span></a><span></span><span class="p">;</span>
    <a class="reference internal" href="class_Poco_BasicEvent.html#doxid-class-poco-1-1-basic-event"><span class="std std-ref">BasicEvent</span></a><span></span><span class="o">&lt;</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="struct_Poco_DirectoryWatcher_DirectoryEvent.html#doxid-struct-poco-1-1-directory-watcher-1-1-directory-event"><span class="std std-ref">DirectoryEvent</span></a><span></span><span class="o">&gt;</span> <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1a16c1d4ef189bff35f59039003c9482aa"><span class="std std-ref">itemRemoved</span></a><span></span><span class="p">;</span>
    <a class="reference internal" href="class_Poco_BasicEvent.html#doxid-class-poco-1-1-basic-event"><span class="std std-ref">BasicEvent</span></a><span></span><span class="o">&lt;</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="struct_Poco_DirectoryWatcher_DirectoryEvent.html#doxid-struct-poco-1-1-directory-watcher-1-1-directory-event"><span class="std std-ref">DirectoryEvent</span></a><span></span><span class="o">&gt;</span> <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1a7550b7bccbd5366e68dbcaa8cb2a3ce9"><span class="std std-ref">itemModified</span></a><span></span><span class="p">;</span>
    <a class="reference internal" href="class_Poco_BasicEvent.html#doxid-class-poco-1-1-basic-event"><span class="std std-ref">BasicEvent</span></a><span></span><span class="o">&lt;</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="struct_Poco_DirectoryWatcher_DirectoryEvent.html#doxid-struct-poco-1-1-directory-watcher-1-1-directory-event"><span class="std std-ref">DirectoryEvent</span></a><span></span><span class="o">&gt;</span> <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1a3a95f2b4a37353b4fbddf2c7827632ce"><span class="std std-ref">itemMovedFrom</span></a><span></span><span class="p">;</span>
    <a class="reference internal" href="class_Poco_BasicEvent.html#doxid-class-poco-1-1-basic-event"><span class="std std-ref">BasicEvent</span></a><span></span><span class="o">&lt;</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="struct_Poco_DirectoryWatcher_DirectoryEvent.html#doxid-struct-poco-1-1-directory-watcher-1-1-directory-event"><span class="std std-ref">DirectoryEvent</span></a><span></span><span class="o">&gt;</span> <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1a98493853cad7643750589acec38d1ebb"><span class="std std-ref">itemMovedTo</span></a><span></span><span class="p">;</span>
    <a class="reference internal" href="class_Poco_BasicEvent.html#doxid-class-poco-1-1-basic-event"><span class="std std-ref">BasicEvent</span></a><span></span><span class="o">&lt;</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_Exception.html#doxid-class-poco-1-1-exception"><span class="std std-ref">Exception</span></a><span></span><span class="o">&gt;</span> <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1a43ae2db6d48767f8dc425cb79a2bcf88"><span class="std std-ref">scanError</span></a><span></span><span class="p">;</span>

    <span class="c1">// construction</span>

    <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1a9bde964821812b6e9fabe6bdfc7aab86"><span class="std std-ref">DirectoryWatcher</span></a><span></span><span class="p">(</span>
        <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">path</span><span class="p">,</span>
        <span class="kt">int</span> <span class="n">eventMask</span> <span class="o">=</span> <a class="reference internal" href="enum_Poco_DirectoryWatcher_DirectoryEventMask.html#doxid-class-poco-1-1-directory-watcher-1afafd443bec6747c77d00a0d40610bc87a62ffb5186dd4b98fbeb04fbc82b825cb"><span class="std std-ref">DW_FILTER_ENABLE_ALL</span></a><span></span><span class="p">,</span>
        <span class="kt">int</span> <span class="n">scanInterval</span> <span class="o">=</span> <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1ac2a1c73a685ac92ea1a31b73709a99cead1547e2c14312b8359940598b18d06bb"><span class="std std-ref">DW_DEFAULT_SCAN_INTERVAL</span></a><span></span>
        <span class="p">);</span>

    <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1a51e8be8c08443c6028a0ace41b3ac97b"><span class="std std-ref">DirectoryWatcher</span></a><span></span><span class="p">(</span>
        <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_File.html#doxid-class-poco-1-1-file"><span class="std std-ref">File</span></a><span></span><span class="o">&amp;</span> <span class="n">directory</span><span class="p">,</span>
        <span class="kt">int</span> <span class="n">eventMask</span> <span class="o">=</span> <a class="reference internal" href="enum_Poco_DirectoryWatcher_DirectoryEventMask.html#doxid-class-poco-1-1-directory-watcher-1afafd443bec6747c77d00a0d40610bc87a62ffb5186dd4b98fbeb04fbc82b825cb"><span class="std std-ref">DW_FILTER_ENABLE_ALL</span></a><span></span><span class="p">,</span>
        <span class="kt">int</span> <span class="n">scanInterval</span> <span class="o">=</span> <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1ac2a1c73a685ac92ea1a31b73709a99cead1547e2c14312b8359940598b18d06bb"><span class="std std-ref">DW_DEFAULT_SCAN_INTERVAL</span></a><span></span>
        <span class="p">);</span>

    <span class="c1">// methods</span>

    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1ad37c05876bf46f6b06279a523f2553b2"><span class="std std-ref">suspendEvents</span></a><span></span><span class="p">();</span>

    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1a815ee4aab5d2315b56764b4f3ce6865b"><span class="std std-ref">resumeEvents</span></a><span></span><span class="p">();</span>

    <span class="kt">bool</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1ade7c7e5fcf2cc7e96f359a6322885a62"><span class="std std-ref">eventsSuspended</span></a><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">int</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1a2bec956f47e27364b113a3a3a67e304d"><span class="std std-ref">eventMask</span></a><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">int</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1a9b081187afebb06528fbb70cdea45e42"><span class="std std-ref">scanInterval</span></a><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_File.html#doxid-class-poco-1-1-file"><span class="std std-ref">File</span></a><span></span><span class="o">&amp;</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1a7437dbde5507a43e0592f5d678443566"><span class="std std-ref">directory</span></a><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">bool</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1a674d13446c45b3daac0edb8068ce8769"><span class="std std-ref">supportsMoveEvents</span></a><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

<span class="k">protected</span><span class="o">:</span>
    <span class="c1">// methods</span>

    <span class="kt">void</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-directory-watcher-1a3f50c2e1b0d8f6d59b727adacf119fcf">init</span><span></span><span class="p">();</span>

    <span class="kt">void</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-directory-watcher-1ac28ce0f47807d2d67ca73b070c01437d">stop</span><span></span><span class="p">();</span>

    <span class="k">virtual</span>
    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1a39394b9a97931487331d07134b6e17f7"><span class="std std-ref">run</span></a><span></span><span class="p">();</span>
<span class="p">};</span>
</pre>
<div class="section" id="inherited-members">
<h3>Inherited Members</h3>
<pre class="highlight doxyrest-overview-inherited-code-block literal-block">
<span></span><span class="k">public</span><span class="o">:</span>
    <span class="c1">// methods</span>

    <span class="k">virtual</span>
    <span class="kt">void</span>
    <a class="reference internal" href="class_Poco_Runnable.html#doxid-class-poco-1-1-runnable-1ad89816e81207bf5f1e52d5df860d11d4"><span class="std std-ref">run</span></a><span></span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre>
</div>
</div>
<div class="section" id="detailed-documentation">
<span id="details-class-poco-1-1-directory-watcher"></span><h2>Detailed Documentation</h2>
<p>This class is used to get notifications about changes to the filesystem, more specifically, to a specific directory.</p>
<p>Changes to a directory are reported via events.</p>
<p>A thread will be created that watches the specified directory for changes. Events are reported in the context of this thread.</p>
<p>Note that changes to files in subdirectories of the watched directory are not reported. Separate <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher"><span class="std std-ref">DirectoryWatcher</span></a> objects must be created for these directories if they should be watched.</p>
<p>Changes to file attributes are not reported.</p>
<p>On Windows, this class is implemented using FindFirstChangeNotification()/FindNextChangeNotification(). On Linux, this class is implemented using inotify. On FreeBSD and Darwin (Mac OS X, iOS), this class uses kevent/kqueue. On all other platforms, the watched directory is periodically scanned for changes. This can negatively affect performance if done too often. Therefore, the interval in which scans are done can be specified in the constructor. Note that periodic scanning will also be done on FreeBSD and Darwin if events for changes to files (DW_ITEM_MODIFIED) are enabled.</p>
<p>DW_ITEM_MOVED_FROM and DW_ITEM_MOVED_TO events will only be reported on Linux. On other platforms, a file rename or move operation will be reported via a DW_ITEM_REMOVED and a DW_ITEM_ADDED event. The order of these two events is not defined.</p>
<p>An event mask can be specified to enable only certain events.</p>
<div class="section" id="enum-values">
<h3>Enum Values</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-directory-watcher-1ac2a1c73a685ac92ea1a31b73709a99cead1547e2c14312b8359940598b18d06bb">
<span id="index-1"></span><span></span><span class="n">DW_DEFAULT_SCAN_INTERVAL</span>
</pre>
<p>Default scan interval for platforms that don’t provide a native notification mechanism.</p>
</div>
<div class="section" id="fields">
<h3>Fields</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-directory-watcher-1a1dca026393020b11972450558a71aa2a">
<span id="index-2"></span><a class="reference internal" href="class_Poco_BasicEvent.html#doxid-class-poco-1-1-basic-event"><span class="std std-ref">BasicEvent</span></a><span></span><span class="o">&lt;</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="struct_Poco_DirectoryWatcher_DirectoryEvent.html#doxid-struct-poco-1-1-directory-watcher-1-1-directory-event"><span class="std std-ref">DirectoryEvent</span></a><span></span><span class="o">&gt;</span> <span class="n">itemAdded</span>
</pre>
<p>Fired when a file or directory has been created or added to the directory.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-directory-watcher-1a16c1d4ef189bff35f59039003c9482aa">
<span id="index-3"></span><a class="reference internal" href="class_Poco_BasicEvent.html#doxid-class-poco-1-1-basic-event"><span class="std std-ref">BasicEvent</span></a><span></span><span class="o">&lt;</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="struct_Poco_DirectoryWatcher_DirectoryEvent.html#doxid-struct-poco-1-1-directory-watcher-1-1-directory-event"><span class="std std-ref">DirectoryEvent</span></a><span></span><span class="o">&gt;</span> <span class="n">itemRemoved</span>
</pre>
<p>Fired when a file or directory has been removed from the directory.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-directory-watcher-1a7550b7bccbd5366e68dbcaa8cb2a3ce9">
<span id="index-4"></span><a class="reference internal" href="class_Poco_BasicEvent.html#doxid-class-poco-1-1-basic-event"><span class="std std-ref">BasicEvent</span></a><span></span><span class="o">&lt;</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="struct_Poco_DirectoryWatcher_DirectoryEvent.html#doxid-struct-poco-1-1-directory-watcher-1-1-directory-event"><span class="std std-ref">DirectoryEvent</span></a><span></span><span class="o">&gt;</span> <span class="n">itemModified</span>
</pre>
<p>Fired when a file or directory has been modified.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-directory-watcher-1a3a95f2b4a37353b4fbddf2c7827632ce">
<span id="index-5"></span><a class="reference internal" href="class_Poco_BasicEvent.html#doxid-class-poco-1-1-basic-event"><span class="std std-ref">BasicEvent</span></a><span></span><span class="o">&lt;</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="struct_Poco_DirectoryWatcher_DirectoryEvent.html#doxid-struct-poco-1-1-directory-watcher-1-1-directory-event"><span class="std std-ref">DirectoryEvent</span></a><span></span><span class="o">&gt;</span> <span class="n">itemMovedFrom</span>
</pre>
<p>Fired when a file or directory has been renamed. This event delivers the old name.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-directory-watcher-1a98493853cad7643750589acec38d1ebb">
<span id="index-6"></span><a class="reference internal" href="class_Poco_BasicEvent.html#doxid-class-poco-1-1-basic-event"><span class="std std-ref">BasicEvent</span></a><span></span><span class="o">&lt;</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="struct_Poco_DirectoryWatcher_DirectoryEvent.html#doxid-struct-poco-1-1-directory-watcher-1-1-directory-event"><span class="std std-ref">DirectoryEvent</span></a><span></span><span class="o">&gt;</span> <span class="n">itemMovedTo</span>
</pre>
<p>Fired when a file or directory has been moved. This event delivers the new name.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-directory-watcher-1a43ae2db6d48767f8dc425cb79a2bcf88">
<span id="index-7"></span><a class="reference internal" href="class_Poco_BasicEvent.html#doxid-class-poco-1-1-basic-event"><span class="std std-ref">BasicEvent</span></a><span></span><span class="o">&lt;</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_Exception.html#doxid-class-poco-1-1-exception"><span class="std std-ref">Exception</span></a><span></span><span class="o">&gt;</span> <span class="n">scanError</span>
</pre>
<p>Fired when an error occurs while scanning for changes.</p>
</div>
<div class="section" id="construction">
<h3>Construction</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-directory-watcher-1a9bde964821812b6e9fabe6bdfc7aab86">
<span id="index-8"></span><span></span><span class="n">DirectoryWatcher</span><span class="p">(</span>
    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">path</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">eventMask</span> <span class="o">=</span> <a class="reference internal" href="enum_Poco_DirectoryWatcher_DirectoryEventMask.html#doxid-class-poco-1-1-directory-watcher-1afafd443bec6747c77d00a0d40610bc87a62ffb5186dd4b98fbeb04fbc82b825cb"><span class="std std-ref">DW_FILTER_ENABLE_ALL</span></a><span></span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">scanInterval</span> <span class="o">=</span> <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1ac2a1c73a685ac92ea1a31b73709a99cead1547e2c14312b8359940598b18d06bb"><span class="std std-ref">DW_DEFAULT_SCAN_INTERVAL</span></a><span></span>
    <span class="p">)</span>
</pre>
<p>Creates a <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher"><span class="std std-ref">DirectoryWatcher</span></a> for the directory given in path.</p>
<p>To enable only specific events, an eventMask can be specified by OR-ing the desired event IDs (e.g., DW_ITEM_ADDED | DW_ITEM_MODIFIED). On platforms where no native filesystem notifications are available, scanInterval specifies the interval in seconds between scans of the directory.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-directory-watcher-1a51e8be8c08443c6028a0ace41b3ac97b">
<span id="index-9"></span><span></span><span class="n">DirectoryWatcher</span><span class="p">(</span>
    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_File.html#doxid-class-poco-1-1-file"><span class="std std-ref">File</span></a><span></span><span class="o">&amp;</span> <span class="n">directory</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">eventMask</span> <span class="o">=</span> <a class="reference internal" href="enum_Poco_DirectoryWatcher_DirectoryEventMask.html#doxid-class-poco-1-1-directory-watcher-1afafd443bec6747c77d00a0d40610bc87a62ffb5186dd4b98fbeb04fbc82b825cb"><span class="std std-ref">DW_FILTER_ENABLE_ALL</span></a><span></span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">scanInterval</span> <span class="o">=</span> <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1ac2a1c73a685ac92ea1a31b73709a99cead1547e2c14312b8359940598b18d06bb"><span class="std std-ref">DW_DEFAULT_SCAN_INTERVAL</span></a><span></span>
    <span class="p">)</span>
</pre>
<p>Creates a <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher"><span class="std std-ref">DirectoryWatcher</span></a> for the specified directory To enable only specific events, an eventMask can be specified by OR-ing the desired event IDs (e.g., DW_ITEM_ADDED | DW_ITEM_MODIFIED).</p>
<p>On platforms where no native filesystem notifications are available, scanInterval specifies the interval in seconds between scans of the directory.</p>
</div>
<div class="section" id="methods">
<h3>Methods</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-directory-watcher-1ad37c05876bf46f6b06279a523f2553b2">
<span id="index-10"></span><span></span><span class="kt">void</span>
<span class="n">suspendEvents</span><span class="p">()</span>
</pre>
<p>Suspends sending of events.</p>
<p>Can be called multiple times, but every call to suspendEvent() must be matched by a call to <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1a815ee4aab5d2315b56764b4f3ce6865b"><span class="std std-ref">resumeEvents()</span></a>.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-directory-watcher-1a815ee4aab5d2315b56764b4f3ce6865b">
<span id="index-11"></span><span></span><span class="kt">void</span>
<span class="n">resumeEvents</span><span class="p">()</span>
</pre>
<p>Resumes events, after they have been suspended with a call to <a class="reference internal" href="#doxid-class-poco-1-1-directory-watcher-1ad37c05876bf46f6b06279a523f2553b2"><span class="std std-ref">suspendEvents()</span></a>.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-directory-watcher-1ade7c7e5fcf2cc7e96f359a6322885a62">
<span id="index-12"></span><span></span><span class="kt">bool</span>
<span class="n">eventsSuspended</span><span class="p">()</span> <span class="k">const</span>
</pre>
<p>Returns true iff events are suspended.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-directory-watcher-1a2bec956f47e27364b113a3a3a67e304d">
<span id="index-13"></span><span></span><span class="kt">int</span>
<span class="n">eventMask</span><span class="p">()</span> <span class="k">const</span>
</pre>
<p>Returns the value of the eventMask passed to the constructor.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-directory-watcher-1a9b081187afebb06528fbb70cdea45e42">
<span id="index-14"></span><span></span><span class="kt">int</span>
<span class="n">scanInterval</span><span class="p">()</span> <span class="k">const</span>
</pre>
<p>Returns the scan interval in seconds.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-directory-watcher-1a7437dbde5507a43e0592f5d678443566">
<span id="index-15"></span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_File.html#doxid-class-poco-1-1-file"><span class="std std-ref">File</span></a><span></span><span class="o">&amp;</span>
<span class="n">directory</span><span class="p">()</span> <span class="k">const</span>
</pre>
<p>Returns the directory being watched.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-directory-watcher-1a674d13446c45b3daac0edb8068ce8769">
<span id="index-16"></span><span></span><span class="kt">bool</span>
<span class="n">supportsMoveEvents</span><span class="p">()</span> <span class="k">const</span>
</pre>
<p>Returns true iff the platform supports DW_ITEM_MOVED_FROM/itemMovedFrom and DW_ITEM_MOVED_TO/itemMovedTo events.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-directory-watcher-1a39394b9a97931487331d07134b6e17f7">
<span id="index-17"></span><span></span><span class="k">virtual</span>
<span class="kt">void</span>
<span class="n">run</span><span class="p">()</span>
</pre>
<p>Do whatever the thread needs to do.</p>
<p>Must be overridden by subclasses.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="enum_Poco_DirectoryWatcher_DirectoryEventMask.html" title="enum Poco::DirectoryWatcher::DirectoryEventMask"
             >next</a> |</li>
        <li class="right" >
          <a href="class_Poco_DirectoryIteratorImpl.html" title="class Poco::DirectoryIteratorImpl"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">POCO C++ Libraries Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="global.html" >Global Namespace</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="namespace_Poco.html" >namespace Poco</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005-2017, POCO Maintainers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>