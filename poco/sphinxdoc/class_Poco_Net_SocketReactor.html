
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>class Poco::Net::SocketReactor &#8212; POCO C++ Libraries Documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-sphinxdoc.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/target-highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="class Poco::Net::SocketStream" href="class_Poco_Net_SocketStream.html" />
    <link rel="prev" title="class Poco::Net::SocketOutputStream" href="class_Poco_Net_SocketOutputStream.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="class_Poco_Net_SocketStream.html" title="class Poco::Net::SocketStream"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="class_Poco_Net_SocketOutputStream.html" title="class Poco::Net::SocketOutputStream"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">POCO C++ Libraries Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="global.html" >Global Namespace</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="namespace_Poco.html" >namespace Poco</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="namespace_Poco_Net.html" accesskey="U">namespace Poco::Net</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">class Poco::Net::SocketReactor</a><ul>
<li><a class="reference internal" href="#overview">Overview</a><ul>
<li><a class="reference internal" href="#inherited-members">Inherited Members</a></li>
</ul>
</li>
<li><a class="reference internal" href="#detailed-documentation">Detailed Documentation</a><ul>
<li><a class="reference internal" href="#construction">Construction</a></li>
<li><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="class_Poco_Net_SocketOutputStream.html"
                        title="previous chapter">class Poco::Net::SocketOutputStream</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="class_Poco_Net_SocketStream.html"
                        title="next chapter">class Poco::Net::SocketStream</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="class-poco-net-socketreactor">
<span id="doxid-class-poco-1-1-net-1-1-socket-reactor"></span><span id="index-0"></span><h1>class Poco::Net::SocketReactor</h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="overview">
<h2>Overview</h2>
<p>This class, which is part of the Reactor pattern, implements the “Initiation Dispatcher”. <a class="reference internal" href="#details-class-poco-1-1-net-1-1-socket-reactor"><span class="std std-ref">More…</span></a></p>
<pre class="highlight doxyrest-overview-code-block literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&lt;SocketReactor.h&gt;</span><span class="cp"></span>

<span class="k">class</span> <span class="nl">SocketReactor</span><span class="p">:</span> <span class="k">public</span> <a class="reference internal" href="class_Poco_Runnable.html#doxid-class-poco-1-1-runnable"><span class="std std-ref">Poco::Runnable</span></a><span></span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="c1">// construction</span>

    <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1a486e92aff17984752a8e71be7a1b1643"><span class="std std-ref">SocketReactor</span></a><span></span><span class="p">();</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1a79c05df73604e18d00f631d6ec983c1a"><span class="std std-ref">SocketReactor</span></a><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_Timespan.html#doxid-class-poco-1-1-timespan"><span class="std std-ref">Poco::Timespan</span></a><span></span><span class="o">&amp;</span> <span class="n">timeout</span><span class="p">);</span>

    <span class="c1">// methods</span>

    <span class="k">virtual</span>
    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1a6871c7b7de994a255a5d55ec26b8c178"><span class="std std-ref">run</span></a><span></span><span class="p">();</span>

    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1aa63b954aded0ade13d59e60aa8241492"><span class="std std-ref">stop</span></a><span></span><span class="p">();</span>

    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1aac64524d1d1ee6148262e472768fd710"><span class="std std-ref">wakeUp</span></a><span></span><span class="p">();</span>

    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1a516e53eef4ac2e0331685359684fd868"><span class="std std-ref">setTimeout</span></a><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_Timespan.html#doxid-class-poco-1-1-timespan"><span class="std std-ref">Poco::Timespan</span></a><span></span><span class="o">&amp;</span> <span class="n">timeout</span><span class="p">);</span>

    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_Timespan.html#doxid-class-poco-1-1-timespan"><span class="std std-ref">Poco::Timespan</span></a><span></span><span class="o">&amp;</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1a83f920d100fe1f8c0f0ca3628e10dd8c"><span class="std std-ref">getTimeout</span></a><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1af6d366d0de6f903709f61a07e21ab508"><span class="std std-ref">addEventHandler</span></a><span></span><span class="p">(</span>
        <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_Net_Socket.html#doxid-class-poco-1-1-net-1-1-socket"><span class="std std-ref">Socket</span></a><span></span><span class="o">&amp;</span> <span class="n">socket</span><span class="p">,</span>
        <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_AbstractObserver.html#doxid-class-poco-1-1-abstract-observer"><span class="std std-ref">Poco::AbstractObserver</span></a><span></span><span class="o">&amp;</span> <span class="n">observer</span>
        <span class="p">);</span>

    <span class="kt">bool</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1abfb5ea7e2378c999495e294bb1a9ef01"><span class="std std-ref">hasEventHandler</span></a><span></span><span class="p">(</span>
        <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_Net_Socket.html#doxid-class-poco-1-1-net-1-1-socket"><span class="std std-ref">Socket</span></a><span></span><span class="o">&amp;</span> <span class="n">socket</span><span class="p">,</span>
        <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_AbstractObserver.html#doxid-class-poco-1-1-abstract-observer"><span class="std std-ref">Poco::AbstractObserver</span></a><span></span><span class="o">&amp;</span> <span class="n">observer</span>
        <span class="p">);</span>

    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1a2c239f3cedcfb75af342c231bf7e8f9d"><span class="std std-ref">removeEventHandler</span></a><span></span><span class="p">(</span>
        <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_Net_Socket.html#doxid-class-poco-1-1-net-1-1-socket"><span class="std std-ref">Socket</span></a><span></span><span class="o">&amp;</span> <span class="n">socket</span><span class="p">,</span>
        <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_AbstractObserver.html#doxid-class-poco-1-1-abstract-observer"><span class="std std-ref">Poco::AbstractObserver</span></a><span></span><span class="o">&amp;</span> <span class="n">observer</span>
        <span class="p">);</span>

<span class="k">protected</span><span class="o">:</span>
    <span class="c1">// methods</span>

    <span class="k">virtual</span>
    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1af776c3f9c6205e278c4c522c98b7da27"><span class="std std-ref">onTimeout</span></a><span></span><span class="p">();</span>

    <span class="k">virtual</span>
    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1a12ff2423749461fce52913012383f923"><span class="std std-ref">onIdle</span></a><span></span><span class="p">();</span>

    <span class="k">virtual</span>
    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1a1270a2f51648df02d8f698c311421213"><span class="std std-ref">onShutdown</span></a><span></span><span class="p">();</span>

    <span class="k">virtual</span>
    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1a03c7d88e752c9df493d7d762813afbab"><span class="std std-ref">onBusy</span></a><span></span><span class="p">();</span>

    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1a93b8e692d6a2e233a3f763855287949d"><span class="std std-ref">dispatch</span></a><span></span><span class="p">(</span>
        <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_Net_Socket.html#doxid-class-poco-1-1-net-1-1-socket"><span class="std std-ref">Socket</span></a><span></span><span class="o">&amp;</span> <span class="n">socket</span><span class="p">,</span>
        <a class="reference internal" href="class_Poco_Net_SocketNotification.html#doxid-class-poco-1-1-net-1-1-socket-notification"><span class="std std-ref">SocketNotification</span></a><span></span><span class="o">*</span> <span class="n">pNotification</span>
        <span class="p">);</span>

    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1ad65fd72558fd3ae7a1f420dc0ef5b67f"><span class="std std-ref">dispatch</span></a><span></span><span class="p">(</span><a class="reference internal" href="class_Poco_Net_SocketNotification.html#doxid-class-poco-1-1-net-1-1-socket-notification"><span class="std std-ref">SocketNotification</span></a><span></span><span class="o">*</span> <span class="n">pNotification</span><span class="p">);</span>
<span class="p">};</span>
</pre>
<div class="section" id="inherited-members">
<h3>Inherited Members</h3>
<pre class="highlight doxyrest-overview-inherited-code-block literal-block">
<span></span><span class="k">public</span><span class="o">:</span>
    <span class="c1">// methods</span>

    <span class="k">virtual</span>
    <span class="kt">void</span>
    <a class="reference internal" href="class_Poco_Runnable.html#doxid-class-poco-1-1-runnable-1ad89816e81207bf5f1e52d5df860d11d4"><span class="std std-ref">run</span></a><span></span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre>
</div>
</div>
<div class="section" id="detailed-documentation">
<span id="details-class-poco-1-1-net-1-1-socket-reactor"></span><h2>Detailed Documentation</h2>
<p>This class, which is part of the Reactor pattern, implements the “Initiation Dispatcher”.</p>
<p>The Reactor pattern has been described in the book “Pattern Languages of Program Design” by Jim Coplien and Douglas C. Schmidt (Addison Wesley, 1995).</p>
<p>The Reactor design pattern handles service requests that are delivered concurrently to an application by one or more clients. Each service in an application may consist of several methods and is represented by a separate event handler. The event handler is responsible for servicing service-specific requests. The <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor"><span class="std std-ref">SocketReactor</span></a> dispatches the event handlers.</p>
<p><a class="reference internal" href="class_Poco_Event.html#doxid-class-poco-1-1-event"><span class="std std-ref">Event</span></a> handlers (any class can be an event handler - there is no base class for event handlers) can be registered with the <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1af6d366d0de6f903709f61a07e21ab508"><span class="std std-ref">addEventHandler()</span></a> method and deregistered with the <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1a2c239f3cedcfb75af342c231bf7e8f9d"><span class="std std-ref">removeEventHandler()</span></a> method.</p>
<p>An event handler is always registered for a certain socket, which is given in the call to <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1af6d366d0de6f903709f61a07e21ab508"><span class="std std-ref">addEventHandler()</span></a>. <a class="reference internal" href="class_Poco_Any.html#doxid-class-poco-1-1-any"><span class="std std-ref">Any</span></a> method of the event handler class can be registered to handle the event - the only requirement is that the method takes a pointer to an instance of <a class="reference internal" href="class_Poco_Net_SocketNotification.html#doxid-class-poco-1-1-net-1-1-socket-notification"><span class="std std-ref">SocketNotification</span></a> (or a subclass of it) as argument.</p>
<p>Once started, the <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor"><span class="std std-ref">SocketReactor</span></a> waits for events on the registered sockets, using <a class="reference internal" href="class_Poco_Net_Socket.html#doxid-class-poco-1-1-net-1-1-socket-1a4b64fe1fc3848e6dec346b49f0708248"><span class="std std-ref">Socket::select()</span></a>. If an event is detected, the corresponding event handler is invoked. There are five event types (and corresponding notification classes) defined: <a class="reference internal" href="class_Poco_Net_ReadableNotification.html#doxid-class-poco-1-1-net-1-1-readable-notification"><span class="std std-ref">ReadableNotification</span></a>, <a class="reference internal" href="class_Poco_Net_WritableNotification.html#doxid-class-poco-1-1-net-1-1-writable-notification"><span class="std std-ref">WritableNotification</span></a>, <a class="reference internal" href="class_Poco_Net_ErrorNotification.html#doxid-class-poco-1-1-net-1-1-error-notification"><span class="std std-ref">ErrorNotification</span></a>, <a class="reference internal" href="class_Poco_Net_TimeoutNotification.html#doxid-class-poco-1-1-net-1-1-timeout-notification"><span class="std std-ref">TimeoutNotification</span></a>, <a class="reference internal" href="class_Poco_Net_IdleNotification.html#doxid-class-poco-1-1-net-1-1-idle-notification"><span class="std std-ref">IdleNotification</span></a> and <a class="reference internal" href="class_Poco_Net_ShutdownNotification.html#doxid-class-poco-1-1-net-1-1-shutdown-notification"><span class="std std-ref">ShutdownNotification</span></a>.</p>
<p>The <a class="reference internal" href="class_Poco_Net_ReadableNotification.html#doxid-class-poco-1-1-net-1-1-readable-notification"><span class="std std-ref">ReadableNotification</span></a> will be dispatched if a socket becomes readable. The <a class="reference internal" href="class_Poco_Net_WritableNotification.html#doxid-class-poco-1-1-net-1-1-writable-notification"><span class="std std-ref">WritableNotification</span></a> will be dispatched if a socket becomes writable. The <a class="reference internal" href="class_Poco_Net_ErrorNotification.html#doxid-class-poco-1-1-net-1-1-error-notification"><span class="std std-ref">ErrorNotification</span></a> will be dispatched if there is an error condition on a socket.</p>
<p>If the timeout expires and no event has occurred, a <a class="reference internal" href="class_Poco_Net_TimeoutNotification.html#doxid-class-poco-1-1-net-1-1-timeout-notification"><span class="std std-ref">TimeoutNotification</span></a> will be dispatched to all event handlers registered for it. This is done in the <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1af776c3f9c6205e278c4c522c98b7da27"><span class="std std-ref">onTimeout()</span></a> method which can be overridden by subclasses to perform custom timeout processing.</p>
<p>If there are no sockets for the <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor"><span class="std std-ref">SocketReactor</span></a> to pass to <a class="reference internal" href="class_Poco_Net_Socket.html#doxid-class-poco-1-1-net-1-1-socket-1a4b64fe1fc3848e6dec346b49f0708248"><span class="std std-ref">Socket::select()</span></a>, an <a class="reference internal" href="class_Poco_Net_IdleNotification.html#doxid-class-poco-1-1-net-1-1-idle-notification"><span class="std std-ref">IdleNotification</span></a> will be dispatched to all event handlers registered for it. This is done in the <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1a12ff2423749461fce52913012383f923"><span class="std std-ref">onIdle()</span></a> method which can be overridden by subclasses to perform custom idle processing. Since <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1a12ff2423749461fce52913012383f923"><span class="std std-ref">onIdle()</span></a> will be called repeatedly in a loop, it is recommended to do a short sleep or yield in the event handler.</p>
<p>Finally, when the <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor"><span class="std std-ref">SocketReactor</span></a> is about to shut down (as a result of <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1aa63b954aded0ade13d59e60aa8241492"><span class="std std-ref">stop()</span></a> being called), it dispatches a <a class="reference internal" href="class_Poco_Net_ShutdownNotification.html#doxid-class-poco-1-1-net-1-1-shutdown-notification"><span class="std std-ref">ShutdownNotification</span></a> to all event handlers. This is done in the <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1a1270a2f51648df02d8f698c311421213"><span class="std std-ref">onShutdown()</span></a> method which can be overridded by subclasses to perform custom shutdown processing.</p>
<p>The <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor"><span class="std std-ref">SocketReactor</span></a> is implemented so that it can run in its own thread. It is also possible to run multiple SocketReactors in parallel, as long as they work on different sockets.</p>
<p>It is safe to call <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1af6d366d0de6f903709f61a07e21ab508"><span class="std std-ref">addEventHandler()</span></a> and <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1a2c239f3cedcfb75af342c231bf7e8f9d"><span class="std std-ref">removeEventHandler()</span></a> from another thread while the <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor"><span class="std std-ref">SocketReactor</span></a> is running. Also, it is safe to call <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1af6d366d0de6f903709f61a07e21ab508"><span class="std std-ref">addEventHandler()</span></a> and <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1a2c239f3cedcfb75af342c231bf7e8f9d"><span class="std std-ref">removeEventHandler()</span></a> from event handlers.</p>
<div class="section" id="construction">
<h3>Construction</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-net-1-1-socket-reactor-1a486e92aff17984752a8e71be7a1b1643">
<span id="index-1"></span><span></span><span class="n">SocketReactor</span><span class="p">()</span>
</pre>
<p>Creates the <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor"><span class="std std-ref">SocketReactor</span></a>.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-net-1-1-socket-reactor-1a79c05df73604e18d00f631d6ec983c1a">
<span id="index-2"></span><span></span><span class="n">SocketReactor</span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_Timespan.html#doxid-class-poco-1-1-timespan"><span class="std std-ref">Poco::Timespan</span></a><span></span><span class="o">&amp;</span> <span class="n">timeout</span><span class="p">)</span>
</pre>
<p>Creates the <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor"><span class="std std-ref">SocketReactor</span></a>, using the given timeout.</p>
</div>
<div class="section" id="methods">
<h3>Methods</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-net-1-1-socket-reactor-1a6871c7b7de994a255a5d55ec26b8c178">
<span id="index-3"></span><span></span><span class="k">virtual</span>
<span class="kt">void</span>
<span class="n">run</span><span class="p">()</span>
</pre>
<p>Runs the <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor"><span class="std std-ref">SocketReactor</span></a>.</p>
<p>The reactor will run until <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor-1aa63b954aded0ade13d59e60aa8241492"><span class="std std-ref">stop()</span></a> is called (in a separate thread).</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-net-1-1-socket-reactor-1aa63b954aded0ade13d59e60aa8241492">
<span id="index-4"></span><span></span><span class="kt">void</span>
<span class="n">stop</span><span class="p">()</span>
</pre>
<p>Stops the <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor"><span class="std std-ref">SocketReactor</span></a>.</p>
<p>The reactor will be stopped when the next event (including a timeout event) occurs.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-net-1-1-socket-reactor-1aac64524d1d1ee6148262e472768fd710">
<span id="index-5"></span><span></span><span class="kt">void</span>
<span class="n">wakeUp</span><span class="p">()</span>
</pre>
<p>Wakes up idle reactor.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-net-1-1-socket-reactor-1a516e53eef4ac2e0331685359684fd868">
<span id="index-6"></span><span></span><span class="kt">void</span>
<span class="n">setTimeout</span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_Timespan.html#doxid-class-poco-1-1-timespan"><span class="std std-ref">Poco::Timespan</span></a><span></span><span class="o">&amp;</span> <span class="n">timeout</span><span class="p">)</span>
</pre>
<p>Sets the timeout.</p>
<p>If no other event occurs for the given timeout interval, a timeout event is sent to all event listeners.</p>
<p>The default timeout is 250 milliseconds;</p>
<p>The timeout is passed to the <a class="reference internal" href="class_Poco_Net_Socket.html#doxid-class-poco-1-1-net-1-1-socket-1a4b64fe1fc3848e6dec346b49f0708248"><span class="std std-ref">Socket::select()</span></a> method.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-net-1-1-socket-reactor-1a83f920d100fe1f8c0f0ca3628e10dd8c">
<span id="index-7"></span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_Timespan.html#doxid-class-poco-1-1-timespan"><span class="std std-ref">Poco::Timespan</span></a><span></span><span class="o">&amp;</span>
<span class="n">getTimeout</span><span class="p">()</span> <span class="k">const</span>
</pre>
<p>Returns the timeout.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-net-1-1-socket-reactor-1af6d366d0de6f903709f61a07e21ab508">
<span id="index-8"></span><span></span><span class="kt">void</span>
<span class="n">addEventHandler</span><span class="p">(</span>
    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_Net_Socket.html#doxid-class-poco-1-1-net-1-1-socket"><span class="std std-ref">Socket</span></a><span></span><span class="o">&amp;</span> <span class="n">socket</span><span class="p">,</span>
    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_AbstractObserver.html#doxid-class-poco-1-1-abstract-observer"><span class="std std-ref">Poco::AbstractObserver</span></a><span></span><span class="o">&amp;</span> <span class="n">observer</span>
    <span class="p">)</span>
</pre>
<p>Registers an event handler with the <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor"><span class="std std-ref">SocketReactor</span></a>.</p>
<p>Usage:</p>
<pre class="highlight literal-block">
<span></span><span class="n">Poco</span><span class="o">::</span><span class="n">Observer</span><span class="o">&lt;</span><span class="n">MyEventHandler</span><span class="p">,</span> <span class="n">SocketNotification</span><span class="o">&gt;</span> <span class="n">obs</span><span class="p">(</span><span class="o">*</span><span class="k">this</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">MyEventHandler</span><span class="o">::</span><span class="n">handleMyEvent</span><span class="p">);</span>
<span class="n">reactor</span><span class="p">.</span><span class="n">addEventHandler</span><span class="p">(</span><span class="n">obs</span><span class="p">);</span>
</pre>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-net-1-1-socket-reactor-1abfb5ea7e2378c999495e294bb1a9ef01">
<span id="index-9"></span><span></span><span class="kt">bool</span>
<span class="n">hasEventHandler</span><span class="p">(</span>
    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_Net_Socket.html#doxid-class-poco-1-1-net-1-1-socket"><span class="std std-ref">Socket</span></a><span></span><span class="o">&amp;</span> <span class="n">socket</span><span class="p">,</span>
    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_AbstractObserver.html#doxid-class-poco-1-1-abstract-observer"><span class="std std-ref">Poco::AbstractObserver</span></a><span></span><span class="o">&amp;</span> <span class="n">observer</span>
    <span class="p">)</span>
</pre>
<p>Returns true if the observer is registered with <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor"><span class="std std-ref">SocketReactor</span></a> for the given socket.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-net-1-1-socket-reactor-1a2c239f3cedcfb75af342c231bf7e8f9d">
<span id="index-10"></span><span></span><span class="kt">void</span>
<span class="n">removeEventHandler</span><span class="p">(</span>
    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_Net_Socket.html#doxid-class-poco-1-1-net-1-1-socket"><span class="std std-ref">Socket</span></a><span></span><span class="o">&amp;</span> <span class="n">socket</span><span class="p">,</span>
    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_AbstractObserver.html#doxid-class-poco-1-1-abstract-observer"><span class="std std-ref">Poco::AbstractObserver</span></a><span></span><span class="o">&amp;</span> <span class="n">observer</span>
    <span class="p">)</span>
</pre>
<p>Unregisters an event handler with the <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor"><span class="std std-ref">SocketReactor</span></a>.</p>
<p>Usage:</p>
<pre class="highlight literal-block">
<span></span><span class="n">Poco</span><span class="o">::</span><span class="n">Observer</span><span class="o">&lt;</span><span class="n">MyEventHandler</span><span class="p">,</span> <span class="n">SocketNotification</span><span class="o">&gt;</span> <span class="n">obs</span><span class="p">(</span><span class="o">*</span><span class="k">this</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">MyEventHandler</span><span class="o">::</span><span class="n">handleMyEvent</span><span class="p">);</span>
<span class="n">reactor</span><span class="p">.</span><span class="n">removeEventHandler</span><span class="p">(</span><span class="n">obs</span><span class="p">);</span>
</pre>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-net-1-1-socket-reactor-1af776c3f9c6205e278c4c522c98b7da27">
<span id="index-11"></span><span></span><span class="k">virtual</span>
<span class="kt">void</span>
<span class="n">onTimeout</span><span class="p">()</span>
</pre>
<p>Called if the timeout expires and no other events are available.</p>
<p>Can be overridden by subclasses. The default implementation dispatches the <a class="reference internal" href="class_Poco_Net_TimeoutNotification.html#doxid-class-poco-1-1-net-1-1-timeout-notification"><span class="std std-ref">TimeoutNotification</span></a> and thus should be called by overriding implementations.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-net-1-1-socket-reactor-1a12ff2423749461fce52913012383f923">
<span id="index-12"></span><span></span><span class="k">virtual</span>
<span class="kt">void</span>
<span class="n">onIdle</span><span class="p">()</span>
</pre>
<p>Called if no sockets are available to call select() on.</p>
<p>Can be overridden by subclasses. The default implementation dispatches the <a class="reference internal" href="class_Poco_Net_IdleNotification.html#doxid-class-poco-1-1-net-1-1-idle-notification"><span class="std std-ref">IdleNotification</span></a> and thus should be called by overriding implementations.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-net-1-1-socket-reactor-1a1270a2f51648df02d8f698c311421213">
<span id="index-13"></span><span></span><span class="k">virtual</span>
<span class="kt">void</span>
<span class="n">onShutdown</span><span class="p">()</span>
</pre>
<p>Called when the <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor"><span class="std std-ref">SocketReactor</span></a> is about to terminate.</p>
<p>Can be overridden by subclasses. The default implementation dispatches the <a class="reference internal" href="class_Poco_Net_ShutdownNotification.html#doxid-class-poco-1-1-net-1-1-shutdown-notification"><span class="std std-ref">ShutdownNotification</span></a> and thus should be called by overriding implementations.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-net-1-1-socket-reactor-1a03c7d88e752c9df493d7d762813afbab">
<span id="index-14"></span><span></span><span class="k">virtual</span>
<span class="kt">void</span>
<span class="n">onBusy</span><span class="p">()</span>
</pre>
<p>Called when the <a class="reference internal" href="#doxid-class-poco-1-1-net-1-1-socket-reactor"><span class="std std-ref">SocketReactor</span></a> is busy and at least one notification has been dispatched.</p>
<p>Can be overridden by subclasses to perform additional periodic tasks. The default implementation does nothing.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-net-1-1-socket-reactor-1a93b8e692d6a2e233a3f763855287949d">
<span id="index-15"></span><span></span><span class="kt">void</span>
<span class="n">dispatch</span><span class="p">(</span>
    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_Net_Socket.html#doxid-class-poco-1-1-net-1-1-socket"><span class="std std-ref">Socket</span></a><span></span><span class="o">&amp;</span> <span class="n">socket</span><span class="p">,</span>
    <a class="reference internal" href="class_Poco_Net_SocketNotification.html#doxid-class-poco-1-1-net-1-1-socket-notification"><span class="std std-ref">SocketNotification</span></a><span></span><span class="o">*</span> <span class="n">pNotification</span>
    <span class="p">)</span>
</pre>
<p>Dispatches the given notification to all observers registered for the given socket.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-net-1-1-socket-reactor-1ad65fd72558fd3ae7a1f420dc0ef5b67f">
<span id="index-16"></span><span></span><span class="kt">void</span>
<span class="n">dispatch</span><span class="p">(</span><a class="reference internal" href="class_Poco_Net_SocketNotification.html#doxid-class-poco-1-1-net-1-1-socket-notification"><span class="std std-ref">SocketNotification</span></a><span></span><span class="o">*</span> <span class="n">pNotification</span><span class="p">)</span>
</pre>
<p>Dispatches the given notification to all observers.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="class_Poco_Net_SocketStream.html" title="class Poco::Net::SocketStream"
             >next</a> |</li>
        <li class="right" >
          <a href="class_Poco_Net_SocketOutputStream.html" title="class Poco::Net::SocketOutputStream"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">POCO C++ Libraries Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="global.html" >Global Namespace</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="namespace_Poco.html" >namespace Poco</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="namespace_Poco_Net.html" >namespace Poco::Net</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005-2017, POCO Maintainers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>