
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>template class Poco::PBKDF2Engine &#8212; POCO C++ Libraries Documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-sphinxdoc.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/target-highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="class Poco::Path" href="class_Poco_Path.html" />
    <link rel="prev" title="class Poco::OutputStreamConverter" href="class_Poco_OutputStreamConverter.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="class_Poco_Path.html" title="class Poco::Path"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="class_Poco_OutputStreamConverter.html" title="class Poco::OutputStreamConverter"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">POCO C++ Libraries Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="global.html" >Global Namespace</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="namespace_Poco.html" accesskey="U">namespace Poco</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">template class Poco::PBKDF2Engine</a><ul>
<li><a class="reference internal" href="#overview">Overview</a><ul>
<li><a class="reference internal" href="#inherited-members">Inherited Members</a></li>
</ul>
</li>
<li><a class="reference internal" href="#detailed-documentation">Detailed Documentation</a><ul>
<li><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="class_Poco_OutputStreamConverter.html"
                        title="previous chapter">class Poco::OutputStreamConverter</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="class_Poco_Path.html"
                        title="next chapter">class Poco::Path</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="template-class-poco-pbkdf2engine">
<span id="doxid-class-poco-1-1-p-b-k-d-f2-engine"></span><span id="index-0"></span><h1>template class Poco::PBKDF2Engine</h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="overview">
<h2>Overview</h2>
<p>This class implementes the Password-Based Key Derivation Function 2, as specified in RFC 2898. <a class="reference internal" href="#details-class-poco-1-1-p-b-k-d-f2-engine"><span class="std std-ref">More…</span></a></p>
<pre class="highlight doxyrest-overview-code-block literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&lt;PBKDF2Engine.h&gt;</span><span class="cp"></span>

<span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="n">PRF</span><span class="o">&gt;</span>
<span class="k">class</span> <span class="nl">PBKDF2Engine</span><span class="p">:</span> <span class="k">public</span> <a class="reference internal" href="class_Poco_DigestEngine.html#doxid-class-poco-1-1-digest-engine"><span class="std std-ref">Poco::DigestEngine</span></a><span></span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="c1">// enums</span>

    <span class="k">enum</span>
    <span class="p">{</span>
        <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-p-b-k-d-f2-engine-1afcbe55bdfddc9878d5c4c63e95a99ce7abfc1d68b8eb43a90fe6ffa5a93a722c6">PRF_DIGEST_SIZE</span><span></span> <span class="o">=</span> <span class="n">PRF</span><span class="o">::</span><span class="n">DIGEST_SIZE</span><span class="p">,</span>
    <span class="p">};</span>

    <span class="c1">// construction</span>

    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-p-b-k-d-f2-engine-1ae254629d45a3b1e21f57d474c5042329">PBKDF2Engine</span><span></span><span class="p">(</span>
        <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">salt</span><span class="p">,</span>
        <span class="kt">unsigned</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">4096</span><span class="p">,</span>
        <span class="n">Poco</span><span class="o">::</span><span class="n">UInt32</span> <span class="n">dkLen</span> <span class="o">=</span> <a class="reference internal" href="#doxid-class-poco-1-1-p-b-k-d-f2-engine-1afcbe55bdfddc9878d5c4c63e95a99ce7abfc1d68b8eb43a90fe6ffa5a93a722c6"><span class="std std-ref">PRF_DIGEST_SIZE</span></a><span></span>
        <span class="p">);</span>

    <span class="c1">// methods</span>

    <span class="k">virtual</span>
    <span class="n">std</span><span class="o">::</span><span class="kt">size_t</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-p-b-k-d-f2-engine-1a1f5c0c2bc7cdd0f3ea2e2a085e652742"><span class="std std-ref">digestLength</span></a><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

    <span class="k">virtual</span>
    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-p-b-k-d-f2-engine-1a5acbf27cee2ef529852e96e8ad1b36b4"><span class="std std-ref">reset</span></a><span></span><span class="p">();</span>

    <span class="k">virtual</span>
    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_DigestEngine.html#doxid-class-poco-1-1-digest-engine-1a8e6e74183768a08e8f00112e5c6c055e"><span class="std std-ref">DigestEngine::Digest</span></a><span></span><span class="o">&amp;</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-p-b-k-d-f2-engine-1afd9bc62834136625f41c7ff262430f0c"><span class="std std-ref">digest</span></a><span></span><span class="p">();</span>

<span class="k">protected</span><span class="o">:</span>
    <span class="c1">// methods</span>

    <span class="k">virtual</span>
    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-p-b-k-d-f2-engine-1ab41a55a97b54793efb65b0351916079e"><span class="std std-ref">updateImpl</span></a><span></span><span class="p">(</span>
        <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="kt">void</span><span class="o">*</span> <span class="n">data</span><span class="p">,</span>
        <span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">length</span>
        <span class="p">);</span>

    <span class="kt">void</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-p-b-k-d-f2-engine-1ae6564866d7309820f2e670cd6332e06a">f</span><span></span><span class="p">(</span><span class="n">Poco</span><span class="o">::</span><span class="n">UInt32</span> <span class="n">i</span><span class="p">);</span>
<span class="p">};</span>
</pre>
<div class="section" id="inherited-members">
<h3>Inherited Members</h3>
<pre class="highlight doxyrest-overview-inherited-code-block literal-block">
<span></span><span class="k">public</span><span class="o">:</span>
    <span class="c1">// typedefs</span>

    <span class="k">typedef</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span> <span class="kt">char</span><span class="o">&gt;</span> <a class="reference internal" href="class_Poco_DigestEngine.html#doxid-class-poco-1-1-digest-engine-1a8e6e74183768a08e8f00112e5c6c055e"><span class="std std-ref">Digest</span></a><span></span><span class="p">;</span>

    <span class="c1">// methods</span>

    <span class="kt">void</span>
    <a class="reference internal" href="class_Poco_DigestEngine.html#doxid-class-poco-1-1-digest-engine-1ac3de0beba3214e7c41b97ceab478f4d1"><span class="std std-ref">update</span></a><span></span><span class="p">(</span>
        <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="kt">void</span><span class="o">*</span> <span class="n">data</span><span class="p">,</span>
        <span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">length</span>
        <span class="p">);</span>

    <span class="kt">void</span>
    <a class="reference internal" href="class_Poco_DigestEngine.html#doxid-class-poco-1-1-digest-engine-1a7a0602bab140113322422625573f853c"><span class="std std-ref">update</span></a><span></span><span class="p">(</span><span class="kt">char</span> <span class="n">data</span><span class="p">);</span>

    <span class="kt">void</span>
    <a class="reference internal" href="class_Poco_DigestEngine.html#doxid-class-poco-1-1-digest-engine-1a3ea720755f7eb4febe08a4ed680d0ce9"><span class="std std-ref">update</span></a><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">data</span><span class="p">);</span>

    <span class="k">virtual</span>
    <span class="n">std</span><span class="o">::</span><span class="kt">size_t</span>
    <a class="reference internal" href="class_Poco_DigestEngine.html#doxid-class-poco-1-1-digest-engine-1a971c0aa31b67436f710841a87ac4d5ca"><span class="std std-ref">digestLength</span></a><span></span><span class="p">()</span> <span class="k">const</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">virtual</span>
    <span class="kt">void</span>
    <a class="reference internal" href="class_Poco_DigestEngine.html#doxid-class-poco-1-1-digest-engine-1ac6e2b8d7740b289e9432ae673823ae0f"><span class="std std-ref">reset</span></a><span></span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">virtual</span>
    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_DigestEngine.html#doxid-class-poco-1-1-digest-engine-1a8e6e74183768a08e8f00112e5c6c055e"><span class="std std-ref">Digest</span></a><span></span><span class="o">&amp;</span>
    <a class="reference internal" href="class_Poco_DigestEngine.html#doxid-class-poco-1-1-digest-engine-1acbb5e07fd2f4ae327c3a6897867e07f3"><span class="std std-ref">digest</span></a><span></span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">static</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span>
    <a class="reference internal" href="class_Poco_DigestEngine.html#doxid-class-poco-1-1-digest-engine-1a82bd78a240d10ca70c6b9eeba4988ddf"><span class="std std-ref">digestToHex</span></a><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_DigestEngine.html#doxid-class-poco-1-1-digest-engine-1a8e6e74183768a08e8f00112e5c6c055e"><span class="std std-ref">Digest</span></a><span></span><span class="o">&amp;</span> <span class="n">bytes</span><span class="p">);</span>

    <span class="k">static</span>
    <a class="reference internal" href="class_Poco_DigestEngine.html#doxid-class-poco-1-1-digest-engine-1a8e6e74183768a08e8f00112e5c6c055e"><span class="std std-ref">Digest</span></a><span></span>
    <a class="reference internal" href="class_Poco_DigestEngine.html#doxid-class-poco-1-1-digest-engine-1ae5b4eff9f83d30775ae966ef39443489"><span class="std std-ref">digestFromHex</span></a><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">digest</span><span class="p">);</span>

<span class="k">protected</span><span class="o">:</span>
    <span class="c1">// methods</span>

    <span class="k">virtual</span>
    <span class="kt">void</span>
    <a class="reference internal" href="class_Poco_DigestEngine.html#doxid-class-poco-1-1-digest-engine-1a172d52d2fd5c279b4571f6cd5b57fccf"><span class="std std-ref">updateImpl</span></a><span></span><span class="p">(</span>
        <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="kt">void</span><span class="o">*</span> <span class="n">data</span><span class="p">,</span>
        <span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">length</span>
        <span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre>
</div>
</div>
<div class="section" id="detailed-documentation">
<span id="details-class-poco-1-1-p-b-k-d-f2-engine"></span><h2>Detailed Documentation</h2>
<p>This class implementes the Password-Based Key Derivation Function 2, as specified in RFC 2898.</p>
<p>The underlying <a class="reference internal" href="class_Poco_DigestEngine.html#doxid-class-poco-1-1-digest-engine"><span class="std std-ref">DigestEngine</span></a> (<a class="reference internal" href="class_Poco_HMACEngine.html#doxid-class-poco-1-1-h-m-a-c-engine"><span class="std std-ref">HMACEngine</span></a>, etc.), which must accept the passphrase as constructor argument (std::string), must be given as template argument.</p>
<p>PBKDF2 (Password-Based Key Derivation Function 2) is a key derivation function that is part of RSA Laboratories’ Public-Key Cryptography Standards (PKCS) series, specifically PKCS #5 v2.0, also published as Internet Engineering <a class="reference internal" href="class_Poco_Task.html#doxid-class-poco-1-1-task"><span class="std std-ref">Task</span></a> Force’s RFC 2898. It replaces an earlier standard, PBKDF1, which could only produce derived keys up to 160 bits long.</p>
<p>PBKDF2 applies a pseudorandom function, such as a cryptographic hash, cipher, or HMAC to the input password or passphrase along with a salt value and repeats the process many times to produce a derived key, which can then be used as a cryptographic key in subsequent operations. The added computational work makes password cracking much more difficult, and is known as key stretching. When the standard was written in 2000, the recommended minimum number of iterations was 1000, but the parameter is intended to be increased over time as CPU speeds increase. Having a salt added to the password reduces the ability to use precomputed hashes (rainbow tables) for attacks, and means that multiple passwords have to be tested individually, not all at once. The standard recommends a salt length of at least 64 bits. [Wikipedia]</p>
<p>The PBKDF2 algorithm is implemented as a <a class="reference internal" href="class_Poco_DigestEngine.html#doxid-class-poco-1-1-digest-engine"><span class="std std-ref">DigestEngine</span></a>. The passphrase is specified by calling <a class="reference internal" href="class_Poco_DigestEngine.html#doxid-class-poco-1-1-digest-engine-1ac3de0beba3214e7c41b97ceab478f4d1"><span class="std std-ref">update()</span></a>.</p>
<p>Example (WPA2):</p>
<pre class="highlight literal-block">
<span></span><span class="n">PBKDF2Engine</span><span class="o">&lt;</span><span class="n">HMACEngine</span><span class="o">&lt;</span><span class="n">SHA1Engine</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="n">pbkdf2</span><span class="p">(</span><span class="n">ssid</span><span class="p">,</span> <span class="mi">4096</span><span class="p">,</span> <span class="mi">256</span><span class="p">);</span>
<span class="n">pbkdf2</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span class="n">passphrase</span><span class="p">);</span>
<span class="n">DigestEngine</span><span class="o">::</span><span class="n">Digest</span> <span class="n">d</span> <span class="o">=</span> <span class="n">pbkdf2</span><span class="p">.</span><span class="n">digest</span><span class="p">();</span>
</pre>
<div class="section" id="methods">
<h3>Methods</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-p-b-k-d-f2-engine-1a1f5c0c2bc7cdd0f3ea2e2a085e652742">
<span id="index-1"></span><span></span><span class="k">virtual</span>
<span class="n">std</span><span class="o">::</span><span class="kt">size_t</span>
<span class="n">digestLength</span><span class="p">()</span> <span class="k">const</span>
</pre>
<p>Returns the length of the digest in bytes.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-p-b-k-d-f2-engine-1a5acbf27cee2ef529852e96e8ad1b36b4">
<span id="index-2"></span><span></span><span class="k">virtual</span>
<span class="kt">void</span>
<span class="n">reset</span><span class="p">()</span>
</pre>
<p>Resets the engine so that a new digest can be computed.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-p-b-k-d-f2-engine-1afd9bc62834136625f41c7ff262430f0c">
<span id="index-3"></span><span></span><span class="k">virtual</span>
<a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_DigestEngine.html#doxid-class-poco-1-1-digest-engine-1a8e6e74183768a08e8f00112e5c6c055e"><span class="std std-ref">DigestEngine::Digest</span></a><span></span><span class="o">&amp;</span>
<span class="n">digest</span><span class="p">()</span>
</pre>
<p>Finishes the computation of the digest and returns the message digest.</p>
<p>Resets the engine and can thus only be called once for every digest. The returned reference is valid until the next time <a class="reference internal" href="#doxid-class-poco-1-1-p-b-k-d-f2-engine-1afd9bc62834136625f41c7ff262430f0c"><span class="std std-ref">digest()</span></a> is called, or the engine object is destroyed.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-p-b-k-d-f2-engine-1ab41a55a97b54793efb65b0351916079e">
<span id="index-4"></span><span></span><span class="k">virtual</span>
<span class="kt">void</span>
<span class="n">updateImpl</span><span class="p">(</span>
    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="kt">void</span><span class="o">*</span> <span class="n">data</span><span class="p">,</span>
    <span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">length</span>
    <span class="p">)</span>
</pre>
<p>Updates the digest with the given data.</p>
<p>Must be implemented by subclasses.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="class_Poco_Path.html" title="class Poco::Path"
             >next</a> |</li>
        <li class="right" >
          <a href="class_Poco_OutputStreamConverter.html" title="class Poco::OutputStreamConverter"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">POCO C++ Libraries Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="global.html" >Global Namespace</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="namespace_Poco.html" >namespace Poco</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005-2017, POCO Maintainers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>