
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>class Poco::SharedMemory &#8212; POCO C++ Libraries Documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-sphinxdoc.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/target-highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="enum Poco::SharedMemory::AccessMode" href="enum_Poco_SharedMemory_AccessMode.html" />
    <link rel="prev" title="enum Poco::SharedLibraryImpl::Flags" href="enum_Poco_SharedLibraryImpl_Flags.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="enum_Poco_SharedMemory_AccessMode.html" title="enum Poco::SharedMemory::AccessMode"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="enum_Poco_SharedLibraryImpl_Flags.html" title="enum Poco::SharedLibraryImpl::Flags"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">POCO C++ Libraries Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="global.html" >Global Namespace</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="namespace_Poco.html" accesskey="U">namespace Poco</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">class Poco::SharedMemory</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#detailed-documentation">Detailed Documentation</a><ul>
<li><a class="reference internal" href="#construction">Construction</a></li>
<li><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="enum_Poco_SharedLibraryImpl_Flags.html"
                        title="previous chapter">enum Poco::SharedLibraryImpl::Flags</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="enum_Poco_SharedMemory_AccessMode.html"
                        title="next chapter">enum Poco::SharedMemory::AccessMode</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="class-poco-sharedmemory">
<span id="doxid-class-poco-1-1-shared-memory"></span><span id="index-0"></span><h1>class Poco::SharedMemory</h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="overview">
<h2>Overview</h2>
<p>Create and manage a shared memory object. <a class="reference internal" href="#details-class-poco-1-1-shared-memory"><span class="std std-ref">Moreâ€¦</span></a></p>
<pre class="highlight doxyrest-overview-code-block literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&lt;SharedMemory.h&gt;</span><span class="cp"></span>

<span class="k">class</span> <span class="n">SharedMemory</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="c1">// enums</span>

    <span class="k">enum</span> <a class="reference internal" href="enum_Poco_SharedMemory_AccessMode.html#doxid-class-poco-1-1-shared-memory-1a12ab0f4ee9f7fa6b90387507a0a141ee"><span class="std std-ref">AccessMode</span></a><span></span><span class="p">;</span>

    <span class="c1">// construction</span>

    <a class="reference internal" href="#doxid-class-poco-1-1-shared-memory-1a15eb1c28f52d1117d3d17e81a64e9afb"><span class="std std-ref">SharedMemory</span></a><span></span><span class="p">();</span>

    <a class="reference internal" href="#doxid-class-poco-1-1-shared-memory-1adb04711f68f65b697f6f8eb794dfade8"><span class="std std-ref">SharedMemory</span></a><span></span><span class="p">(</span>
        <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">,</span>
        <span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">size</span><span class="p">,</span>
        <a class="reference internal" href="enum_Poco_SharedMemory_AccessMode.html#doxid-class-poco-1-1-shared-memory-1a12ab0f4ee9f7fa6b90387507a0a141ee"><span class="std std-ref">AccessMode</span></a><span></span> <span class="n">mode</span><span class="p">,</span>
        <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="kt">void</span><span class="o">*</span> <span class="n">addrHint</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="kt">bool</span> <span class="n">server</span> <span class="o">=</span> <span class="nb">true</span>
        <span class="p">);</span>

    <a class="reference internal" href="#doxid-class-poco-1-1-shared-memory-1a550a7f770b6529db9902bf56eeccf16a"><span class="std std-ref">SharedMemory</span></a><span></span><span class="p">(</span>
        <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_File.html#doxid-class-poco-1-1-file"><span class="std std-ref">File</span></a><span></span><span class="o">&amp;</span> <span class="n">file</span><span class="p">,</span>
        <a class="reference internal" href="enum_Poco_SharedMemory_AccessMode.html#doxid-class-poco-1-1-shared-memory-1a12ab0f4ee9f7fa6b90387507a0a141ee"><span class="std std-ref">AccessMode</span></a><span></span> <span class="n">mode</span><span class="p">,</span>
        <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="kt">void</span><span class="o">*</span> <span class="n">addrHint</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="p">);</span>

    <a class="reference internal" href="#doxid-class-poco-1-1-shared-memory-1a785d35b31169c4ebb3a9ecd297a4e433"><span class="std std-ref">SharedMemory</span></a><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">SharedMemory</span><span class="o">&amp;</span> <span class="n">other</span><span class="p">);</span>

    <span class="c1">// methods</span>

    <span class="n">SharedMemory</span><span class="o">&amp;</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-shared-memory-1af44d4725029fe0d5d5f9075f861cc0f0"><span class="std std-ref">operator=</span></a><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">SharedMemory</span><span class="o">&amp;</span> <span class="n">other</span><span class="p">);</span>

    <span class="kt">void</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-shared-memory-1ad82086a99f7e2ddc8e9c79239c2e974a"><span class="std std-ref">swap</span></a><span></span><span class="p">(</span><span class="n">SharedMemory</span><span class="o">&amp;</span> <span class="n">other</span><span class="p">);</span>

    <span class="kt">char</span><span class="o">*</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-shared-memory-1a4a90f2c4960f59a4b048c4ab525513f2"><span class="std std-ref">begin</span></a><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">char</span><span class="o">*</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-shared-memory-1ac63f1952a055839712945338a25abc50"><span class="std std-ref">end</span></a><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
<span class="p">};</span>
</pre>
</div>
<div class="section" id="detailed-documentation">
<span id="details-class-poco-1-1-shared-memory"></span><h2>Detailed Documentation</h2>
<p>Create and manage a shared memory object.</p>
<p>A <a class="reference internal" href="#doxid-class-poco-1-1-shared-memory"><span class="std std-ref">SharedMemory</span></a> object has value semantics, but is implemented using a handle/implementation idiom. Therefore, multiple <a class="reference internal" href="#doxid-class-poco-1-1-shared-memory"><span class="std std-ref">SharedMemory</span></a> objects can share a single, reference counted <a class="reference internal" href="class_Poco_SharedMemoryImpl.html#doxid-class-poco-1-1-shared-memory-impl"><span class="std std-ref">SharedMemoryImpl</span></a> object.</p>
<div class="section" id="construction">
<h3>Construction</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-shared-memory-1a15eb1c28f52d1117d3d17e81a64e9afb">
<span id="index-1"></span><span></span><span class="n">SharedMemory</span><span class="p">()</span>
</pre>
<p>Default constructor creates an unmapped <a class="reference internal" href="#doxid-class-poco-1-1-shared-memory"><span class="std std-ref">SharedMemory</span></a> object.</p>
<p>No clients can connect to an unmapped <a class="reference internal" href="#doxid-class-poco-1-1-shared-memory"><span class="std std-ref">SharedMemory</span></a> object.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-shared-memory-1adb04711f68f65b697f6f8eb794dfade8">
<span id="index-2"></span><span></span><span class="n">SharedMemory</span><span class="p">(</span>
    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">name</span><span class="p">,</span>
    <span class="n">std</span><span class="o">::</span><span class="kt">size_t</span> <span class="n">size</span><span class="p">,</span>
    <a class="reference internal" href="enum_Poco_SharedMemory_AccessMode.html#doxid-class-poco-1-1-shared-memory-1a12ab0f4ee9f7fa6b90387507a0a141ee"><span class="std std-ref">AccessMode</span></a><span></span> <span class="n">mode</span><span class="p">,</span>
    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="kt">void</span><span class="o">*</span> <span class="n">addrHint</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="kt">bool</span> <span class="n">server</span> <span class="o">=</span> <span class="nb">true</span>
    <span class="p">)</span>
</pre>
<p>Creates or connects to a shared memory object with the given name.</p>
<p>For maximum portability, name should be a valid Unix filename and not contain any slashes or backslashes.</p>
<p>An address hint can be passed to the system, specifying the desired start address of the shared memory area. Whether the hint is actually honored is, however, up to the system. Windows platform will generally ignore the hint.</p>
<p>If server is set to true, the shared memory region will be unlinked by calling shm_unlink() (on POSIX platforms) when the <a class="reference internal" href="#doxid-class-poco-1-1-shared-memory"><span class="std std-ref">SharedMemory</span></a> object is destroyed. The server parameter is ignored on Windows platforms.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-shared-memory-1a550a7f770b6529db9902bf56eeccf16a">
<span id="index-3"></span><span></span><span class="n">SharedMemory</span><span class="p">(</span>
    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <a class="reference internal" href="class_Poco_File.html#doxid-class-poco-1-1-file"><span class="std std-ref">File</span></a><span></span><span class="o">&amp;</span> <span class="n">file</span><span class="p">,</span>
    <a class="reference internal" href="enum_Poco_SharedMemory_AccessMode.html#doxid-class-poco-1-1-shared-memory-1a12ab0f4ee9f7fa6b90387507a0a141ee"><span class="std std-ref">AccessMode</span></a><span></span> <span class="n">mode</span><span class="p">,</span>
    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="kt">void</span><span class="o">*</span> <span class="n">addrHint</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="p">)</span>
</pre>
<p>Maps the entire contents of file into a shared memory segment.</p>
<p>An address hint can be passed to the system, specifying the desired start address of the shared memory area. Whether the hint is actually honored is, however, up to the system. Windows platform will generally ignore the hint.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-shared-memory-1a785d35b31169c4ebb3a9ecd297a4e433">
<span id="index-4"></span><span></span><span class="n">SharedMemory</span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">SharedMemory</span><span class="o">&amp;</span> <span class="n">other</span><span class="p">)</span>
</pre>
<p>Creates a <a class="reference internal" href="#doxid-class-poco-1-1-shared-memory"><span class="std std-ref">SharedMemory</span></a> object by copying another one.</p>
</div>
<div class="section" id="methods">
<h3>Methods</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-shared-memory-1af44d4725029fe0d5d5f9075f861cc0f0">
<span id="index-5"></span><span></span><span class="n">SharedMemory</span><span class="o">&amp;</span>
<span class="k">operator</span><span class="o">=</span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">SharedMemory</span><span class="o">&amp;</span> <span class="n">other</span><span class="p">)</span>
</pre>
<p>Assigns another <a class="reference internal" href="#doxid-class-poco-1-1-shared-memory"><span class="std std-ref">SharedMemory</span></a> object.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-shared-memory-1ad82086a99f7e2ddc8e9c79239c2e974a">
<span id="index-6"></span><span></span><span class="kt">void</span>
<span class="n">swap</span><span class="p">(</span><span class="n">SharedMemory</span><span class="o">&amp;</span> <span class="n">other</span><span class="p">)</span>
</pre>
<p>Swaps the <a class="reference internal" href="#doxid-class-poco-1-1-shared-memory"><span class="std std-ref">SharedMemory</span></a> object with another one.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-shared-memory-1a4a90f2c4960f59a4b048c4ab525513f2">
<span id="index-7"></span><span></span><span class="kt">char</span><span class="o">*</span>
<span class="n">begin</span><span class="p">()</span> <span class="k">const</span>
</pre>
<p>Returns the start address of the shared memory segment.</p>
<p>Will be NULL for illegal segments.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-shared-memory-1ac63f1952a055839712945338a25abc50">
<span id="index-8"></span><span></span><span class="kt">char</span><span class="o">*</span>
<span class="n">end</span><span class="p">()</span> <span class="k">const</span>
</pre>
<p>Returns the one-past-end end address of the shared memory segment.</p>
<p>Will be NULL for illegal segments.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="enum_Poco_SharedMemory_AccessMode.html" title="enum Poco::SharedMemory::AccessMode"
             >next</a> |</li>
        <li class="right" >
          <a href="enum_Poco_SharedLibraryImpl_Flags.html" title="enum Poco::SharedLibraryImpl::Flags"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">POCO C++ Libraries Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="global.html" >Global Namespace</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="namespace_Poco.html" >namespace Poco</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005-2017, POCO Maintainers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>