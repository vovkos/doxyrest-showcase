
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>template class Poco::SharedPtr &#8212; POCO C++ Libraries Documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-sphinxdoc.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/target-highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="class Poco::SiblingsFirstTraverse" href="class_Poco_SiblingsFirstTraverse.html" />
    <link rel="prev" title="class Poco::SharedMemoryImpl" href="class_Poco_SharedMemoryImpl.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="class_Poco_SiblingsFirstTraverse.html" title="class Poco::SiblingsFirstTraverse"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="class_Poco_SharedMemoryImpl.html" title="class Poco::SharedMemoryImpl"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">POCO C++ Libraries Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="global.html" >Global Namespace</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="namespace_Poco.html" accesskey="U">namespace Poco</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">template class Poco::SharedPtr</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#detailed-documentation">Detailed Documentation</a><ul>
<li><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="class_Poco_SharedMemoryImpl.html"
                        title="previous chapter">class Poco::SharedMemoryImpl</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="class_Poco_SiblingsFirstTraverse.html"
                        title="next chapter">class Poco::SiblingsFirstTraverse</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="template-class-poco-sharedptr">
<span id="doxid-class-poco-1-1-shared-ptr"></span><span id="index-0"></span><h1>template class Poco::SharedPtr</h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="overview">
<h2>Overview</h2>
<p><a class="reference internal" href="#doxid-class-poco-1-1-shared-ptr"><span class="std std-ref">SharedPtr</span></a> is a “smart” pointer for classes implementing reference counting based garbage collection. <a class="reference internal" href="#details-class-poco-1-1-shared-ptr"><span class="std std-ref">More…</span></a></p>
<pre class="highlight doxyrest-overview-code-block literal-block">
<span></span><span class="cp">#include</span> <span class="cpf">&lt;SharedPtr.h&gt;</span><span class="cp"></span>

<span class="k">template</span> <span class="o">&lt;</span>
    <span class="k">class</span> <span class="n">C</span><span class="p">,</span>
    <span class="k">class</span> <span class="n">RC</span> <span class="o">=</span> <span class="n">ReferenceCounter</span><span class="p">,</span>
    <span class="k">class</span> <span class="n">RP</span> <span class="o">=</span> <span class="n">ReleasePolicy</span><span class="o">&lt;</span><span class="n">C</span><span class="o">&gt;</span>
    <span class="o">&gt;</span>
<span class="k">class</span> <span class="n">SharedPtr</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="c1">// construction</span>

    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a69136e0f7c3cfcfaec21d636d1f29d15">SharedPtr</span><span></span><span class="p">();</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a1ef6bd4265a822266a285edbf48f5881">SharedPtr</span><span></span><span class="p">(</span><span class="n">C</span><span class="o">*</span> <span class="n">ptr</span><span class="p">);</span>

    <span class="k">template</span> <span class="o">&lt;</span>
        <span class="k">class</span> <span class="n">Other</span><span class="p">,</span>
        <span class="k">class</span> <span class="n">OtherRP</span>
        <span class="o">&gt;</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a5b68be38235108d59a8dd08fc847969c">SharedPtr</span><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">SharedPtr</span><span class="o">&lt;</span><span class="n">Other</span><span class="p">,</span> <span class="n">RC</span><span class="p">,</span> <span class="n">OtherRP</span><span class="o">&gt;&amp;</span> <span class="n">ptr</span><span class="p">);</span>

    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a7faa546e26359998c907883898136069">SharedPtr</span><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">SharedPtr</span><span class="o">&amp;</span> <span class="n">ptr</span><span class="p">);</span>

    <span class="c1">// methods</span>

    <span class="n">SharedPtr</span><span class="o">&amp;</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1aa7798e7525f06e16e1d5b1a6ac5825d9">assign</span><span></span><span class="p">(</span><span class="n">C</span><span class="o">*</span> <span class="n">ptr</span><span class="p">);</span>

    <span class="n">SharedPtr</span><span class="o">&amp;</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a68ebe42bdfe80e1aa26e662a6c06f4b1">assign</span><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">SharedPtr</span><span class="o">&amp;</span> <span class="n">ptr</span><span class="p">);</span>

    <span class="k">template</span> <span class="o">&lt;</span>
        <span class="k">class</span> <span class="n">Other</span><span class="p">,</span>
        <span class="k">class</span> <span class="n">OtherRP</span>
        <span class="o">&gt;</span>
    <span class="n">SharedPtr</span><span class="o">&amp;</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a2db62669f501992ff16526f62017fe1f">assign</span><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">SharedPtr</span><span class="o">&lt;</span><span class="n">Other</span><span class="p">,</span> <span class="n">RC</span><span class="p">,</span> <span class="n">OtherRP</span><span class="o">&gt;&amp;</span> <span class="n">ptr</span><span class="p">);</span>

    <span class="n">SharedPtr</span><span class="o">&amp;</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1ab1c45ce764075a32d6bf49154a01bafa">operator=</span><span></span><span class="p">(</span><span class="n">C</span><span class="o">*</span> <span class="n">ptr</span><span class="p">);</span>

    <span class="n">SharedPtr</span><span class="o">&amp;</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a54b6cc6fd74b63ff9597af7900738cb9">operator=</span><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">SharedPtr</span><span class="o">&amp;</span> <span class="n">ptr</span><span class="p">);</span>

    <span class="k">template</span> <span class="o">&lt;</span>
        <span class="k">class</span> <span class="n">Other</span><span class="p">,</span>
        <span class="k">class</span> <span class="n">OtherRP</span>
        <span class="o">&gt;</span>
    <span class="n">SharedPtr</span><span class="o">&amp;</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a1dd93ea4444022fd59d926b7527a0cc2">operator=</span><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">SharedPtr</span><span class="o">&lt;</span><span class="n">Other</span><span class="p">,</span> <span class="n">RC</span><span class="p">,</span> <span class="n">OtherRP</span><span class="o">&gt;&amp;</span> <span class="n">ptr</span><span class="p">);</span>

    <span class="kt">void</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a541b6d966bf0a6601ef3c92a97fbefa6">swap</span><span></span><span class="p">(</span><span class="n">SharedPtr</span><span class="o">&amp;</span> <span class="n">ptr</span><span class="p">);</span>

    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="n">Other</span><span class="o">&gt;</span>
    <span class="n">SharedPtr</span><span class="o">&lt;</span><span class="n">Other</span><span class="p">,</span> <span class="n">RC</span><span class="p">,</span> <span class="n">RP</span><span class="o">&gt;</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-shared-ptr-1a29994113a9418dd384751d41404b674c"><span class="std std-ref">cast</span></a><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

    <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="n">Other</span><span class="o">&gt;</span>
    <span class="n">SharedPtr</span><span class="o">&lt;</span><span class="n">Other</span><span class="p">,</span> <span class="n">RC</span><span class="p">,</span> <span class="n">RP</span><span class="o">&gt;</span>
    <a class="reference internal" href="#doxid-class-poco-1-1-shared-ptr-1abcc33fac6cc6913945b6cea2559bcc7e"><span class="std std-ref">unsafeCast</span></a><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

    <span class="n">C</span><span class="o">*</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1accbe0041dd0ce10adfa90ad722ad7010">operator-&gt;</span><span></span><span class="p">();</span>

    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">C</span><span class="o">*</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1aec759def94e3fd3bb227860a7fa9ea26">operator-&gt;</span><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

    <span class="n">C</span><span class="o">&amp;</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1aa3b712bed3a3d1931863b730b0d00e63">operator*</span><span></span><span class="p">();</span>

    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">C</span><span class="o">&amp;</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1ad2d189d52befef0482eb280bf6726f1b">operator*</span><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

    <span class="n">C</span><span class="o">*</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1abc171304dafde7cbad510571a53b3580">get</span><span></span><span class="p">();</span>

    <a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">C</span><span class="o">*</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a2f894c2c8c87fbe889e0d591a1df66d9">get</span><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a03db8db54e3b7785101d982c45496e0d">operator C*</span><span></span><span class="p">();</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1abaf63777abe499891c4e7a420d9a2c99">operator const C *</span><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">bool</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1ae2a6061b68dcbae473e53cdc82929ab2">operator!</span><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">bool</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1af04598ca0ecf598802c144836cfd3b5a">isNull</span><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">bool</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a5f3cf816cf9c4331a71e5b3e7fab7c51">operator==</span><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">SharedPtr</span><span class="o">&amp;</span> <span class="n">ptr</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">bool</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1adc30623884cbf3d98bcb0a5e1a49dbd1">operator==</span><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">C</span><span class="o">*</span> <span class="n">ptr</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">bool</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a783190b2075b1c71d16ef6910a83191f">operator==</span><span></span><span class="p">(</span><span class="n">C</span><span class="o">*</span> <span class="n">ptr</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">bool</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a02e9146a97b73743db41791f28626acd">operator!=</span><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">SharedPtr</span><span class="o">&amp;</span> <span class="n">ptr</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">bool</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a69eb915a75c893b9e19b6c4a05b5d2ea">operator!=</span><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">C</span><span class="o">*</span> <span class="n">ptr</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">bool</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a7920771c9877a0a078fb76acc9e7e075">operator!=</span><span></span><span class="p">(</span><span class="n">C</span><span class="o">*</span> <span class="n">ptr</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">bool</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1af4ce5c686f43f82a3afeefbaaee8f64e">operator&lt;</span><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">SharedPtr</span><span class="o">&amp;</span> <span class="n">ptr</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">bool</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a44d82b9a668752ffaa9dae2436183589">operator&lt;</span><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">C</span><span class="o">*</span> <span class="n">ptr</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">bool</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1afb3afeb8d73cfe1a34c57fcea0d9c9f0">operator&lt;</span><span></span><span class="p">(</span><span class="n">C</span><span class="o">*</span> <span class="n">ptr</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">bool</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a7874aba0a7a385c6d873f0243872d717">operator&lt;=</span><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">SharedPtr</span><span class="o">&amp;</span> <span class="n">ptr</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">bool</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a47e649e04c9dcc6378567304651a9384">operator&lt;=</span><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">C</span><span class="o">*</span> <span class="n">ptr</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">bool</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a22381b5b606dc86ac2464ce72c5c3640">operator&lt;=</span><span></span><span class="p">(</span><span class="n">C</span><span class="o">*</span> <span class="n">ptr</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">bool</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1ade77ebfc728b59c6e3009b78165a7490">operator&gt;</span><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">SharedPtr</span><span class="o">&amp;</span> <span class="n">ptr</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">bool</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a73ff80e2a70012e9e1eb348a968db791">operator&gt;</span><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">C</span><span class="o">*</span> <span class="n">ptr</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">bool</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a6c40e5666bfe89d120e03d16de52bef2">operator&gt;</span><span></span><span class="p">(</span><span class="n">C</span><span class="o">*</span> <span class="n">ptr</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">bool</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a7ec2506482a0c669ed4ea69317b26aa4">operator&gt;=</span><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">SharedPtr</span><span class="o">&amp;</span> <span class="n">ptr</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">bool</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a69aef017e719cb5fd8bce65116a39305">operator&gt;=</span><span></span><span class="p">(</span><a class="reference internal" href="global.html#doxid-zconf-8h-1a2c212835823e3c54a8ab6d95c652660e"><span class="std std-ref">const</span></a><span></span> <span class="n">C</span><span class="o">*</span> <span class="n">ptr</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">bool</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1a488df484b942b59f98dcd18cb11ef473">operator&gt;=</span><span></span><span class="p">(</span><span class="n">C</span><span class="o">*</span> <span class="n">ptr</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

    <span class="kt">int</span>
    <span class="doxyrest-code-target target" id="doxid-class-poco-1-1-shared-ptr-1ad5af5ede1cbb1174f4f7668bbf2981e5">referenceCount</span><span></span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
<span class="p">};</span>
</pre>
</div>
<div class="section" id="detailed-documentation">
<span id="details-class-poco-1-1-shared-ptr"></span><h2>Detailed Documentation</h2>
<p><a class="reference internal" href="#doxid-class-poco-1-1-shared-ptr"><span class="std std-ref">SharedPtr</span></a> is a “smart” pointer for classes implementing reference counting based garbage collection.</p>
<p><a class="reference internal" href="#doxid-class-poco-1-1-shared-ptr"><span class="std std-ref">SharedPtr</span></a> is thus similar to <a class="reference internal" href="class_Poco_AutoPtr.html#doxid-class-poco-1-1-auto-ptr"><span class="std std-ref">AutoPtr</span></a>. Unlike the <a class="reference internal" href="class_Poco_AutoPtr.html#doxid-class-poco-1-1-auto-ptr"><span class="std std-ref">AutoPtr</span></a> template, which can only be used with classes that support reference counting, <a class="reference internal" href="#doxid-class-poco-1-1-shared-ptr"><span class="std std-ref">SharedPtr</span></a> can be used with any class. For this to work, a <a class="reference internal" href="#doxid-class-poco-1-1-shared-ptr"><span class="std std-ref">SharedPtr</span></a> manages a reference count for the object it manages.</p>
<p><a class="reference internal" href="#doxid-class-poco-1-1-shared-ptr"><span class="std std-ref">SharedPtr</span></a> works in the following way: If an <a class="reference internal" href="#doxid-class-poco-1-1-shared-ptr"><span class="std std-ref">SharedPtr</span></a> is assigned an ordinary pointer to an object (via the constructor or the assignment operator), it takes ownership of the object and the object’s reference count is initialized to one. If the <a class="reference internal" href="#doxid-class-poco-1-1-shared-ptr"><span class="std std-ref">SharedPtr</span></a> is assigned another <a class="reference internal" href="#doxid-class-poco-1-1-shared-ptr"><span class="std std-ref">SharedPtr</span></a>, the object’s reference count is incremented by one. The destructor of <a class="reference internal" href="#doxid-class-poco-1-1-shared-ptr"><span class="std std-ref">SharedPtr</span></a> decrements the object’s reference count by one and deletes the object if the reference count reaches zero. <a class="reference internal" href="#doxid-class-poco-1-1-shared-ptr"><span class="std std-ref">SharedPtr</span></a> supports dereferencing with both the -&gt; and the * operator. An attempt to dereference a null <a class="reference internal" href="#doxid-class-poco-1-1-shared-ptr"><span class="std std-ref">SharedPtr</span></a> results in a NullPointerException being thrown. <a class="reference internal" href="#doxid-class-poco-1-1-shared-ptr"><span class="std std-ref">SharedPtr</span></a> also implements all relational operators and a cast operator in case dynamic casting of the encapsulated data types is required.</p>
<div class="section" id="methods">
<h3>Methods</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-shared-ptr-1a29994113a9418dd384751d41404b674c">
<span id="index-1"></span><span></span><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="n">Other</span><span class="o">&gt;</span>
<span class="n">SharedPtr</span><span class="o">&lt;</span><span class="n">Other</span><span class="p">,</span> <span class="n">RC</span><span class="p">,</span> <span class="n">RP</span><span class="o">&gt;</span>
<span class="n">cast</span><span class="p">()</span> <span class="k">const</span>
</pre>
<p>Casts the <a class="reference internal" href="#doxid-class-poco-1-1-shared-ptr"><span class="std std-ref">SharedPtr</span></a> via a dynamic cast to the given type.</p>
<p>Returns an <a class="reference internal" href="#doxid-class-poco-1-1-shared-ptr"><span class="std std-ref">SharedPtr</span></a> containing NULL if the cast fails. Example: (assume class Sub: public Super)</p>
<pre class="highlight literal-block">
<span></span><span class="n">SharedPtr</span><span class="o">&lt;</span><span class="n">Super</span><span class="o">&gt;</span> <span class="n">super</span><span class="p">(</span><span class="k">new</span> <span class="n">Sub</span><span class="p">());</span>
<span class="n">SharedPtr</span><span class="o">&lt;</span><span class="n">Sub</span><span class="o">&gt;</span> <span class="n">sub</span> <span class="o">=</span> <span class="n">super</span><span class="p">.</span><span class="n">cast</span><span class="o">&lt;</span><span class="n">Sub</span><span class="o">&gt;</span><span class="p">();</span>
<span class="n">poco_assert</span> <span class="p">(</span><span class="n">sub</span><span class="p">.</span><span class="n">get</span><span class="p">());</span>
</pre>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-class-poco-1-1-shared-ptr-1abcc33fac6cc6913945b6cea2559bcc7e">
<span id="index-2"></span><span></span><span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="n">Other</span><span class="o">&gt;</span>
<span class="n">SharedPtr</span><span class="o">&lt;</span><span class="n">Other</span><span class="p">,</span> <span class="n">RC</span><span class="p">,</span> <span class="n">RP</span><span class="o">&gt;</span>
<span class="n">unsafeCast</span><span class="p">()</span> <span class="k">const</span>
</pre>
<p>Casts the <a class="reference internal" href="#doxid-class-poco-1-1-shared-ptr"><span class="std std-ref">SharedPtr</span></a> via a static cast to the given type.</p>
<p>Example: (assume class Sub: public Super)</p>
<pre class="highlight literal-block">
<span></span><span class="n">SharedPtr</span><span class="o">&lt;</span><span class="n">Super</span><span class="o">&gt;</span> <span class="n">super</span><span class="p">(</span><span class="k">new</span> <span class="n">Sub</span><span class="p">());</span>
<span class="n">SharedPtr</span><span class="o">&lt;</span><span class="n">Sub</span><span class="o">&gt;</span> <span class="n">sub</span> <span class="o">=</span> <span class="n">super</span><span class="p">.</span><span class="n">unsafeCast</span><span class="o">&lt;</span><span class="n">Sub</span><span class="o">&gt;</span><span class="p">();</span>
<span class="n">poco_assert</span> <span class="p">(</span><span class="n">sub</span><span class="p">.</span><span class="n">get</span><span class="p">());</span>
</pre>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="class_Poco_SiblingsFirstTraverse.html" title="class Poco::SiblingsFirstTraverse"
             >next</a> |</li>
        <li class="right" >
          <a href="class_Poco_SharedMemoryImpl.html" title="class Poco::SharedMemoryImpl"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">POCO C++ Libraries Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="global.html" >Global Namespace</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="namespace_Poco.html" >namespace Poco</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2005-2017, POCO Maintainers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>